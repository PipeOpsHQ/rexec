import{p as e,a as s,B as t,l,b as a,x as n,k as i,m as o,c as r,i as c,f as v,E as d,$ as h,u as p,s as u,K as m,v as y,z as b,e as g,j as f,y as z,n as k,t as w,M as x,G as _,R as C,r as M,T as $,O as A,q as S,H as P,A as T,F as B,I as F,J as D,w as V,U,V as L,W as j,o as H}from"./svelte-V7cO9hUs.js";import{a as O,s as N,u as R,t as E,c as I,S as q,i as G,b as K,w as W,r as J}from"./index-CRn00pAv.js";import{a as Y}from"./agents-D822ccJ4.js";import{terminal as Q,connectedContainerIds as X}from"./terminal-vHmRho9z.js";import{a as Z,f as ee,b as se,c as te,d as le}from"./api-8FEFXOUZ.js";import{C as ae}from"./ConfirmModal-CoRmAqUq.js";import{P as ne}from"./PlatformIcon-BxQPpkf2.js";import"./vendor-CPGM4lnp.js";var ie=v('<div class="tabs svelte-6598oy"><button>General</button> <button>Port Forwarding</button></div>'),oe=v('<div class="info-item svelte-6598oy"><span class="info-label svelte-6598oy">OS</span> <span class="info-value svelte-6598oy"> </span></div>'),re=v('<div class="info-item svelte-6598oy"><span class="info-label svelte-6598oy">Arch</span> <span class="info-value svelte-6598oy"> </span></div>'),ce=v('<div class="info-item svelte-6598oy"><span class="info-label svelte-6598oy">Shell</span> <span class="info-value svelte-6598oy"> </span></div>'),ve=v('<div class="info-item svelte-6598oy"><span class="info-label svelte-6598oy">Hostname</span> <span class="info-value svelte-6598oy"> </span></div>'),de=v('<div class="agent-info-section svelte-6598oy"><span class="section-title svelte-6598oy">System Info</span> <div class="agent-info-grid svelte-6598oy"><!> <!> <!> <!></div></div>'),he=v('<span class="mfa-error svelte-6598oy"> </span>'),pe=v('<div class="mfa-unlock-form svelte-6598oy"><input type="text" placeholder="000000" maxlength="6" class="input mfa-code-input svelte-6598oy"/> <button class="btn btn-sm mfa-unlock-btn svelte-6598oy"> </button></div> <!>',1),ue=v('<button class="btn btn-sm mfa-lock-btn svelte-6598oy"><svg class="icon svelte-6598oy" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg> </button>'),me=v('<div class="section-header svelte-6598oy" style="margin-top: 16px;"><span class="section-title svelte-6598oy">Security</span></div> <div class="mfa-lock-section svelte-6598oy"><div class="mfa-lock-info svelte-6598oy"><span class="mfa-lock-label svelte-6598oy"><svg class="mfa-icon svelte-6598oy" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg> MFA Lock</span> <span class="mfa-lock-desc svelte-6598oy"><!></span></div> <div class="mfa-lock-action svelte-6598oy"><!></div></div>',1),ye=v('<div class="form-group svelte-6598oy"><label for="agent-name" class="svelte-6598oy">Agent Name</label> <input id="agent-name" type="text" placeholder="my-server" class="input svelte-6598oy"/></div> <div class="form-group svelte-6598oy"><label for="agent-description" class="svelte-6598oy">Description</label> <input id="agent-description" type="text" placeholder="Production web server" class="input svelte-6598oy"/> <span class="input-hint svelte-6598oy">Optional description for this agent</span></div> <!> <!>',1),be=v('<span class="trial-badge svelte-6598oy">Trial Limits</span>'),ge=v('<p class="upgrade-hint svelte-6598oy">Upgrade to Pro for more resources (4GB RAM, 4 vCPU,\n                            20GB Disk).</p>'),fe=v('<span class="mfa-error svelte-6598oy"> </span>'),ze=v('<div class="mfa-unlock-form svelte-6598oy"><input type="text" placeholder="000000" maxlength="6" class="input mfa-code-input svelte-6598oy"/> <button class="btn btn-sm mfa-unlock-btn svelte-6598oy"> </button></div> <!>',1),ke=v('<button class="btn btn-sm mfa-lock-btn svelte-6598oy"><svg class="icon svelte-6598oy" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg> </button>'),we=v('<div class="section-header svelte-6598oy" style="margin-top: 16px;"><span class="section-title svelte-6598oy">Security</span></div> <div class="mfa-lock-section svelte-6598oy"><div class="mfa-lock-info svelte-6598oy"><span class="mfa-lock-label svelte-6598oy"><svg class="mfa-icon svelte-6598oy" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg> MFA Lock</span> <span class="mfa-lock-desc svelte-6598oy"><!></span></div> <div class="mfa-lock-action svelte-6598oy"><!></div></div>',1),xe=v('<div class="form-group svelte-6598oy"><label for="terminal-name" class="svelte-6598oy">Terminal Name</label> <input id="terminal-name" type="text" placeholder="my-terminal" class="input svelte-6598oy"/></div> <div class="section-header svelte-6598oy"><span class="section-title svelte-6598oy">Resources</span> <!></div> <div class="form-group svelte-6598oy"><label for="memory" class="svelte-6598oy">Memory <span class="value-display svelte-6598oy"> </span></label> <input id="memory" type="range" step="128" class="slider svelte-6598oy"/> <div class="range-labels svelte-6598oy"><span> </span> <span> </span></div></div> <div class="form-group svelte-6598oy"><label for="cpu" class="svelte-6598oy">CPU <span class="value-display svelte-6598oy"> </span></label> <input id="cpu" type="range" step="128" class="slider svelte-6598oy"/> <div class="range-labels svelte-6598oy"><span> </span> <span> </span></div></div> <div class="form-group svelte-6598oy"><label for="disk" class="svelte-6598oy">Disk <span class="value-display svelte-6598oy"> </span></label> <input id="disk" type="range" step="512" class="slider svelte-6598oy"/> <div class="range-labels svelte-6598oy"><span> </span> <span> </span></div></div> <p class="note svelte-6598oy"><svg class="note-icon svelte-6598oy" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><path d="M12 16v-4M12 8h.01"></path></svg> Resource changes require terminal restart to take effect.</p> <!> <!>',1),_e=v('<div class="loading-state"><div class="spinner-sm svelte-6598oy"></div> <p>Loading...</p></div>'),Ce=v('<div class="empty-state svelte-6598oy"><div class="empty-icon svelte-6598oy"><!></div> <p>No active port forwards.</p></div>'),Me=v('<div class="forward-card svelte-6598oy"><div class="forward-info svelte-6598oy"><div class="forward-header svelte-6598oy"><span class="forward-name svelte-6598oy"> </span> <span class="port-badge svelte-6598oy"> </span></div> <div class="forward-url svelte-6598oy"><a target="_blank" rel="noopener" class="proxy-link svelte-6598oy"> </a></div></div> <div class="forward-actions svelte-6598oy"><button class="btn btn-primary btn-xs svelte-6598oy" title="Open in browser">Open</button> <button class="btn btn-secondary btn-xs svelte-6598oy" title="Copy URL">Copy</button> <button class="btn btn-danger btn-xs svelte-6598oy">Stop</button></div></div>'),$e=v('<div class="forwards-list svelte-6598oy"></div>'),Ae=v('<div class="port-forwards-header svelte-6598oy"><p class="section-description svelte-6598oy">Access services running in your terminal (like\n                            localhost:8080) directly from your browser.</p> <button class="btn btn-primary btn-sm svelte-6598oy">+ Add Forward</button></div> <!>',1),Se=v('<span class="spinner-sm svelte-6598oy"></span> Saving...',1),Pe=v('<button class="btn btn-cancel svelte-6598oy">Cancel</button> <button class="btn btn-confirm svelte-6598oy"><!></button>',1),Te=v('<button class="btn btn-cancel svelte-6598oy">Close</button>'),Be=v('<div class="modal-overlay-nested svelte-6598oy" role="dialog" aria-modal="true" aria-labelledby="add-forward-title" tabindex="-1"><div class="modal-container-nested svelte-6598oy"><div class="modal-header svelte-6598oy"><h3 id="add-forward-title" class="modal-title svelte-6598oy">Add Port Forward</h3> <button class="close-btn svelte-6598oy" aria-label="Close"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16" class="svelte-6598oy"><path d="M18 6L6 18M6 6l12 12"></path></svg></button></div> <div class="modal-body svelte-6598oy"><div class="form-group svelte-6598oy"><label for="pf-name" class="svelte-6598oy">Name (Optional)</label> <input id="pf-name" type="text" placeholder="e.g. Web Server" class="input svelte-6598oy"/></div> <div class="form-row svelte-6598oy"><div class="form-group svelte-6598oy"><label for="pf-container" class="svelte-6598oy">Container Port</label> <input id="pf-container" type="number" placeholder="8080" class="input svelte-6598oy" min="1" max="65535"/> <small class="form-hint svelte-6598oy">The port your app is listening on inside the\n                                container</small></div></div></div> <div class="modal-actions svelte-6598oy"><button class="btn btn-cancel svelte-6598oy">Cancel</button> <button class="btn btn-confirm svelte-6598oy"> </button></div></div></div>'),Fe=v('<div class="modal-backdrop svelte-6598oy"><div class="modal-container svelte-6598oy"><div class="modal-header svelte-6598oy"><div class="modal-icon svelte-6598oy"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-6598oy"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg></div> <h2 class="modal-title svelte-6598oy"> </h2> <button class="close-btn svelte-6598oy"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-6598oy"><path d="M18 6L6 18M6 6l12 12"></path></svg></button></div> <!> <div class="modal-body svelte-6598oy"><!></div> <div class="modal-actions svelte-6598oy"><!></div> <div class="modal-border-glow svelte-6598oy"></div></div></div> <!>',1),De=v("<!> <!>",1);function Ve(v,S){e(S,!1);const V=()=>n(O,"$auth",j),U=()=>n(N,"$subscriptionActive",j),L=()=>n(R,"$userTier",j),[j,H]=z(),G=o(),K=o(),W=o(),J=o();let Y=s(S,"show",12,!1),X=s(S,"container",8,null),le=s(S,"isPaidUser",8,!1);const ne=t();let Ve=o("settings"),Ue=o(""),Le=o(""),je=o(512),He=o(512),Oe=o(2048),Ne=o(!1),Re=o(!1),Ee=o([]),Ie=o(!1),qe=o(!1),Ge=o(""),Ke=o(""),We=o(!1),Je=o(!1),Ye=o(null),Qe=o(""),Xe=o(""),Ze=o(!1);async function es(){if(!X())return;if(!i(K))return void E.error("Enable MFA in account settings first");const e=X().db_id||X().id;u(Ze,!0);try{const s=await fetch(`/api/security/terminal/${e}/mfa-lock`,{method:"POST",headers:{Authorization:`Bearer ${V().token}`,"Content-Type":"application/json"}}),t=await s.json();if(!s.ok)return void E.error(t.message||t.error||"Failed to lock terminal");if(E.success("Terminal is now protected with MFA"),X()){const e={...X(),mfa_locked:!0};ne("updated",e)}await I.fetchContainers()}catch(s){E.error("Failed to lock terminal")}finally{u(Ze,!1)}}async function ss(){if(!X()||6!==i(Qe).length)return void u(Xe,"Enter a valid 6-digit code");const e=X().db_id||X().id;u(Ze,!0),u(Xe,"");try{const s=await fetch(`/api/security/terminal/${e}/mfa-unlock`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${V().token}`},body:JSON.stringify({code:i(Qe)})}),t=await s.json();if(!s.ok)return void u(Xe,t.error||"Invalid code");if(E.success("Terminal MFA lock removed"),X()){const e={...X(),mfa_locked:!1};ne("updated",e)}u(Qe,""),await I.fetchContainers()}catch(s){u(Xe,"Failed to verify code")}finally{u(Ze,!1)}}function ts(){u(Ge,""),u(Ke,""),u(qe,!0)}function ls(){u(qe,!1),u(Ge,""),u(Ke,"")}async function as(){const e=X()?.db_id||X()?.id;if(!e)return;if(!i(Ke))return void E.error("Please specify the container port");const s=parseInt(i(Ke).toString(),10);if(isNaN(s)||s<=0||s>65535)return void E.error("Invalid port number. Must be between 1 and 65535.");u(We,!0);const{data:t,error:l}=await Z.post(`/api/containers/${e}/port-forwards`,{name:i(Ge).trim(),container_id:e,container_port:s,local_port:s});t?(u(Ee,[...i(Ee),t]),E.success("Port forward added"),ls()):E.error(l||"Failed to add port forward"),u(We,!1)}function ns(){ne("close"),Y(!1)}async function is(){if(X()){u(Ne,!0);try{if(i(G)){const e=X().id.replace("agent:",""),s=await Z.patch(`/api/agents/${e}`,{name:i(Ue).trim(),description:i(Le).trim()});s.ok?(E.success("Agent settings updated"),I.update(e=>({...e,containers:e.containers.map(e=>e.id===X().id?{...e,name:i(Ue).trim()}:e)})),ns(),I.fetchContainers()):E.error(s.error||"Failed to update agent settings")}else{const e=X().db_id||X().id;if(!e)return void E.error("Terminal ID not found");const s=await Z.patch(`/api/containers/${e}/settings`,{name:i(Ue).trim(),memory_mb:i(je),cpu_shares:i(He),disk_mb:i(Oe)});if(s.ok){const e=s.data;if(e.restarted&&e.container){const s=X().id,t=e.container.id;s&&t&&(E.success("Settings updated - reconnecting to new container..."),Q.updateSessionContainerId(s,t))}else E.success("Terminal settings updated");e.container&&ne("updated",e.container),ns(),I.clearCreating(),I.fetchContainers()}else E.error(s.error||"Failed to update settings")}}catch(e){E.error("Failed to update settings")}finally{u(Ne,!1)}}}l(()=>a(X()),()=>{u(G,X()?.id?.startsWith("agent:")??!1)}),l(()=>V(),()=>{u(K,V().user?.mfaEnabled||!1)}),l(()=>a(X()),()=>{u(W,X()?.mfa_locked||!1)}),l(()=>(U(),L()),()=>{u(J,(()=>{if(U())return{minMemory:256,maxMemory:4096,minCPU:250,maxCPU:4e3,minDisk:1024,maxDisk:20480};switch(L()){case"guest":return{minMemory:256,maxMemory:512,minCPU:250,maxCPU:500,minDisk:1024,maxDisk:2048};case"free":default:return{minMemory:256,maxMemory:2048,minCPU:250,maxCPU:2e3,minDisk:1024,maxDisk:10240};case"pro":return{minMemory:256,maxMemory:4096,minCPU:250,maxCPU:4e3,minDisk:1024,maxDisk:20480};case"enterprise":return{minMemory:256,maxMemory:8192,minCPU:250,maxCPU:8e3,minDisk:1024,maxDisk:51200}}})())}),l(()=>(a(Y()),a(X()),i(Re)),()=>{Y()&&X()&&!i(Re)&&(!function(){if(!X())return;u(Ue,X().name||""),u(Le,X().description||"");const e=X().resources?.memory_mb??512,s=X().resources?.cpu_shares??512,t=X().resources?.disk_mb??2048;u(je,Math.max(i(J).minMemory,Math.min(e,i(J).maxMemory))),u(He,Math.max(i(J).minCPU,Math.min(s,i(J).maxCPU))),u(Oe,Math.max(i(J).minDisk,Math.min(t,i(J).maxDisk)))}(),u(Re,!0))}),l(()=>a(Y()),()=>{Y()||u(Re,!1)}),l(()=>(a(Y()),a(X()),i(Ve)),()=>{Y()&&X()&&"port-forwards"===i(Ve)&&async function(){const e=X()?.db_id||X()?.id;if(!e)return;u(Ie,!0);const{data:s,error:t}=await Z.get(`/api/containers/${e}/port-forwards`);s?u(Ee,s.forwards||[]):t&&E.error(t||"Failed to load port forwards"),u(Ie,!1)}()}),r(),c();var os=De();d("keydown",h,function(e){Y()&&"Escape"===e.key&&ns()});var rs=p(os);{let e=m(()=>(i(Ye),_(()=>i(Ye)?`Are you sure you want to stop forwarding port ${i(Ye).name}?`:"")));ae(rs,{title:"Stop Port Forwarding",get message(){return i(e)},confirmText:"Stop",cancelText:"Cancel",variant:"danger",get show(){return i(Je)},set show(e){u(Je,e)},$$events:{confirm:async function(){const e=X()?.db_id||X()?.id;if(!e||!i(Ye))return;const{id:s}=i(Ye);u(Ye,null);const{error:t}=await Z.delete(`/api/containers/${e}/port-forwards/${s}`);t?E.error(t||"Failed to stop port forward"):(u(Ee,i(Ee).filter(e=>e.id!==s)),E.success("Port forward stopped"))},cancel:function(){u(Ye,null)}},$$legacy:!0})}var cs=b(rs,2),vs=e=>{var s=Fe(),t=p(s),l=k(t),n=k(l),o=b(k(n),2),r=k(o);b(o,2).__click=ns;var c=b(n,2),v=e=>{var s=ie(),t=k(s);let l;t.__click=()=>u(Ve,"settings");var a=b(t,2);let n;a.__click=()=>u(Ve,"port-forwards"),w(()=>{l=P(t,1,"tab-btn svelte-6598oy",null,l,{active:"settings"===i(Ve)}),n=P(a,1,"tab-btn svelte-6598oy",null,n,{active:"port-forwards"===i(Ve)})}),g(e,s)};y(c,e=>{i(G)||e(v)});var d=b(c,2),h=k(d),m=e=>{var s=ye(),t=p(s),l=b(k(t),2),n=b(t,2),o=b(k(n),2),r=b(n,2),c=e=>{var s=de(),t=b(k(s),2),l=k(t),n=e=>{var s=oe(),t=b(k(s),2),l=k(t);w(()=>T(l,(a(X()),_(()=>X().distro||X().os)))),g(e,s)};y(l,e=>{a(X()),_(()=>X().os)&&e(n)});var i=b(l,2),o=e=>{var s=re(),t=b(k(s),2),l=k(t);w(()=>T(l,(a(X()),_(()=>X().arch)))),g(e,s)};y(i,e=>{a(X()),_(()=>X().arch)&&e(o)});var r=b(i,2),c=e=>{var s=ce(),t=b(k(s),2),l=k(t);w(()=>T(l,(a(X()),_(()=>X().shell)))),g(e,s)};y(r,e=>{a(X()),_(()=>X().shell)&&e(c)});var v=b(r,2),d=e=>{var s=ve(),t=b(k(s),2),l=k(t);w(()=>T(l,(a(X()),_(()=>X().hostname)))),g(e,s)};y(v,e=>{a(X()),_(()=>X().hostname)&&e(d)}),g(e,s)};y(r,e=>{a(X()),_(()=>X().os||X().arch)&&e(c)});var v=b(r,2),d=e=>{var s=me(),t=b(p(s),2),l=k(t),a=b(k(l),2),n=k(a),o=e=>{var s=F("This terminal requires MFA code to\n                                        connect");g(e,s)},r=e=>{var s=F("Require authenticator code to access\n                                        this terminal");g(e,s)};y(n,e=>{i(W)?e(o):e(r,!1)});var c=b(l,2),v=k(c),d=e=>{var s=pe(),t=p(s),l=k(t),a=b(l,2);a.__click=ss;var n=k(a),o=b(t,2),r=e=>{var s=he(),t=k(s);w(()=>T(t,i(Xe))),g(e,s)};y(o,e=>{i(Xe)&&e(r)}),w(()=>{a.disabled=(i(Ze),i(Qe),_(()=>i(Ze)||6!==i(Qe).length)),T(n,i(Ze)?"...":"Unlock")}),C(l,()=>i(Qe),e=>u(Qe,e)),g(e,s)},h=e=>{var s=ue();s.__click=es;var t=b(k(s));w(()=>{s.disabled=i(Ze),T(t," "+(i(Ze)?"Locking...":"Lock with MFA"))}),g(e,s)};y(v,e=>{i(W)?e(d):e(h,!1)}),g(e,s)};y(v,e=>{i(K)&&e(d)}),C(l,()=>i(Ue),e=>u(Ue,e)),C(o,()=>i(Le),e=>u(Le,e)),g(e,s)},f=e=>{var s=M(),t=p(s),l=e=>{var s=xe(),t=p(s),l=b(k(t),2),n=b(t,2),o=b(k(n),2),r=e=>{var s=be();g(e,s)};y(o,e=>{le()||e(r)});var c=b(n,2),v=k(c),d=b(k(v)),h=k(d),m=b(v,2),f=b(m,2),z=k(f),x=k(z),M=b(z,2),$=k(M),A=b(c,2),S=k(A),P=b(k(S)),D=k(P),V=b(S,2),U=b(V,2),j=k(U),H=k(j),O=b(j,2),N=k(O),R=b(A,2),E=k(R),I=b(k(E)),q=k(I),G=b(E,2),Y=b(G,2),Q=k(Y),X=k(Q),Z=b(Q,2),ae=k(Z),ne=b(R,4),ie=e=>{var s=ge();g(e,s)};y(ne,e=>{le()||"free"!==L()||e(ie)});var oe=b(ne,2),re=e=>{var s=we(),t=b(p(s),2),l=k(t),a=b(k(l),2),n=k(a),o=e=>{var s=F("This terminal requires MFA code to\n                                        connect");g(e,s)},r=e=>{var s=F("Require authenticator code to access\n                                        this terminal");g(e,s)};y(n,e=>{i(W)?e(o):e(r,!1)});var c=b(l,2),v=k(c),d=e=>{var s=ze(),t=p(s),l=k(t),a=b(l,2);a.__click=ss;var n=k(a),o=b(t,2),r=e=>{var s=fe(),t=k(s);w(()=>T(t,i(Xe))),g(e,s)};y(o,e=>{i(Xe)&&e(r)}),w(()=>{a.disabled=(i(Ze),i(Qe),_(()=>i(Ze)||6!==i(Qe).length)),T(n,i(Ze)?"...":"Unlock")}),C(l,()=>i(Qe),e=>u(Qe,e)),g(e,s)},h=e=>{var s=ke();s.__click=es;var t=b(k(s));w(()=>{s.disabled=i(Ze),T(t," "+(i(Ze)?"Locking...":"Lock with MFA"))}),g(e,s)};y(v,e=>{i(W)?e(d):e(h,!1)}),g(e,s)};y(oe,e=>{i(K)&&e(re)}),w((e,s,t,l,a,n,o,r,c)=>{T(h,e),B(m,"min",(i(J),_(()=>i(J).minMemory))),B(m,"max",(i(J),_(()=>i(J).maxMemory))),T(x,s),T($,t),T(D,l),B(V,"min",(i(J),_(()=>i(J).minCPU))),B(V,"max",(i(J),_(()=>i(J).maxCPU))),T(H,a),T(N,n),T(q,o),B(G,"min",(i(J),_(()=>i(J).minDisk))),B(G,"max",(i(J),_(()=>i(J).maxDisk))),T(X,r),T(ae,c)},[()=>(a(ee),i(je),_(()=>ee(i(je)))),()=>(a(ee),i(J),_(()=>ee(i(J).minMemory))),()=>(a(ee),i(J),_(()=>ee(i(J).maxMemory))),()=>(a(se),i(He),_(()=>se(i(He)))),()=>(a(se),i(J),_(()=>se(i(J).minCPU))),()=>(a(se),i(J),_(()=>se(i(J).maxCPU))),()=>(a(te),i(Oe),_(()=>te(i(Oe)))),()=>(a(te),i(J),_(()=>te(i(J).minDisk))),()=>(a(te),i(J),_(()=>te(i(J).maxDisk)))]),C(l,()=>i(Ue),e=>u(Ue,e)),C(m,()=>i(je),e=>u(je,e)),C(V,()=>i(He),e=>u(He,e)),C(G,()=>i(Oe),e=>u(Oe,e)),g(e,s)},n=e=>{var s=Ae(),t=p(s);b(k(t),2).__click=ts;var l=b(t,2),a=e=>{var s=_e();g(e,s)},n=e=>{var s=M(),t=p(s),l=e=>{var s=Ce(),t=k(s),l=k(t);q(l,{status:"plug",size:24}),g(e,s)},a=e=>{var s=$e();D(s,5,()=>i(Ee),e=>e.id,(e,s)=>{var t=Me(),l=k(t),a=k(l),n=k(a),o=k(n),r=b(n,2),c=k(r),v=b(a,2),d=k(v),h=k(d),p=b(l,2),m=k(p);m.__click=()=>window.open(i(s).proxy_url,"_blank");var y=b(m,2);y.__click=()=>{navigator.clipboard.writeText(i(s).proxy_url),E.success("URL copied!")},b(y,2).__click=()=>function(e,s){u(Ye,{id:e,name:s}),u(Je,!0)}(i(s).id,i(s).name||String(i(s).container_port)),w(()=>{T(o,(i(s),_(()=>i(s).name||`Port ${i(s).container_port}`))),T(c,`:${i(s),_(()=>i(s).container_port)??""}`),B(d,"href",(i(s),_(()=>i(s).proxy_url))),B(d,"title",(i(s),_(()=>i(s).proxy_url))),T(h,(i(s),_(()=>i(s).proxy_url)))}),g(e,t)}),g(e,s)};y(t,e=>{i(Ee),_(()=>0===i(Ee).length)?e(l):e(a,!1)},!0),g(e,s)};y(l,e=>{i(Ie)?e(a):e(n,!1)}),g(e,s)};y(t,e=>{"settings"===i(Ve)?e(l):e(n,!1)},!0),g(e,s)};y(h,e=>{i(G)?e(m):e(f,!1)});var z=b(d,2),S=k(z),V=e=>{var s=Pe(),t=p(s);t.__click=ns;var l=b(t,2);l.__click=is;var a=k(l),n=e=>{var s=Se();g(e,s)},o=e=>{var s=F("Save Changes");g(e,s)};y(a,e=>{i(Ne)?e(n):e(o,!1)}),w(e=>l.disabled=e,[()=>(i(Ne),i(Ue),_(()=>i(Ne)||!i(Ue).trim()))]),g(e,s)},U=e=>{var s=Te();s.__click=ns,g(e,s)};y(S,e=>{"settings"===i(Ve)?e(V):e(U,!1)});var j=b(t,2),H=e=>{var s=Be();s.__click=e=>{e.target===e.currentTarget&&ls()},s.__keydown=e=>"Escape"===e.key&&ls();var t=k(s);t.__click=e=>e.stopPropagation();var l=k(t);b(k(l),2).__click=ls;var a=b(l,2),n=k(a),o=b(k(n),2),r=b(n,2),c=k(r),v=b(k(c),2),d=b(a,2),h=k(d);h.__click=ls;var p=b(h,2);p.__click=as;var m=k(p);w(()=>{p.disabled=i(We)||!i(Ke),T(m,i(We)?"Adding...":"Add Forward")}),C(o,()=>i(Ge),e=>u(Ge,e)),C(v,()=>i(Ke),e=>u(Ke,e)),x(3,t,()=>$,()=>({duration:150,start:.95})),x(3,s,()=>A,()=>({duration:150})),g(e,s)};y(j,e=>{i(qe)&&e(H)}),w(()=>T(r,i(G)?"Agent Settings":"Terminal Settings")),x(3,l,()=>$,()=>({duration:150,start:.95})),x(3,t,()=>A,()=>({duration:150})),g(e,s)};y(cs,e=>{Y()&&X()&&e(vs)}),g(v,os),f(),H()}S(["click","keydown"]);var Ue=v('<p class="mfa-error svelte-lztlh0"> </p>'),Le=v('<span class="spinner-sm svelte-lztlh0"></span> Verifying...',1),je=v('<div class="modal-overlay svelte-lztlh0"><div class="mfa-modal svelte-lztlh0"><div class="mfa-modal-header svelte-lztlh0"><div class="mfa-modal-icon svelte-lztlh0"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-lztlh0"><rect x="3" y="11" width="18" height="11" rx="2" ry="2" class="svelte-lztlh0"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4" class="svelte-lztlh0"></path></svg></div> <h3 class="svelte-lztlh0"> </h3> <button class="mfa-close-btn svelte-lztlh0"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-lztlh0"><path d="M18 6L6 18M6 6l12 12" class="svelte-lztlh0"></path></svg></button></div> <div class="mfa-modal-body svelte-lztlh0"><p class="mfa-terminal-name svelte-lztlh0">Terminal: <strong class="svelte-lztlh0"> </strong></p> <p class="mfa-description svelte-lztlh0"><!></p> <div class="mfa-input-group svelte-lztlh0"><input type="text" class="mfa-input svelte-lztlh0" placeholder="000000" maxlength="6" autocomplete="one-time-code" inputmode="numeric" pattern="[0-9]*"/></div> <!></div> <div class="mfa-modal-footer svelte-lztlh0"><button class="btn btn-secondary svelte-lztlh0">Cancel</button> <button class="btn btn-primary svelte-lztlh0"><!></button></div></div></div>'),He=v('<span class="live-indicator svelte-lztlh0"><span class="live-dot svelte-lztlh0"></span> Live</span>'),Oe=v('<span class="spinner-sm svelte-lztlh0"></span> Creating...',1),Ne=L('<svg class="icon svelte-lztlh0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19" class="svelte-lztlh0"></line><line x1="5" y1="12" x2="19" y2="12" class="svelte-lztlh0"></line></svg> New Terminal',1),Re=v('<div class="loading-state svelte-lztlh0"><div class="spinner svelte-lztlh0"></div> <p class="svelte-lztlh0">Loading terminals...</p></div>'),Ee=v('<div class="empty-state svelte-lztlh0"><div class="empty-icon svelte-lztlh0"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" class="svelte-lztlh0"><rect x="2" y="3" width="20" height="14" rx="2" class="svelte-lztlh0"></rect><path d="M8 21h8M12 17v4M6 8l4 4-4 4M12 16h4" class="svelte-lztlh0"></path></svg></div> <h2 class="svelte-lztlh0">No Terminals Yet</h2> <p class="svelte-lztlh0">Create your first terminal to access a cloud environment, GPU\n                workspace, or connect to remote resources.</p> <button class="btn btn-primary btn-lg svelte-lztlh0"><svg class="icon svelte-lztlh0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19" class="svelte-lztlh0"></line><line x1="5" y1="12" x2="19" y2="12" class="svelte-lztlh0"></line></svg> Create Terminal</button> <div class="connect-own-tip svelte-lztlh0"><div class="tip-header svelte-lztlh0"><!> <span class="svelte-lztlh0">Or connect your own machine</span></div> <p class="tip-text svelte-lztlh0">Use the rexec agent to connect your own server, VM, or local\n                    machine.</p> <div class="tip-code-block svelte-lztlh0"><code class="tip-code svelte-lztlh0"> </code> <button class="copy-btn svelte-lztlh0"> </button></div></div></div>'),Ie=v('<div class="container-card creating-card svelte-lztlh0"><div class="container-header svelte-lztlh0"><span class="container-icon creating-icon svelte-lztlh0"><!></span> <div class="container-info svelte-lztlh0"><h2 class="container-name svelte-lztlh0"> </h2> <span class="container-image svelte-lztlh0"> </span></div> <span class="container-status status-creating svelte-lztlh0"><span class="status-dot svelte-lztlh0"></span> creating</span></div> <div class="creating-progress svelte-lztlh0"><div class="progress-bar svelte-lztlh0"><div class="progress-fill svelte-lztlh0"></div></div> <div class="progress-info svelte-lztlh0"><span class="progress-stage svelte-lztlh0"> </span> <span class="progress-percent svelte-lztlh0"> </span></div> <p class="progress-message svelte-lztlh0"> </p></div></div>'),qe=v('<div class="loading-overlay svelte-lztlh0"><div class="loading-content svelte-lztlh0"><div class="spinner svelte-lztlh0"></div> <span class="svelte-lztlh0"><!></span></div></div>'),Ge=v('<span class="environment-badge agent-env svelte-lztlh0" title="Connected via Agent"><svg class="badge-icon svelte-lztlh0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="3" width="20" height="14" rx="2" class="svelte-lztlh0"></rect><path d="M8 21h8M12 17v4" class="svelte-lztlh0"></path></svg> <span class="badge-text svelte-lztlh0">Agent</span></span>'),Ke=v('<span class="environment-badge svelte-lztlh0"><!> <span class="badge-text svelte-lztlh0"> </span></span>'),We=v('<span class="mfa-lock-badge svelte-lztlh0" title="MFA Protected - requires authenticator code to access"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-lztlh0"><rect x="3" y="11" width="18" height="11" rx="2" ry="2" class="svelte-lztlh0"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4" class="svelte-lztlh0"></path></svg> <span class="svelte-lztlh0">MFA</span></span>'),Je=v('<div class="meta-item svelte-lztlh0"><span class="meta-label svelte-lztlh0">Idle</span> <span class="meta-value svelte-lztlh0"> </span></div>'),Ye=v('<div class="meta-item meta-item-right svelte-lztlh0"><span class="meta-label svelte-lztlh0">Region</span> <span class="meta-value svelte-lztlh0"> </span></div>'),Qe=v('<div class="container-resources svelte-lztlh0"><span class="resource-spec svelte-lztlh0"><svg class="resource-icon svelte-lztlh0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="4" y="4" width="16" height="16" rx="2" class="svelte-lztlh0"></rect><rect x="9" y="9" width="6" height="6" class="svelte-lztlh0"></rect></svg> </span> <span class="resource-divider svelte-lztlh0">/</span> <span class="resource-spec svelte-lztlh0"><svg class="resource-icon svelte-lztlh0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z" class="svelte-lztlh0"></path></svg> </span> <span class="resource-divider svelte-lztlh0">/</span> <span class="resource-spec svelte-lztlh0"><svg class="resource-icon svelte-lztlh0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10" class="svelte-lztlh0"></circle><circle cx="12" cy="12" r="3" class="svelte-lztlh0"></circle></svg> </span></div>'),Xe=v('<button class="btn btn-primary btn-sm flex-1 agent-connect-btn svelte-lztlh0"><svg class="icon svelte-lztlh0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="3" width="20" height="14" rx="2" class="svelte-lztlh0"></rect><path d="M6 8l4 4-4 4" class="svelte-lztlh0"></path></svg> Connect</button>'),Ze=v('<button class="btn btn-secondary btn-sm flex-1 connecting-btn svelte-lztlh0" disabled><span class="spinner-sm svelte-lztlh0"></span> Connecting...</button>'),es=v('<button class="btn btn-secondary btn-sm flex-1 connected-btn svelte-lztlh0" disabled><svg class="icon svelte-lztlh0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 6L9 17l-5-5" class="svelte-lztlh0"></path></svg> Connected</button>'),ss=v('<button class="btn btn-secondary btn-sm flex-1 svelte-lztlh0" disabled>Offline</button>'),ts=v('<div class="action-row svelte-lztlh0"><!> <button class="btn btn-icon btn-sm svelte-lztlh0" title="Settings"><svg class="icon svelte-lztlh0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3" class="svelte-lztlh0"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z" class="svelte-lztlh0"></path></svg></button> <button class="btn btn-icon btn-sm svelte-lztlh0" title="Disconnect Agent" style="color: var(--red, #ff6b6b); border-color: rgba(255, 107, 107, 0.3);"><svg class="icon svelte-lztlh0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6M8 6V4a2 2 0 012-2h4a2 2 0 012 2v2" class="svelte-lztlh0"></path></svg></button> <button class="btn btn-icon btn-sm svelte-lztlh0" title="Agent Details"><svg class="icon svelte-lztlh0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10" class="svelte-lztlh0"></circle><line x1="12" y1="16" x2="12" y2="12" class="svelte-lztlh0"></line><line x1="12" y1="8" x2="12.01" y2="8" class="svelte-lztlh0"></line></svg></button></div>'),ls=v('<button class="btn btn-primary btn-sm flex-1 svelte-lztlh0"><svg class="icon svelte-lztlh0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="3" width="20" height="14" rx="2" class="svelte-lztlh0"></rect><path d="M6 8l4 4-4 4" class="svelte-lztlh0"></path></svg> Connect</button>'),as=v('<button class="btn btn-secondary btn-sm flex-1 connecting-btn svelte-lztlh0" disabled><span class="spinner-sm svelte-lztlh0"></span> Connecting...</button>'),ns=v('<button class="btn btn-secondary btn-sm flex-1 connected-btn svelte-lztlh0" disabled><svg class="icon svelte-lztlh0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 6L9 17l-5-5" class="svelte-lztlh0"></path></svg> Connected</button>'),is=v('<div class="action-row svelte-lztlh0"><!> <button class="btn btn-icon btn-sm svelte-lztlh0" title="Settings"><svg class="icon svelte-lztlh0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3" class="svelte-lztlh0"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z" class="svelte-lztlh0"></path></svg></button></div> <div class="action-row svelte-lztlh0"><button class="btn btn-secondary btn-sm flex-1 svelte-lztlh0"><svg class="icon svelte-lztlh0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="6" y="6" width="12" height="12" class="svelte-lztlh0"></rect></svg> Stop</button> <button class="btn btn-danger btn-sm flex-1 svelte-lztlh0"><svg class="icon svelte-lztlh0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6M8 6V4a2 2 0 012-2h4a2 2 0 012 2v2" class="svelte-lztlh0"></path></svg> Delete</button></div>',1),os=v('<div class="action-row svelte-lztlh0"><button class="btn btn-primary btn-sm flex-1 svelte-lztlh0"><svg class="icon svelte-lztlh0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="5,3 19,12 5,21" class="svelte-lztlh0"></polygon></svg> Start</button> <button class="btn btn-danger btn-sm flex-1 svelte-lztlh0"><svg class="icon svelte-lztlh0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6M8 6V4a2 2 0 012-2h4a2 2 0 012 2v2" class="svelte-lztlh0"></path></svg> Delete</button></div>'),rs=v('<div class="action-row svelte-lztlh0"><button class="btn btn-danger btn-sm flex-1 svelte-lztlh0"><svg class="icon svelte-lztlh0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6M8 6V4a2 2 0 012-2h4a2 2 0 012 2v2" class="svelte-lztlh0"></path></svg> Delete</button></div>'),cs=v('<div class="action-row svelte-lztlh0"><button class="btn btn-secondary btn-sm flex-1 svelte-lztlh0" disabled><span class="spinner-sm svelte-lztlh0"></span> </button></div>'),vs=v('<div><!> <div class="container-header svelte-lztlh0"><span class="container-icon svelte-lztlh0"><!></span> <div class="container-info svelte-lztlh0"><h2 class="container-name svelte-lztlh0"> </h2> <div class="container-meta-row svelte-lztlh0"><span class="container-image svelte-lztlh0"> </span> <!></div></div> <div class="container-badges svelte-lztlh0"><span><span></span> </span> <!></div></div> <div class="container-meta svelte-lztlh0"><div class="meta-item svelte-lztlh0"><span class="meta-label svelte-lztlh0"> </span> <span class="meta-value svelte-lztlh0"> </span></div> <!> <!></div> <!> <div class="container-actions svelte-lztlh0"><!></div></div>'),ds=v('<div class="containers-grid svelte-lztlh0"><!> <!></div>'),hs=v('<div class="modal-backdrop svelte-lztlh0"><div class="modal-content shortcuts-modal svelte-lztlh0"><div class="modal-header svelte-lztlh0"><h3 class="svelte-lztlh0">Keyboard Shortcuts</h3> <button class="close-btn svelte-lztlh0">Ã—</button></div> <div class="shortcuts-list svelte-lztlh0"><div class="shortcut-group svelte-lztlh0"><h4 class="svelte-lztlh0">General</h4> <div class="shortcut-item svelte-lztlh0"><div class="keys svelte-lztlh0"><span class="key svelte-lztlh0">Alt</span> + <span class="key svelte-lztlh0">1-9</span></div> <span class="desc svelte-lztlh0">Switch tabs</span></div> <div class="shortcut-item svelte-lztlh0"><div class="keys svelte-lztlh0"><span class="key svelte-lztlh0">Alt</span> + <span class="key svelte-lztlh0">D</span></div> <span class="desc svelte-lztlh0">Toggle Dock/Float</span></div> <div class="shortcut-item svelte-lztlh0"><div class="keys svelte-lztlh0"><span class="key svelte-lztlh0">Alt</span> + <span class="key svelte-lztlh0">F</span></div> <span class="desc svelte-lztlh0">Fullscreen</span></div> <div class="shortcut-item svelte-lztlh0"><div class="keys svelte-lztlh0"><span class="key svelte-lztlh0">Alt</span> + <span class="key svelte-lztlh0">M</span></div> <span class="desc svelte-lztlh0">Minimize</span></div></div> <div class="shortcut-group svelte-lztlh0"><h4 class="svelte-lztlh0">macOS Specific</h4> <div class="shortcut-item svelte-lztlh0"><div class="keys svelte-lztlh0"><span class="key svelte-lztlh0">Cmd</span> + <span class="key svelte-lztlh0">D</span></div> <span class="desc svelte-lztlh0">Split Vertical</span></div> <div class="shortcut-item svelte-lztlh0"><div class="keys svelte-lztlh0"><span class="key svelte-lztlh0">Cmd</span> + <span class="key svelte-lztlh0">Shift</span> + <span class="key svelte-lztlh0">D</span></div> <span class="desc svelte-lztlh0">Split Horizontal</span></div> <div class="shortcut-item svelte-lztlh0"><div class="keys svelte-lztlh0"><span class="key svelte-lztlh0">Cmd</span> + <span class="key svelte-lztlh0">T</span></div> <span class="desc svelte-lztlh0">New Tab</span></div> <div class="shortcut-item svelte-lztlh0"><div class="keys svelte-lztlh0"><span class="key svelte-lztlh0">Cmd</span> + <span class="key svelte-lztlh0">W</span></div> <span class="desc svelte-lztlh0">Close Pane</span></div> <div class="shortcut-item svelte-lztlh0"><div class="keys svelte-lztlh0"><span class="key svelte-lztlh0">Cmd</span> + <span class="key svelte-lztlh0">Arrows</span></div> <span class="desc svelte-lztlh0">Navigate Panes</span></div> <div class="shortcut-item svelte-lztlh0"><div class="keys svelte-lztlh0"><span class="key svelte-lztlh0">Cmd</span> + <span class="key svelte-lztlh0">C</span> / <span class="key svelte-lztlh0">V</span></div> <span class="desc svelte-lztlh0">Native Copy/Paste</span></div> <div class="shortcut-item svelte-lztlh0"><div class="keys svelte-lztlh0"><span class="key svelte-lztlh0">Cmd</span> + <span class="key svelte-lztlh0">K</span></div> <span class="desc svelte-lztlh0">Clear Screen (Ctrl+L)</span></div> <div class="shortcut-item svelte-lztlh0"><div class="keys svelte-lztlh0"><span class="key svelte-lztlh0">Cmd</span> + <span class="key svelte-lztlh0">.</span></div> <span class="desc svelte-lztlh0">Send Ctrl+C</span></div></div></div></div></div>'),ps=v('<!> <!> <!> <div class="dashboard svelte-lztlh0"><div class="dashboard-header svelte-lztlh0"><div class="dashboard-title svelte-lztlh0"><h1 class="svelte-lztlh0">Terminals</h1> <span class="count-badge svelte-lztlh0"> </span></div> <div class="dashboard-actions svelte-lztlh0"><!> <button class="btn btn-secondary btn-sm svelte-lztlh0" title="Keyboard Shortcuts"><svg class="icon svelte-lztlh0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="5" width="18" height="14" rx="2" class="svelte-lztlh0"></rect><line x1="7" y1="15" x2="17" y2="15" class="svelte-lztlh0"></line><line x1="7" y1="9" x2="7" y2="9.01" class="svelte-lztlh0"></line><line x1="11" y1="9" x2="11" y2="9.01" class="svelte-lztlh0"></line><line x1="15" y1="9" x2="15" y2="9.01" class="svelte-lztlh0"></line></svg></button> <button class="btn btn-secondary btn-sm svelte-lztlh0"><svg class="icon svelte-lztlh0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M23 4v6h-6M1 20v-6h6M3.51 9a9 9 0 0114.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0020.49 15" class="svelte-lztlh0"></path></svg> Refresh</button> <button class="btn btn-secondary btn-sm svelte-lztlh0" title="Connect your own machine"><svg class="icon svelte-lztlh0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="3" width="20" height="14" rx="2" class="svelte-lztlh0"></rect><path d="M8 21h8M12 17v4" class="svelte-lztlh0"></path><circle cx="12" cy="10" r="3" class="svelte-lztlh0"></circle></svg> <span class="btn-text-desktop svelte-lztlh0">Connect Machine</span></button> <button class="btn btn-primary svelte-lztlh0"><!></button></div></div> <!></div> <!>',1);function us(s,v){e(v,!1);const d=()=>n(O,"$auth",L),h=()=>n(X,"$connectedContainerIds",L),x=()=>n(De,"$loadingStatesStore",L),$=()=>n(I,"$containers",L),A=()=>n(G,"$isCreating",L),S=()=>n(K,"$creatingContainer",L),[L,N]=z(),R=o(),Z=o(),ie=o(),oe=o(),re=o(),ce=o(),ve=o(),de=o(),he=o(),pe=o(),ue=o();let me=o(!1),ye=o(null),be=o(""),ge=o(""),fe=o(!1),ze=o("verify");function ke(){u(me,!1),u(ye,null),u(be,""),u(ge,""),u(fe,!1)}async function we(){if(i(ye)&&6===i(be).length){u(fe,!0),u(ge,"");try{const e="unlock"===i(ze)?`/api/security/terminal/${i(ye).db_id||i(ye).id}/mfa-unlock`:`/api/security/terminal/${i(ye).db_id||i(ye).id}/mfa-verify`,s=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d().token}`},body:JSON.stringify({code:i(be)})}),t=await s.json();if(!s.ok)return u(ge,t.error||"Invalid code"),void u(fe,!1);if("unlock"===i(ze))E.success("Terminal MFA lock removed"),J(),ke();else{E.success("MFA verified");const e=i(ye);ke(),Me("connect",{id:e.id,name:e.name})}}catch(e){u(ge,"Failed to verify code")}finally{u(fe,!1)}}else u(ge,"Enter a valid 6-digit code")}let xe=o("");const _e="undefined"!=typeof window?window.location.host:"rexec.pipeops.io",Ce=`${"undefined"!=typeof window?window.location.protocol:"https:"}//${_e}`;const Me=t();let $e=o(!1),Ae=o(null),Se=o(!1),Pe=o(null),Te=o(!1);function Be(){u(Te,!i(Te))}function Fe(e){u(Pe,e),u(Se,!0)}const De=V({});let us=o({});function ms(e,s){De.update(t=>{const l={...t};return s?l[e]=s:delete l[e],l})}function ys(e){u(Ae,e),u($e,!0)}let bs=o(new Set);function gs(e){e.mfa_locked?function(e){u(ye,e),u(be,""),u(ge,""),u(ze,"verify"),u(me,!0)}(e):(i(bs).add(e.id),u(bs,new Set(i(bs))),Me("connect",{id:e.id,name:e.name}))}function fs(e){return!i(R).has(e)&&i(bs).has(e)}function zs(e){if(!e)return"linux";const s=e.toLowerCase(),t=s.split("/").pop()?.split(":")[0]||s,l=t.split("-")[0],a=["ubuntu","debian","alpine","fedora","centos","rocky","alma","arch","archlinux","kali","manjaro","mint","gentoo","void","nixos","slackware","parrot","blackarch","oracle","rhel","devuan","elementary"];return a.includes(l)?"archlinux"===l?"arch":l:a.includes(t)?"archlinux"===t?"arch":t:s.includes("ubuntu")?"ubuntu":s.includes("debian")?"debian":s.includes("alpine")?"alpine":s.includes("fedora")?"fedora":s.includes("centos")||s.includes("centos-stream")?"centos":s.includes("rocky")?"rocky":s.includes("alma")?"alma":s.includes("archlinux")||s.includes("arch")?"arch":s.includes("kali")?"kali":s.includes("opensuse")||s.includes("suse")||s.includes("tumbleweed")?"suse":s.includes("rhel")||s.includes("redhat")||s.includes("ubi")?"rhel":s.includes("manjaro")?"manjaro":s.includes("mint")?"mint":s.includes("gentoo")?"gentoo":s.includes("void")?"void":s.includes("nixos")||s.includes("nix")?"nixos":s.includes("slackware")?"slackware":s.includes("parrot")?"parrot":s.includes("blackarch")?"blackarch":s.includes("oracle")?"oracle":s.includes("devuan")?"devuan":s.includes("elementary")?"elementary":(s.includes("openeuler"),"linux")}l(()=>h(),()=>{u(R,h())}),l(()=>x(),()=>{u(Z,x())}),l(()=>x(),()=>{u(ie,e=>x()[e]||null)}),l(()=>x(),()=>{u(oe,e=>!!x()[e])}),l(()=>($(),i(us),i(Z)),()=>{for(const s of $().containers){const e=i(us)[s.id],t=s.status;e&&e!==t&&i(Z)[s.id]&&ms(s.id,null),j(us,i(us)[s.id]=t)}const e=new Set($().containers.map(e=>e.id));for(const s of Object.keys(i(us)))e.has(s)||(delete i(us)[s],i(Z)[s]&&ms(s,null))}),l(()=>(i(bs),i(R)),()=>{for(const e of i(bs))i(R).has(e)&&(i(bs).delete(e),u(bs,new Set(i(bs))))}),l(()=>$(),()=>{u(re,$().containers)}),l(()=>$(),()=>{u(ce,$().isLoading)}),l(()=>$(),()=>{u(ve,$().limit)}),l(()=>A(),()=>{u(de,A())}),l(()=>S(),()=>{u(he,S())}),l(()=>(i(re),i(de)),()=>{u(pe,i(re).length+(i(de)?1:0))}),l(()=>d(),()=>{u(ue,"pro"===d().user?.tier||"enterprise"===d().user?.tier||d().user?.subscriptionActive)}),r(),c();var ks=ps(),ws=p(ks);{let e=m(()=>(i(Ae),_(()=>i(Ae)?`Are you sure you want to delete "${i(Ae).name}"? This action cannot be undone and all data will be lost.`:"")));ae(ws,{title:"Delete Terminal",get message(){return i(e)},confirmText:"Delete",cancelText:"Cancel",variant:"danger",get show(){return i($e)},set show(e){u($e,e)},$$events:{confirm:async function(){if(!i(Ae))return;const e=i(Ae);u(Ae,null),u($e,!1);const s=e.id||e.db_id;s&&ms(s,"deleting"),await U();const t=E.loading(`Deleting ${e.name}...`);let l;if("agent"===e.session_type){const s=e.id.replace(/^agent:/,""),t=await Y.deleteAgent(s);l={success:t},t&&I.update(s=>({...s,containers:s.containers.filter(s=>s.id!==e.id)}))}else l=await I.deleteContainer(e.id,e.db_id);s&&ms(s,null),l.success?E.update(t,`${e.name} deleted`,"success"):E.update(t,l.error||"Failed to delete terminal","error")},cancel:function(){u(Ae,null)}},$$legacy:!0})}var xs=b(ws,2),_s=e=>{var s=je();s.__click=e=>e.target===e.currentTarget&&ke();var t=k(s),l=k(t),a=b(k(l),2),n=k(a);b(a,2).__click=ke;var o=b(l,2),r=k(o),c=b(k(r)),v=k(c),d=b(r,2),h=k(d),p=e=>{var s=F("Enter your authenticator code to remove MFA protection\n                        from this terminal.");g(e,s)},m=e=>{var s=F("This terminal is protected with MFA. Enter your\n                        authenticator code to access it.");g(e,s)};y(h,e=>{"unlock"===i(ze)?e(p):e(m,!1)});var f=b(d,2),z=k(f);z.__input=e=>{const s=e.target;s.value=s.value.replace(/\D/g,""),u(be,s.value),6===s.value.length&&we()},z.__keydown=e=>{"Enter"===e.key&&6===i(be).length&&we()};var x=b(f,2),M=e=>{var s=Ue(),t=k(s);w(()=>T(t,i(ge))),g(e,s)};y(x,e=>{i(ge)&&e(M)});var $=b(o,2),A=k($);A.__click=ke;var S=b(A,2);S.__click=we;var P=k(S),B=e=>{var s=Le();g(e,s)},D=e=>{var s=F();w(()=>T(s,"unlock"===i(ze)?"Remove Lock":"Verify")),g(e,s)};y(P,e=>{i(fe)?e(B):e(D,!1)}),w(()=>{T(n,"unlock"===i(ze)?"Remove MFA Lock":"MFA Protected Terminal"),T(v,(i(ye),_(()=>i(ye).name))),z.disabled=i(fe),A.disabled=i(fe),S.disabled=(i(fe),i(be),_(()=>i(fe)||6!==i(be).length))}),C(z,()=>i(be),e=>u(be,e)),g(e,s)};y(xs,e=>{i(me)&&i(ye)&&e(_s)});var Cs=b(xs,2);Ve(Cs,{get container(){return i(Pe)},get isPaidUser(){return i(ue)},get show(){return i(Se)},set show(e){u(Se,e)},$$events:{close:function(){u(Se,!1),u(Pe,null)},updated:function(e){u(Pe,e.detail),J()}},$$legacy:!0});var Ms=b(Cs,2),$s=k(Ms),As=k($s),Ss=b(k(As),2),Ps=k(Ss),Ts=b(As,2),Bs=k(Ts),Fs=e=>{var s=He();g(e,s)};y(Bs,e=>{n(W,"$wsConnected",L)&&e(Fs)});var Ds=b(Bs,2);Ds.__click=Be;var Vs=b(Ds,2);Vs.__click=()=>I.fetchContainers();var Us=b(Vs,2);Us.__click=()=>Me("showAgentDocs");var Ls=b(Us,2);Ls.__click=()=>Me("create");var js=k(Ls),Hs=e=>{var s=Oe();g(e,s)},Os=e=>{var s=Ne();g(e,s)};y(js,e=>{i(de)?e(Hs):e(Os,!1)});var Ns=b($s,2),Rs=e=>{var s=Re();g(e,s)},Es=e=>{var s=M(),t=p(s),l=e=>{var s=Ee(),t=b(k(s),6);t.__click=()=>Me("create");var l=b(t,2),a=k(l),n=k(a);q(n,{status:"connected",size:16});var o=b(a,4),r=k(o),c=k(r),v=b(r,2);v.__click=()=>function(e,s){navigator.clipboard.writeText(e),u(xe,s),setTimeout(()=>{u(xe,"")},2e3)}(`curl -fsSL ${Ce}/install-agent.sh | sudo bash`,"agent-install");var d=k(v);w(()=>{T(c,`curl -fsSL ${Ce}/install-agent.sh | sudo bash`),T(d,"agent-install"===i(xe)?"Copied!":"Copy")}),g(e,s)},n=e=>{var s=ds(),t=k(s),l=e=>{var s=Ie(),t=k(s),l=k(t),a=k(l);{let e=m(()=>(i(he),_(()=>zs(i(he).image||""))));ne(a,{get platform(){return i(e)},size:32})}var n=b(l,2),o=k(n),r=k(o),c=b(o,2),v=k(c),d=b(t,2),h=k(d),p=k(h),u=b(h,2),y=k(u),f=k(y),z=b(y,2),x=k(z),C=b(u,2),M=k(C);w((e,s)=>{T(r,(i(he),_(()=>i(he).name||"New Terminal"))),T(v,(i(he),_(()=>i(he).image))),H(p,`width: ${e??""}%`),T(f,(i(he),_(()=>i(he).stage))),T(x,`${s??""}%`),T(M,(i(he),_(()=>i(he).message)))},[()=>(i(he),_(()=>Math.round(i(he).progress))),()=>(i(he),_(()=>Math.round(i(he).progress)))]),g(e,s)};y(t,e=>{i(de)&&i(he)&&e(l)});var n=b(t,2);D(n,1,()=>i(re),e=>e.id,(e,s)=>{const t=m(()=>(i(R),i(s),_(()=>i(R).has(i(s).id)))),l=m(()=>(i(s),_(()=>"agent"===i(s).session_type)));var n=vs();let o;var r=k(n),c=e=>{var t=qe(),l=k(t),a=b(k(l),2),n=k(a),o=e=>{var s=F("Deleting...");g(e,s)},r=e=>{var t=M(),l=p(t),a=e=>{var s=F("Starting...");g(e,s)},n=e=>{var t=M(),l=p(t),a=e=>{var s=F("Stopping...");g(e,s)};y(l,e=>{i(ie),i(s),_(()=>"stopping"===i(ie)(i(s).id))&&e(a)},!0),g(e,t)};y(l,e=>{i(ie),i(s),_(()=>"starting"===i(ie)(i(s).id))?e(a):e(n,!1)},!0),g(e,t)};y(n,e=>{i(ie),i(s),_(()=>"deleting"===i(ie)(i(s).id))?e(o):e(r,!1)}),g(e,t)};y(r,e=>{i(oe),i(s),_(()=>i(oe)(i(s).id))&&e(c)});var v=b(r,2),d=k(v),h=k(d),u=e=>{{let t=m(()=>(i(s),_(()=>i(s).distro||("darwin"===i(s).os?"macos":"windows"===i(s).os?"windows":"linux"))));ne(e,{get platform(){return i(t)},size:32})}},f=e=>{{let t=m(()=>(i(s),_(()=>zs(i(s).image))));ne(e,{get platform(){return i(t)},size:32})}};y(h,e=>{i(l)?e(u):e(f,!1)});var z=b(d,2),x=k(z),C=k(x),$=b(x,2),A=k($),S=k(A),D=b(A,2),V=e=>{var s=Ge();g(e,s)},U=e=>{var t=M(),l=p(t),a=e=>{var t=Ke(),l=k(t);ne(l,{get platform(){return i(s),_(()=>i(s).role)},size:14});var a=b(l,2),n=k(a);w(()=>{B(t,"title",`Environment: ${i(s),_(()=>i(s).role)??""}`),T(n,(i(s),_(()=>i(s).role)))}),g(e,t)};y(l,e=>{i(s),_(()=>i(s).role)&&e(a)},!0),g(e,t)};y(D,e=>{i(l)?e(V):e(U,!1)});var L=b(z,2),j=k(L),H=k(j);let O;var N=b(H),q=b(j,2),G=e=>{var s=We();g(e,s)};y(q,e=>{i(s),_(()=>i(s).mfa_locked)&&e(G)});var K=b(v,2),W=k(K),J=k(W),Y=k(J),X=b(J,2),Z=k(X),ae=b(W,2),re=e=>{var t=Je(),l=b(k(t),2),a=k(l);w(e=>T(a,`${e??""}m`),[()=>(i(s),_(()=>Math.floor(i(s).idle_seconds/60)))]),g(e,t)};y(ae,e=>{i(s),_(()=>void 0!==i(s).idle_seconds&&"running"===i(s).status)&&e(re)});var ce=b(ae,2),ve=e=>{var t=Ye(),l=b(k(t),2),a=k(l);w(()=>T(a,(i(s),_(()=>i(s).region)))),g(e,t)};y(ce,e=>{a(i(l)),i(s),_(()=>i(l)&&i(s).region)&&e(ve)});var de=b(K,2),he=e=>{var t=Qe(),l=k(t),n=b(k(l)),o=b(l,4),r=b(k(o)),c=b(o,4),v=b(k(c));w((e,s,t)=>{T(n,` ${e??""}`),T(r,` ${s??""}`),T(v,` ${t??""}`)},[()=>(a(ee),i(s),_(()=>ee(i(s).resources.memory_mb))),()=>(a(se),i(s),_(()=>se(i(s).resources.cpu_shares))),()=>(a(te),i(s),_(()=>te(i(s).resources.disk_mb)))]),g(e,t)};y(de,e=>{i(s),_(()=>i(s).resources)&&e(he)});var pe=b(de,2),ue=k(pe),me=e=>{var l=ts(),n=k(l),o=e=>{var l=M(),n=p(l),o=e=>{var t=Xe();t.__click=()=>gs(i(s)),g(e,t)},r=e=>{var t=M(),l=p(t),a=e=>{var s=Ze();g(e,s)},n=e=>{var s=es();g(e,s)};y(l,e=>{i(s),_(()=>fs(i(s).id))?e(a):e(n,!1)},!0),g(e,t)};y(n,e=>{a(i(t)),i(s),_(()=>!i(t)&&!fs(i(s).id))?e(o):e(r,!1)}),g(e,l)},r=e=>{var s=ss();g(e,s)};y(n,e=>{i(s),_(()=>"running"===i(s).status)?e(o):e(r,!1)});var c=b(n,2);c.__click=()=>Fe(i(s));var v=b(c,2);v.__click=()=>ys(i(s)),b(v,2).__click=()=>Me("showAgentDocs"),w(e=>v.disabled=e,[()=>(i(ie),i(s),_(()=>"deleting"===i(ie)(i(s).id)))]),g(e,l)},ye=e=>{var l=M(),n=p(l),o=e=>{var l=is(),n=p(l),o=k(n),r=e=>{var t=ls();t.__click=()=>gs(i(s)),w(e=>t.disabled=e,[()=>(i(oe),i(s),_(()=>i(oe)(i(s).id)))]),g(e,t)},c=e=>{var t=M(),l=p(t),a=e=>{var s=as();g(e,s)},n=e=>{var s=ns();g(e,s)};y(l,e=>{i(s),_(()=>fs(i(s).id))?e(a):e(n,!1)},!0),g(e,t)};y(o,e=>{a(i(t)),i(s),_(()=>!i(t)&&!fs(i(s).id))?e(r):e(c,!1)});var v=b(o,2);v.__click=()=>Fe(i(s));var d=b(n,2),h=k(d);h.__click=()=>async function(e){ms(e.id,"stopping");const s=E.loading(`Stopping ${e.name}...`),t=await I.stopContainer(e.id);ms(e.id,null),t.success?E.update(s,`${e.name} stopped`,"success"):E.update(s,t.error||"Failed to stop terminal","error")}(i(s));var u=b(h,2);u.__click=()=>ys(i(s)),w((e,s,t)=>{v.disabled=e,h.disabled=s,u.disabled=t},[()=>(i(oe),i(s),_(()=>i(oe)(i(s).id))),()=>(i(oe),i(s),_(()=>i(oe)(i(s).id))),()=>(i(ie),i(s),_(()=>"deleting"===i(ie)(i(s).id)))]),g(e,l)},r=e=>{var t=M(),l=p(t),a=e=>{var t=os(),l=k(t);l.__click=()=>async function(e){ms(e.id,"starting");const s=E.loading(`Starting ${e.name}...`),t=await I.startContainer(e.id);ms(e.id,null),t.success?(E.update(s,`${e.name} started`,"success"),t.recreated&&E.info("Terminal was recreated. Your data volume was preserved.")):E.update(s,t.error||"Failed to start terminal","error")}(i(s));var a=b(l,2);a.__click=()=>ys(i(s)),w((e,s)=>{l.disabled=e,a.disabled=s},[()=>(i(oe),i(s),_(()=>i(oe)(i(s).id))),()=>(i(ie),i(s),_(()=>"deleting"===i(ie)(i(s).id)))]),g(e,t)},n=e=>{var t=M(),l=p(t),a=e=>{var t=rs(),l=k(t);l.__click=()=>ys(i(s)),w(e=>l.disabled=e,[()=>(i(ie),i(s),_(()=>"deleting"===i(ie)(i(s).id)))]),g(e,t)},n=e=>{var t=cs(),l=k(t),a=b(k(l));w(()=>T(a,` ${i(s),_(()=>i(s).status)??""}...`)),g(e,t)};y(l,e=>{i(s),_(()=>"error"===i(s).status)?e(a):e(n,!1)},!0),g(e,t)};y(l,e=>{i(s),_(()=>"stopped"===i(s).status)?e(a):e(n,!1)},!0),g(e,t)};y(n,e=>{i(s),_(()=>"running"===i(s).status)?e(o):e(r,!1)},!0),g(e,l)};y(ue,e=>{i(l)?e(me):e(ye,!1)}),w((e,t,a)=>{o=P(n,1,"container-card svelte-lztlh0",null,o,e),T(C,(i(s),_(()=>i(s).name))),T(S,(i(s),_(()=>i(s).image))),P(j,1,`container-status ${t??""}`,"svelte-lztlh0"),O=P(H,1,"status-dot svelte-lztlh0",null,O,{"status-dot-pulse":i(l)&&"running"===i(s).status}),T(N,` ${i(s),_(()=>i(s).status)??""}`),T(Y,i(l)?"Connected":"Created"),T(Z,a)},[()=>{return{"agent-card":i(l),active:(e=i(s).id,Q.hasActiveSession(e)),connected:i(t),loading:i(oe)(i(s).id),deleting:"deleting"===i(ie)(i(s).id),starting:"starting"===i(ie)(i(s).id),stopping:"stopping"===i(ie)(i(s).id)};var e},()=>(i(s),_(()=>function(e){switch(e){case"running":return"status-running";case"stopped":case"offline":return"status-stopped";case"creating":case"starting":case"stopping":return"status-creating";case"error":return"status-error";default:return"status-unknown"}}(i(s).status))),()=>(a(le),i(s),_(()=>le(i(s).created_at)))]),g(e,n)}),g(e,s)};y(t,e=>{i(re),_(()=>0===i(re).length)?e(l):e(n,!1)},!0),g(e,s)};y(Ns,e=>{i(ce),i(re),_(()=>i(ce)&&0===i(re).length)?e(Rs):e(Es,!1)});var Is=b(Ms,2),qs=e=>{var s=hs();s.__click=Be;var t=k(s);t.__click=e=>e.stopPropagation();var l=k(t);b(k(l),2).__click=Be,g(e,s)};y(Is,e=>{i(Te)&&e(qs)}),w(()=>{T(Ps,`${i(pe)??""} / ${i(ve)??""}`),Ls.disabled=i(pe)>=i(ve)||i(de)}),g(s,ks),f(),N()}S(["click","input","keydown"]);export{us as default};
