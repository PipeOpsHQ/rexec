import{p as s,B as e,C as a,i as t,f as l,n as v,z as n,v as d,k as c,m as i,J as o,t as r,R as p,Y as b,e as u,j,s as m,_ as g,r as h,u as _,q as y,H as k,A as w,a2 as f,K as x}from"./svelte-C2ZEhdPX.js";import{S as z,t as S}from"./index-BZQbtzM3.js";import{a as C}from"./api-562HSYvc.js";import"./vendor-CPGM4lnp.js";var P=l('<button class="search-clear svelte-djebvs">×</button>'),$=l("<button> </button>"),q=l('<div class="state-container svelte-djebvs"><div class="loader svelte-djebvs"></div> <p class="svelte-djebvs">Loading snippets...</p></div>'),A=l('<div class="state-container svelte-djebvs"><div class="empty-icon svelte-djebvs"><!></div> <h2 class="svelte-djebvs">No Snippets Found</h2> <p class="svelte-djebvs">Try adjusting your search or category filter</p></div>'),T=l('<span class="meta-sep svelte-djebvs">·</span> <span class="meta-install svelte-djebvs">requires install</span>',1),I=l('<button class="action-btn svelte-djebvs" title="Copy install command"><!></button>'),F=l('<p class="card-desc svelte-djebvs"> </p>'),N=l('<div class="install-block svelte-djebvs"><div class="install-header svelte-djebvs"><!> <span class="svelte-djebvs">Install first</span></div> <div class="install-content svelte-djebvs"><code class="svelte-djebvs"> </code> <button class="copy-btn svelte-djebvs">Copy</button></div></div>'),R=l('<div class="card-expanded svelte-djebvs"><!> <!> <div class="code-block svelte-djebvs"><div class="code-header svelte-djebvs"><span class="code-dots svelte-djebvs"><span class="dot red svelte-djebvs"></span> <span class="dot yellow svelte-djebvs"></span> <span class="dot green svelte-djebvs"></span></span> <span class="code-title svelte-djebvs"> </span> <button class="code-copy svelte-djebvs">Copy</button></div> <pre class="code-content svelte-djebvs"><code class="svelte-djebvs"> </code></pre></div></div>'),B=l('<article><div class="card-main svelte-djebvs"><div class="card-left svelte-djebvs"><span class="card-icon svelte-djebvs"><!></span></div> <div class="card-center svelte-djebvs"><h3 class="card-title svelte-djebvs"> </h3> <div class="card-meta svelte-djebvs"><span class="meta-author svelte-djebvs"> </span> <span class="meta-sep svelte-djebvs">·</span> <span class="meta-uses svelte-djebvs"> </span> <!></div></div> <div class="card-right svelte-djebvs"><div class="card-tags svelte-djebvs"><span class="tag tag-lang svelte-djebvs"> </span></div> <div class="card-actions svelte-djebvs"><!> <button class="action-btn svelte-djebvs" title="Copy to clipboard"><!></button> <button class="action-btn primary svelte-djebvs" title="Use snippet"><!></button></div> <span><!></span></div></div> <!></article>'),D=l('<div class="snippet-list svelte-djebvs"></div>'),E=l('<div class="marketplace svelte-djebvs"><div class="marketplace-container svelte-djebvs"><header class="marketplace-header svelte-djebvs"><button class="back-btn svelte-djebvs"><span class="back-icon svelte-djebvs">←</span> <span class="svelte-djebvs">Back</span></button> <div class="header-content svelte-djebvs"><div class="header-badge svelte-djebvs"><span class="badge-dot svelte-djebvs"></span> <span class="svelte-djebvs">Community Snippets</span></div> <h1 class="svelte-djebvs">Snippet <span class="accent svelte-djebvs">Marketplace</span></h1> <p class="header-desc svelte-djebvs">Discover, share, and use terminal commands from the\n                    community</p></div></header> <div class="controls svelte-djebvs"><div class="search-wrapper svelte-djebvs"><span class="search-icon svelte-djebvs"><!></span> <input type="text" class="search-input svelte-djebvs" placeholder="Search snippets..."/> <!></div> <div class="filter-row svelte-djebvs"><div class="category-pills svelte-djebvs"></div> <div class="sort-dropdown svelte-djebvs"><select class="svelte-djebvs"><option class="svelte-djebvs">Popular</option><option class="svelte-djebvs">Recent</option><option class="svelte-djebvs">A-Z</option></select></div></div></div> <div class="content svelte-djebvs"><!></div> <footer class="marketplace-footer svelte-djebvs"><div class="stat svelte-djebvs"><span class="stat-value svelte-djebvs"> </span> <span class="stat-label svelte-djebvs">snippets</span></div> <div class="stat svelte-djebvs"><span class="stat-value svelte-djebvs"> </span> <span class="stat-label svelte-djebvs">categories</span></div></footer></div></div>');function L(l,y){s(y,!1);const L=e();let U=i([]),G=i(!0),H=i(""),J=i("all"),K=i("popular"),M=i(null);const O=[{value:"all",label:"All",icon:"grid"},{value:"install",label:"Install",icon:"download"},{value:"system",label:"System",icon:"terminal"},{value:"ai",label:"AI Tools",icon:"ai"},{value:"devops",label:"DevOps",icon:"devops"},{value:"nodejs",label:"Node.js",icon:"nodejs"},{value:"python",label:"Python",icon:"python"},{value:"golang",label:"Go",icon:"golang"},{value:"editor",label:"Editor",icon:"edit"},{value:"network",label:"Network",icon:"network"}];async function Y(){m(G,!0);const s=new URLSearchParams;c(H)&&s.set("search",c(H)),"all"!==c(J)&&s.set("category",c(J)),s.set("sort",c(K));const{data:e,error:a}=await C.get(`/api/marketplace/snippets?${s.toString()}`);e?m(U,e.snippets||[]):a&&S.error("Failed to load marketplace"),m(G,!1)}function Z(s){navigator.clipboard.writeText(s),S.success("Copied to clipboard")}a(()=>{Y()}),t();var Q=E(),V=v(Q),W=v(V);v(W).__click=()=>L("back");var X=n(W,2),ss=v(X),es=v(ss),as=v(es);z(as,{status:"search",size:16});var ts=n(es,2);ts.__keydown=s=>"Enter"===s.key&&void Y();var ls=n(ts,2),vs=s=>{var e=P();e.__click=()=>{m(H,""),Y()},u(s,e)};d(ls,s=>{c(H)&&s(vs)});var ns=n(ss,2),ds=v(ns);o(ds,5,()=>O,g,(s,e)=>{var a=$();let t;a.__click=()=>{m(J,c(e).value),Y()};var l=v(a);r(()=>{t=k(a,1,"pill svelte-djebvs",null,t,{active:c(J)===c(e).value}),w(l,c(e).label)}),u(s,a)});var cs=n(ds,2),is=v(cs);r(()=>{c(K),f(()=>{})}),is.__change=Y;var os=v(is);os.value=os.__value="popular";var rs=n(os);rs.value=rs.__value="recent";var ps=n(rs);ps.value=ps.__value="name";var bs=n(X,2),us=v(bs),js=s=>{var e=q();u(s,e)},ms=s=>{var e=h(),a=_(e),t=s=>{var e=A(),a=v(e),t=v(a);z(t,{status:"search",size:48}),u(s,e)},l=s=>{var e=D();o(e,5,()=>c(U),s=>s.id,(s,e)=>{var a=B();let t;var l=v(a);l.__click=()=>{return s=c(e).id,void m(M,c(M)===s?null:s);var s};var i=v(l),o=v(i),p=v(o);{let s=x(()=>c(e).icon||function(s){switch(s){case"system":return"system";case"install":return"download";case"nodejs":return"nodejs";case"python":return"python";case"golang":return"golang";case"devops":return"devops";case"editor":return"edit";case"ai":return"ai";case"network":return"network";default:return"file"}}(c(e).category||""));z(p,{get status(){return c(s)},size:24})}var b=n(i,2),j=v(b),g=v(j),h=n(j,2),_=v(h),y=v(_),f=n(_,4),P=v(f),$=n(f,2),q=s=>{var e=T();u(s,e)};d($,s=>{c(e).requires_install&&s(q)});var A=n(b,2),D=v(A),E=v(D),U=v(E),G=n(D,2),H=v(G),J=s=>{var a=I();a.__click=s=>{s.stopPropagation(),async function(s){s.install_command&&(await navigator.clipboard.writeText(s.install_command),S.success("Install command copied! Paste in terminal to install."))}(c(e))};var t=v(a);z(t,{status:"download",size:14}),u(s,a)};d(H,s=>{c(e).requires_install&&c(e).install_command&&s(J)});var K=n(H,2);K.__click=s=>{s.stopPropagation(),Z(c(e).content)};var O=v(K);z(O,{status:"copy",size:14});var Y=n(K,2);Y.__click=s=>{s.stopPropagation(),async function(e){await C.post(`/api/snippets/${e.id}/use`,{}),L("use",{content:e.content,name:e.name}),S.success(`"${e.name}" copied to clipboard`);try{await navigator.clipboard.writeText(e.content)}catch(s){}}(c(e))};var Q=v(Y);z(Q,{status:"play",size:14});var V=n(G,2);let W;var X=v(V);z(X,{status:"chevron-down",size:14});var ss=n(l,2),es=s=>{var a=R(),t=v(a),l=s=>{var a=F(),t=v(a);r(()=>w(t,c(e).description)),u(s,a)};d(t,s=>{c(e).description&&s(l)});var i=n(t,2),o=s=>{var a=N(),t=v(a),l=v(t);z(l,{status:"download",size:14});var d=n(t,2),i=v(d),o=v(i);n(i,2).__click=()=>Z(c(e).install_command||""),r(()=>w(o,c(e).install_command)),u(s,a)};d(i,s=>{c(e).requires_install&&c(e).install_command&&s(o)});var p=n(i,2),b=v(p),j=n(v(b),2),m=v(j);n(j,2).__click=()=>Z(c(e).content);var g=n(b,2),h=v(g),_=v(h);r(()=>{w(m,c(e).name),w(_,c(e).content)}),u(s,a)};d(ss,s=>{c(M)===c(e).id&&s(es)}),r(s=>{t=k(a,1,"snippet-card svelte-djebvs",null,t,{expanded:c(M)===c(e).id}),w(g,c(e).name),w(y,`@${(c(e).username||"rexec")??""}`),w(P,`${s??""} uses`),w(U,c(e).language),W=k(V,1,"expand-icon svelte-djebvs",null,W,{rotated:c(M)===c(e).id})},[()=>{return(s=c(e).usage_count)>=1e3?`${(s/1e3).toFixed(1)}k`:s.toString();var s}]),u(s,a)}),u(s,e)};d(a,s=>{0===c(U).length?s(t):s(l,!1)},!0),u(s,e)};d(us,s=>{c(G)?s(js):s(ms,!1)});var gs=n(bs,2),hs=v(gs),_s=v(hs),ys=v(_s),ks=n(hs,2),ws=v(ks),fs=v(ws);r(()=>{w(ys,c(U).length),w(fs,O.length-1)}),p(ts,()=>c(H),s=>m(H,s)),b(is,()=>c(K),s=>m(K,s)),u(l,Q),j()}y(["click","keydown","change"]);export{L as default};
