import{q as e,p as t,a as s,C as a,k as n,m as l,s as i,D as o,l as c,b as v,c as r,i as d,f as p,z as u,n as b,a3 as h,t as m,G as g,H as f,A as w,e as y,j as k,B as _,x,v as z,o as $,y as C,U as M,F as S,r as A,u as j,E as L,J as P,R as T,g as q,V as I,I as B,M as R,af as D,_ as H,O as E,ag as V,$ as F,K as O,T as N,a2 as U,Y as W,ah as Y,a7 as X,a9 as K}from"./svelte-C2ZEhdPX.js";import{terminal as Z,isFloating as G,sessionCount as J,isFullscreen as Q}from"./terminal-DxB8RyGB.js";import{c as ee,m as te,t as se,j as ae,l as ne,S as le}from"./index-BZQbtzM3.js";import{r as ie}from"./recordings-DdyNRtBy.js";import{e as oe,a as ce}from"./api-562HSYvc.js";import{P as ve}from"./PlatformIcon-DTY1EAcS.js";import{I as re}from"./InlineCreateTerminal-Ey21O-aC.js";import{C as de}from"./ConfirmModal-0Siv2-zv.js";import"./vendor-CPGM4lnp.js";var pe=p('<div role="textbox" tabindex="0"><div class="split-pane-header svelte-ji8ogi"><span class="pane-label svelte-ji8ogi"><span></span> </span> <button class="close-pane svelte-ji8ogi" title="Close split">×</button></div> <div class="split-pane-terminal svelte-ji8ogi"></div></div>');function ue(e,p){t(p,!1);const _=l(),x=l(),z=l(),$=l();let C=s(p,"session",8),M=s(p,"pane",8),S=l(),A=l(!1);a(async()=>{n(S)&&M()&&(Z.attachSplitPane(C().id,M().id,n(S)),i(A,!0))}),o(()=>{i(A,!1)}),c(()=>(n(S),v(M()),n(A),v(C())),()=>{n(S)&&M()&&!n(A)&&(Z.attachSplitPane(C().id,M().id,n(S)),i(A,!0))}),c(()=>(v(C()),v(M())),()=>{i(_,C().activePaneId===M().id)}),c(()=>v(M()),()=>{i(x,M().status||"disconnected")}),c(()=>n(x),()=>{i(z,"connected"===n(x))}),c(()=>n(x),()=>{i($,"connecting"===n(x))}),r(),d();var j=pe();let L;j.__click=function(){Z.setActivePaneId(C().id,M().id),M().terminal?.focus()},j.__keydown=()=>{};var P=b(j),T=b(P),q=b(T);let I;var B=u(q);u(T,2).__click=e=>{e.stopPropagation(),Z.closeSplitPane(C().id,M().id)};var R=u(P,2);h(R,e=>i(S,e),()=>n(S)),m(e=>{L=f(j,1,"split-pane svelte-ji8ogi",null,L,{active:n(_)}),I=f(q,1,"status-dot svelte-ji8ogi",null,I,{connected:n(z),connecting:n($)}),w(B,` Session ${e??""}`)},[()=>(v(M()),g(()=>M().id.slice(-4)))]),y(e,j),k()}e(["click","keydown"]);var be=p('<span class="view-only-badge svelte-1n98d8v" title="View Only - You can watch but cannot type"><svg width="12" height="12" viewBox="0 0 24 24" fill="currentColor" class="svelte-1n98d8v"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z" class="svelte-1n98d8v"></path></svg> VIEW ONLY</span>'),he=p('<span class="role-badge svelte-1n98d8v"><!> <span class="role-name svelte-1n98d8v"> </span></span>'),me=p('<span class="stat-limit svelte-1n98d8v"> </span>'),ge=p('<span class="stat-limit svelte-1n98d8v"> </span>'),fe=p('<span class="terminal-stats svelte-1n98d8v"><span class="stat-item stat-cpu svelte-1n98d8v"><span class="stat-label svelte-1n98d8v">CPU</span> <span class="stat-value svelte-1n98d8v"> </span></span> <span class="stat-divider svelte-1n98d8v">|</span> <span class="stat-item stat-mem svelte-1n98d8v"><span class="stat-label svelte-1n98d8v">MEM</span> <span class="stat-value svelte-1n98d8v"> </span> <!></span> <span class="stat-divider svelte-1n98d8v">|</span> <span class="stat-item stat-disk svelte-1n98d8v"><span class="stat-label svelte-1n98d8v">DISK</span> <span class="stat-value svelte-1n98d8v"> </span> <!></span> <span class="stat-divider svelte-1n98d8v">|</span> <span class="stat-item stat-net svelte-1n98d8v"><span class="stat-label svelte-1n98d8v">NET</span> <span class="stat-io svelte-1n98d8v"><span> </span> <span> </span></span></span></span>'),we=p('<span class="terminal-stats stats-loading svelte-1n98d8v"><span class="stat-item svelte-1n98d8v"><span class="stat-label svelte-1n98d8v">Loading metrics...</span></span></span>'),ye=p('<button class="toolbar-btn reconnect-btn svelte-1n98d8v" title="Reconnect"><svg class="toolbar-icon svelte-1n98d8v" viewBox="0 0 16 16" fill="currentColor"><path d="M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z" class="svelte-1n98d8v"></path><path fill-rule="evenodd" d="M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z" class="svelte-1n98d8v"></path></svg></button>'),ke=I('<rect x="4" y="4" width="8" height="8" rx="1" class="svelte-1n98d8v"></rect>'),_e=I('<circle cx="8" cy="8" r="5" class="svelte-1n98d8v"></circle>'),xe=p('<span class="collab-badge svelte-1n98d8v"> </span>'),ze=p('<div class="mini-spinner svelte-1n98d8v"></div>'),$e=I('<svg class="toolbar-icon svelte-1n98d8v" viewBox="0 0 16 16" fill="currentColor"><path d="M8 0a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 12.293V.5A.5.5 0 0 1 8 0z" transform="rotate(180 8 8)" class="svelte-1n98d8v"></path><path d="M4.406 1.342A5.53 5.53 0 0 1 8 0c2.69 0 4.923 2 5.166 4.579C14.758 4.804 16 6.137 16 7.773 16 9.569 14.502 11 12.687 11H10a.5.5 0 0 1 0-1h2.688C13.979 10 15 8.988 15 7.773c0-1.216-1.02-2.228-2.313-2.228h-.5v-.5C12.188 2.825 10.328 1 8 1a4.53 4.53 0 0 0-2.941 1.1c-.757.652-1.153 1.438-1.153 2.055v.448l-.445.049C2.064 4.805 1 5.952 1 7.318 1 8.785 2.23 10 3.781 10H6a.5.5 0 0 1 0 1H3.781C1.708 11 0 9.366 0 7.318c0-1.763 1.266-3.223 2.942-3.593.143-.863.698-1.723 1.464-2.383z" class="svelte-1n98d8v"></path></svg>'),Ce=p('<button class="toolbar-btn icon-btn svelte-1n98d8v" title="Split Horizontal"><svg class="toolbar-icon svelte-1n98d8v" viewBox="0 0 16 16" fill="currentColor"><path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z" class="svelte-1n98d8v"></path><line x1="8" y1="1" x2="8" y2="15" stroke="currentColor" stroke-width="1" class="svelte-1n98d8v"></line></svg></button> <button class="toolbar-btn icon-btn svelte-1n98d8v" title="Split Vertical"><svg class="toolbar-icon svelte-1n98d8v" viewBox="0 0 16 16" fill="currentColor"><path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z" class="svelte-1n98d8v"></path><line x1="1" y1="8" x2="15" y2="8" stroke="currentColor" stroke-width="1" class="svelte-1n98d8v"></line></svg></button> <span class="toolbar-divider svelte-1n98d8v"></span> <button><svg class="toolbar-icon svelte-1n98d8v" viewBox="0 0 16 16" fill="currentColor"><!></svg></button> <button><svg class="toolbar-icon svelte-1n98d8v" viewBox="0 0 16 16" fill="currentColor"><path d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" class="svelte-1n98d8v"></path><path fill-rule="evenodd" d="M5.216 14A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216z" class="svelte-1n98d8v"></path><path d="M4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z" class="svelte-1n98d8v"></path></svg> <!></button> <input type="file" style="display: none;" class="svelte-1n98d8v"/> <button class="toolbar-btn icon-btn upload-btn svelte-1n98d8v" title="Upload File to Terminal"><!></button>',1),Me=p('<button class="menu-item svelte-1n98d8v"><svg class="menu-icon svelte-1n98d8v" viewBox="0 0 16 16" fill="currentColor"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z" class="svelte-1n98d8v"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z" class="svelte-1n98d8v"></path></svg> Copy Link</button>'),Se=p('<button class="menu-item svelte-1n98d8v"><svg class="menu-icon svelte-1n98d8v" viewBox="0 0 16 16" fill="currentColor"><path d="M3.5 2a.5.5 0 0 0-.5.5v12a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-12a.5.5 0 0 0-.5-.5H12a.5.5 0 0 1 0-1h.5A1.5 1.5 0 0 1 14 2.5v12a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 14.5v-12A1.5 1.5 0 0 1 3.5 1H4a.5.5 0 0 1 0 1h-.5z" class="svelte-1n98d8v"></path><path d="M10 .5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5.5.5 0 0 1-.5.5.5.5 0 0 0-.5.5V2a.5.5 0 0 0 .5.5h5A.5.5 0 0 0 11 2v-.5a.5.5 0 0 0-.5-.5.5.5 0 0 1-.5-.5z" class="svelte-1n98d8v"></path></svg> Paste</button> <button class="menu-item svelte-1n98d8v"><svg class="menu-icon svelte-1n98d8v" viewBox="0 0 16 16" fill="currentColor"><path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z" class="svelte-1n98d8v"></path><path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z" class="svelte-1n98d8v"></path></svg> Clear Terminal</button> <button class="menu-item svelte-1n98d8v"><svg class="menu-icon svelte-1n98d8v" viewBox="0 0 16 16" fill="currentColor"><path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z" class="svelte-1n98d8v"></path><path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z" class="svelte-1n98d8v"></path></svg> Reset Terminal</button>',1),Ae=p('<div class="menu-divider svelte-1n98d8v"></div> <button class="menu-item svelte-1n98d8v"><svg class="menu-icon svelte-1n98d8v" viewBox="0 0 16 16" fill="currentColor"><path d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z" class="svelte-1n98d8v"></path><path d="M5 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 5 8zm0-2.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm0 5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-1-5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zM4 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zm0 2.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z" class="svelte-1n98d8v"></path></svg> Run Snippet</button> <button class="menu-item svelte-1n98d8v"><svg class="menu-icon svelte-1n98d8v" viewBox="0 0 16 16" fill="currentColor"><path d="M0 1a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V1zm4 0v6h8V1H4zm8 8H4v6h8V9zM1 1v2h2V1H1zm2 3H1v2h2V4zM1 7v2h2V7H1zm2 3H1v2h2v-2zm-2 3v2h2v-2H1zM15 1h-2v2h2V1zm-2 3v2h2V4h-2zm2 3h-2v2h2V7zm-2 3v2h2v-2h-2zm2 3h-2v2h2v-2z" class="svelte-1n98d8v"></path></svg> View Recordings</button>',1),je=p('<div class="more-menu svelte-1n98d8v"><!> <button class="menu-item svelte-1n98d8v"><svg class="menu-icon svelte-1n98d8v" viewBox="0 0 16 16" fill="currentColor"><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z" class="svelte-1n98d8v"></path><path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z" class="svelte-1n98d8v"></path></svg> Copy Selection</button> <!> <!></div>'),Le=p('<div class="split-resizer svelte-1n98d8v" role="separator" tabindex="-1"></div> <div class="terminal-pane svelte-1n98d8v"><!></div>',1),Pe=p('<div class="connection-status connected svelte-1n98d8v"><span class="rexec-logo svelte-1n98d8v">⌘</span> <span class="connection-text svelte-1n98d8v">rexec</span> <span class="connected-check svelte-1n98d8v">✓</span></div>'),Te=p(" <!>",1),qe=p('<span class="connecting-hint svelte-1n98d8v">Taking longer than usual. Check your connection.</span>'),Ie=p('<div class="connecting-overlay svelte-1n98d8v"><div class="connecting-content svelte-1n98d8v"><div class="connecting-spinner svelte-1n98d8v"></div> <span class="connecting-text svelte-1n98d8v">Connecting to terminal...</span> <span class="connecting-subtext svelte-1n98d8v"><!></span> <!></div></div>'),Be=p('<div class="disconnected-overlay svelte-1n98d8v"><svg class="disconnected-icon svelte-1n98d8v" viewBox="0 0 16 16" fill="currentColor"><path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z" class="svelte-1n98d8v"></path></svg> <span class="svelte-1n98d8v">Disconnected</span> <button class="reconnect-btn svelte-1n98d8v"><svg class="reconnect-icon svelte-1n98d8v" viewBox="0 0 16 16" fill="currentColor"><path d="M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z" class="svelte-1n98d8v"></path><path fill-rule="evenodd" d="M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z" class="svelte-1n98d8v"></path></svg> Reconnect</button></div>'),Re=p('<div class="download-modal-overlay svelte-1n98d8v" role="presentation"><div class="download-modal svelte-1n98d8v" role="dialog" aria-modal="true"><div class="download-modal-header svelte-1n98d8v"><h3 class="svelte-1n98d8v">Download File</h3> <button class="close-btn svelte-1n98d8v">×</button></div> <div class="download-modal-body svelte-1n98d8v"><label for="download-path" class="svelte-1n98d8v">File Path</label> <input type="text" id="download-path" placeholder="/home/user/filename.txt" class="svelte-1n98d8v"/> <p class="download-hint svelte-1n98d8v">Enter the full path to the file you want to download</p></div> <div class="download-modal-footer svelte-1n98d8v"><button class="btn-cancel svelte-1n98d8v">Cancel</button> <button class="btn-download svelte-1n98d8v">Download</button></div></div></div>'),De=p('<div class="terminal-panel-wrapper svelte-1n98d8v"><div class="terminal-toolbar svelte-1n98d8v"><div class="toolbar-left svelte-1n98d8v"><span class="terminal-name svelte-1n98d8v"> </span> <!> <span><span class="status-indicator svelte-1n98d8v"></span> </span> <!> <!></div> <div class="toolbar-actions svelte-1n98d8v"><!> <!> <button class="toolbar-btn icon-btn download-btn svelte-1n98d8v" title="Download File from Terminal"><svg class="toolbar-icon svelte-1n98d8v" viewBox="0 0 16 16" fill="currentColor"><path d="M8 15a.5.5 0 0 1-.5-.5V1.707L4.354 4.854a.5.5 0 1 1-.708-.708l4-4a.5.5 0 0 1 .708 0l4 4a.5.5 0 0 1-.708.708L8.5 1.707V14.5a.5.5 0 0 1-.5.5z" transform="rotate(180 8 8)" class="svelte-1n98d8v"></path><path d="M4.406 1.342A5.53 5.53 0 0 1 8 0c2.69 0 4.923 2 5.166 4.579C14.758 4.804 16 6.137 16 7.773 16 9.569 14.502 11 12.687 11H10a.5.5 0 0 1 0-1h2.688C13.979 10 15 8.988 15 7.773c0-1.216-1.02-2.228-2.313-2.228h-.5v-.5C12.188 2.825 10.328 1 8 1a4.53 4.53 0 0 0-2.941 1.1c-.757.652-1.153 1.438-1.153 2.055v.448l-.445.049C2.064 4.805 1 5.952 1 7.318 1 8.785 2.23 10 3.781 10H6a.5.5 0 0 1 0 1H3.781C1.708 11 0 9.366 0 7.318c0-1.763 1.266-3.223 2.942-3.593.143-.863.698-1.723 1.464-2.383z" class="svelte-1n98d8v"></path></svg></button> <span class="toolbar-divider svelte-1n98d8v"></span> <div class="more-dropdown svelte-1n98d8v"><button class="toolbar-btn icon-btn more-btn svelte-1n98d8v" title="More actions"><svg class="toolbar-icon svelte-1n98d8v" viewBox="0 0 16 16" fill="currentColor"><path d="M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z" class="svelte-1n98d8v"></path></svg></button> <!></div></div></div> <div><div class="terminal-pane main-pane svelte-1n98d8v"><div class="terminal-container svelte-1n98d8v" role="textbox" aria-label="Terminal input area" tabindex="0"></div></div> <!></div> <!> <!> <!>  <!></div>');function He(e,p){t(p,!1);const I=()=>x(ee,"$containers",E),R=()=>x(te,"$collab",E),D=()=>x(ie,"$recordings",E),H=()=>x(Z,"$terminal",E),[E,V]=C(),F=l(),O=l(),N=l(),U=l(),W=l(),Y=l(),X=l(),K=l(),G=l(),J=l(),Q=l(),ne=l(),le=l(),ce=l(),re=l(),de=l();let pe=s(p,"session",12);const He=_(),Ee="undefined"!=typeof navigator&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);let Ve=l(!1),Fe=l(pe()?.status),Oe=l(Ee&&"connecting"===pe()?.status&&!pe()?.hasConnectedOnce),Ne=l(Date.now()),Ue=l(0),We=l(null);const Ye=(()=>{const e=navigator;if(e.connection){const t=e.connection.effectiveType;return"slow-2g"===t||"2g"===t||!0===e.connection.saveData}return!1})();let Xe=l(!1),Ke=l(),Ze=l({top:0,right:0});function Ge(e){return e>=90?"#ff4444":e>=75?"#ff8800":e>=50?"#ffcc00":"#44ff44"}let Je=l(0),Qe=l(0),et=l(!1),tt=l(!1),st=l(),at=l(null);function nt(){Z.reconnectSession(pe().id)}a(async()=>{n(st)&&pe()&&((!pe().ws||pe().ws.readyState!==WebSocket.OPEN&&pe().ws.readyState!==WebSocket.CONNECTING)&&Z.connectWebSocket(pe().id),pe().terminal?.element?(Z.reattachTerminal(pe().id,n(st)),i(at,n(st))):pe().terminal?(Z.attachTerminal(pe().id,n(st)),i(at,n(st))):await async function(){if(!n(st)||!pe())return;const e=Date.now();for(;!pe().terminal&&Date.now()-e<5e3;){await new Promise(e=>setTimeout(e,50));const e=H().sessions.get(pe().id);if(e?.terminal){pe(e);break}}pe().terminal&&(pe().terminal.element?(Z.reattachTerminal(pe().id,n(st)),i(at,n(st))):(Z.attachTerminal(pe().id,n(st)),i(at,n(st))))}())}),o(()=>{i(at,null)});let lt=l(),it=l(!1),ot=l(!1),ct=l("/home/user/");function vt(){n(lt)?.click()}async function rt(e){const t=e.target,s=t.files?.[0];if(!s)return;if(s.size>104857600)return void se.error("File too large (max 100MB)");i(it,!0);const a=new FormData;a.append("file",s);try{const e=q(ae);if(!e)return se.error("Not authenticated"),void i(it,!1);const t=await fetch(`/api/containers/${pe().containerId}/files?path=/home/user/`,{method:"POST",headers:{Authorization:`Bearer ${e}`},body:a});if(t.ok){const e=await t.json();se.success(`Uploaded ${e.filename} to ${e.path}`)}else{const e=await t.json();se.error(e.error||"Upload failed")}}catch(n){se.error("Upload failed")}finally{i(it,!1),t.value=""}}async function dt(){if(n(ct).trim())try{const e=q(ae);if(!e)return void se.error("Not authenticated");const t=await fetch(`/api/containers/${pe().containerId}/files?path=${encodeURIComponent(n(ct))}`,{headers:{Authorization:`Bearer ${e}`}});if(t.ok){const e=await t.blob(),s=n(ct).split("/").pop()||"download",a=window.URL.createObjectURL(e),l=document.createElement("a");l.href=a,l.download=s,document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(a),document.body.removeChild(l),se.success(`Downloaded ${s}`),i(ot,!1)}else{const e=await t.json();se.error(e.error||"Download failed")}}catch(e){se.error("Download failed")}else se.error("Please enter a file path")}function pt(){He("openCollab",{containerId:pe().containerId})}async function ut(){if(n(Y)){const e=await ie.stopRecording(pe().containerId);e&&se.success(`Recording saved (${e.duration})`)}else{await ie.startRecording(pe().containerId)&&se.success("Recording started")}}function bt(){Z.splitPane(pe().id,"horizontal"),se.success("Split terminal horizontally")}function ht(){Z.splitPane(pe().id,"vertical"),se.success("Split terminal vertically")}let mt=l(!1),gt=l();function ft(e){if(!n(mt)||!n(gt))return;const t=n(gt).getBoundingClientRect(),s="horizontal"===n(de)?.direction?t.width:t.height,a=(("horizontal"===n(de)?.direction?e.clientX:e.clientY)-("horizontal"===n(de)?.direction?t.left:t.top))/s*100,l=Math.max(20,Math.min(80,a)),i=[l,100-l];Z.setSplitPaneSizes(pe().id,i)}function wt(){i(mt,!1),window.removeEventListener("mousemove",ft),window.removeEventListener("mouseup",wt),setTimeout(()=>Z.fitSession(pe().id),50)}c(()=>v(pe()),()=>{i(F,!0===pe().isCollabSession)}),c(()=>v(pe()),()=>{i(O,"view"===pe().collabMode)}),c(()=>(I(),v(pe())),()=>{i(N,I().containers.find(e=>e.id===pe().containerId||e.db_id===pe().containerId))}),c(()=>n(N),()=>{i(U,n(N)?.role||null)}),c(()=>(R(),v(pe())),()=>{i(W,R().activeSession?.containerId===pe().containerId&&R().participants.length>0)}),c(()=>v(pe()),()=>{i(Fe,pe()?.status)}),c(()=>(v(pe()),n(Fe)),()=>{"connected"===pe()?.status&&"connecting"===n(Fe)&&(i(Ve,!0),i(Oe,!1),setTimeout(()=>{i(Ve,!1)},2e3))}),c(()=>(v(pe()),n(Oe)),()=>{Ee&&"connecting"===pe()?.status&&!pe()?.hasConnectedOnce?n(Oe)||(i(Oe,!0),i(Ne,Date.now())):"connecting"!==pe()?.status&&i(Oe,!1)}),c(()=>(n(Oe),n(We),n(Ne)),()=>{n(Oe)&&!n(We)?(i(Ne,Date.now()),i(Ue,0),i(We,setInterval(()=>{i(Ue,Math.floor((Date.now()-n(Ne))/1e3))},1e3))):!n(Oe)&&n(We)&&(clearInterval(n(We)),i(We,null),i(Ue,0))}),c(()=>(D(),v(pe())),()=>{i(Y,D().activeRecordings.get(pe().containerId)?.recording||!1)}),c(()=>v(pe()),()=>{i(X,pe().stats.memoryLimit>0?pe().stats.memory/pe().stats.memoryLimit*100:0)}),c(()=>v(pe()),()=>{i(K,Ge(pe().stats.cpu))}),c(()=>n(X),()=>{i(G,Ge(n(X)))}),c(()=>(v(pe()),n(Je),n(Qe)),()=>{pe().stats.netRx!==n(Je)&&(i(et,!0),i(Je,pe().stats.netRx),setTimeout(()=>i(et,!1),500)),pe().stats.netTx!==n(Qe)&&(i(tt,!0),i(Qe,pe().stats.netTx),setTimeout(()=>i(tt,!1),500))}),c(()=>(n(st),v(pe()),n(at)),()=>{n(st)&&pe()?.terminal&&n(at)!==n(st)&&(async()=>{await async function(){if(n(st)&&pe()?.terminal&&n(at)!==n(st)){await M();try{Z.reattachTerminal(pe().id,n(st)),i(at,n(st))}catch(e){i(at,null)}}}()})()}),c(()=>v(pe()),()=>{i(J,pe()?.status||"disconnected")}),c(()=>n(J),()=>{i(Q,"connected"===n(J))}),c(()=>n(J),()=>{i(ne,"connecting"===n(J))}),c(()=>n(J),()=>{i(le,"disconnected"===n(J)||"error"===n(J))}),c(()=>v(pe()),()=>{i(ce,pe()?.splitPanes?.size>0)}),c(()=>v(pe()),()=>{i(re,pe()?.splitPanes?Array.from(pe().splitPanes.values()):[])}),c(()=>v(pe()),()=>{i(de,pe()?.splitLayout)}),r(),d();var yt=De(),kt=b(yt),_t=b(kt),xt=b(_t),zt=b(xt),$t=u(xt,2),Ct=e=>{var t=be();y(e,t)};z($t,e=>{v(pe()),g(()=>pe().isCollabSession&&"view"===pe().collabMode)&&e(Ct)});var Mt=u($t,2);let St;var At=u(b(Mt)),jt=u(Mt,2),Lt=e=>{var t=he(),s=b(t);ve(s,{get platform(){return n(U)},size:14});var a=u(s,2),l=b(a);m(()=>{S(t,"title",`Environment: ${n(U)??""}`),w(l,n(U))}),y(e,t)};z(jt,e=>{n(U)&&e(Lt)});var Pt=u(jt,2),Tt=e=>{var t=fe(),s=b(t),a=u(b(s),2),l=b(a),i=u(s,4),o=u(b(i),2),c=b(o),r=u(o,2),d=e=>{var t=me(),s=b(t);m(e=>w(s,`/ ${e??""}`),[()=>(v(oe),v(pe()),g(()=>oe(pe().stats.memoryLimit)))]),y(e,t)};z(r,e=>{v(pe()),g(()=>pe().stats.memoryLimit>0)&&e(d)});var p=u(i,4),h=u(b(p),2),k=b(h),_=u(h,2),x=e=>{var t=ge(),s=b(t);m(e=>w(s,`/ ${e??""}`),[()=>(v(oe),v(pe()),g(()=>oe(pe().stats.diskLimit)))]),y(e,t)};z(_,e=>{v(pe()),g(()=>pe().stats.diskLimit>0)&&e(x)});var C=u(p,4),M=u(b(C),2),A=b(M);let j;var L=b(A),P=u(A,2);let T;var q=b(P);m((e,t,v,r,d,u,b,h,m,g,y,_,x,z,M)=>{S(s,"title",`CPU Usage (${e??""}%)`),$(a,`color: ${n(K)??""}`),w(l,`${t??""}%`),S(i,"title",`Memory: ${v??""} / ${r??""} (${d??""}%)`),$(o,`color: ${n(G)??""}`),w(c,u),S(p,"title",`Storage: ${b??""} used${h??""} (IO: R:${m??""} W:${g??""})`),w(k,y),S(C,"title",`Network: RX ${_??""} / TX ${x??""}`),j=f(A,1,"stat-io-item stat-rx svelte-1n98d8v",null,j,{pulse:n(et)}),w(L,`RX:${z??""}`),T=f(P,1,"stat-io-item stat-tx svelte-1n98d8v",null,T,{pulse:n(tt)}),w(q,`TX:${M??""}`)},[()=>(v(pe()),g(()=>pe().stats.cpu.toFixed(1))),()=>(v(pe()),g(()=>pe().stats.cpu.toFixed(1))),()=>(v(oe),v(pe()),g(()=>oe(pe().stats.memory))),()=>(v(oe),v(pe()),g(()=>oe(pe().stats.memoryLimit))),()=>(n(X),g(()=>n(X).toFixed(0))),()=>(v(oe),v(pe()),g(()=>oe(pe().stats.memory))),()=>(v(oe),v(pe()),g(()=>oe(pe().stats.diskUsage||pe().stats.diskWrite))),()=>(v(pe()),v(oe),g(()=>pe().stats.diskLimit>0?" / "+oe(pe().stats.diskLimit)+" limit":"")),()=>(v(oe),v(pe()),g(()=>oe(pe().stats.diskRead))),()=>(v(oe),v(pe()),g(()=>oe(pe().stats.diskWrite))),()=>(v(oe),v(pe()),g(()=>oe(pe().stats.diskUsage||pe().stats.diskWrite))),()=>(v(oe),v(pe()),g(()=>oe(pe().stats.netRx))),()=>(v(oe),v(pe()),g(()=>oe(pe().stats.netTx))),()=>(v(oe),v(pe()),g(()=>oe(pe().stats.netRx))),()=>(v(oe),v(pe()),g(()=>oe(pe().stats.netTx)))]),y(e,t)},qt=e=>{var t=A(),s=j(t),a=e=>{var t=we();y(e,t)};z(s,e=>{n(Q)&&e(a)},!0),y(e,t)};z(Pt,e=>{n(Q),v(pe()),g(()=>n(Q)&&(pe().stats.memoryLimit>0||pe().stats.memory>0||pe().stats.cpu>0))?e(Tt):e(qt,!1)});var It=u(_t,2),Bt=b(It),Rt=e=>{var t=ye();t.__click=nt,y(e,t)};z(Bt,e=>{n(le)&&e(Rt)});var Dt=u(Bt,2),Ht=e=>{var t=Ce(),s=j(t);s.__click=bt;var a=u(s,2);a.__click=ht;var l=u(a,4);let o;l.__click=ut;var c=b(l),v=b(c),r=e=>{var t=ke();y(e,t)},d=e=>{var t=_e();y(e,t)};z(v,e=>{n(Y)?e(r):e(d,!1)});var p=u(l,2);let k;p.__click=pt;var _=u(b(p),2),x=e=>{var t=xe(),s=b(t);m(()=>w(s,(R(),g(()=>R().participants.length)))),y(e,t)};z(_,e=>{n(W)&&e(x)});var $=u(p,2);$.__change=rt,h($,e=>i(lt,e),()=>n(lt));var C=u($,2);C.__click=vt;var M=b(C),A=e=>{var t=ze();y(e,t)},L=e=>{var t=$e();y(e,t)};z(M,e=>{n(it)?e(A):e(L,!1)}),m(()=>{o=f(l,1,"toolbar-btn icon-btn svelte-1n98d8v",null,o,{recording:n(Y)}),S(l,"title",n(Y)?"Stop Recording":"Start Recording"),k=f(p,1,"toolbar-btn icon-btn collab-btn svelte-1n98d8v",null,k,{"has-participants":n(W)}),S(p,"title",(n(W),R(),g(()=>n(W)?`Collaborate (${R().participants.length} connected)`:"Collaborate"))),C.disabled=n(it)||!n(Q)}),y(e,t)};z(Dt,e=>{n(F)||e(Ht)});var Et=u(Dt,2);Et.__click=function(){i(ot,!0)};var Vt=u(Et,4),Ft=b(Vt);Ft.__click=function(){if(!n(Xe)&&n(Ke)){const e=n(Ke).getBoundingClientRect();i(Ze,{top:e.bottom+4,right:window.innerWidth-e.right})}i(Xe,!n(Xe))},h(Ft,e=>i(Ke,e),()=>n(Ke));var Ot=u(Ft,2),Nt=e=>{var t=je(),s=b(t),a=e=>{var t=Me();t.__click=()=>{!function(){const e=`${window.location.origin}/terminal/${pe().containerId}`;navigator.clipboard.writeText(e).then(()=>{se.success("Terminal link copied to clipboard")}).catch(()=>{se.error("Failed to copy link")})}(),i(Xe,!1)},y(e,t)};z(s,e=>{n(F)||e(a)});var l=u(s,2);l.__click=()=>{!function(){if(pe().terminal){const e=pe().terminal.getSelection();e&&navigator.clipboard.writeText(e)}}(),i(Xe,!1)};var o=u(l,2),c=e=>{var t=Se(),s=j(t);s.__click=()=>{navigator.clipboard.readText().then(e=>{if(pe().ws&&pe().ws.readyState===WebSocket.OPEN){const t=4096;if(e.length>t){const s=[];for(let l=0;l<e.length;l+=t)s.push(e.slice(l,l+t));let a=0;const n=()=>{a<s.length&&pe().ws?.readyState===WebSocket.OPEN&&(pe().ws.send(JSON.stringify({type:"input",data:s[a]})),a++,a<s.length&&setTimeout(n,10))};n()}else pe().ws.send(JSON.stringify({type:"input",data:e}))}}).catch(e=>{se.error("Failed to paste - clipboard access denied")}),i(Xe,!1)};var a=u(s,2);a.__click=()=>{pe().terminal&&pe().terminal.clear(),i(Xe,!1)},u(a,2).__click=()=>{Z.resetSession(pe().id),i(Xe,!1)},y(e,t)};z(o,e=>{n(O)||e(c)});var v=u(o,2),r=e=>{var t=Ae(),s=u(j(t),2);s.__click=()=>{He("openSnippets",{containerId:pe().containerId}),i(Xe,!1)},u(s,2).__click=()=>{He("openRecordings",{containerId:pe().containerId}),i(Xe,!1)},y(e,t)};z(v,e=>{n(F)||e(r)}),m(()=>$(t,`top: ${n(Ze),g(()=>n(Ze).top)??""}px; right: ${n(Ze),g(()=>n(Ze).right)??""}px;`)),L("mouseleave",t,()=>i(Xe,!1)),y(e,t)};z(Ot,e=>{n(Xe)&&e(Nt)});var Ut=u(kt,2);let Wt;var Yt=b(Ut);let Xt;var Kt=b(Yt);Kt.__click=function(){pe().terminal&&pe().terminal.focus()},Kt.__keydown=()=>{},h(Kt,e=>i(st,e),()=>n(st));var Zt=u(Yt,2),Gt=e=>{var t=A(),s=j(t);P(s,3,()=>n(re),e=>e.id,(e,t,s)=>{var a=Le(),l=j(a);l.__mousedown=e=>function(e){e.preventDefault(),i(mt,!0),window.addEventListener("mousemove",ft),window.addEventListener("mouseup",wt)}(e,n(s));var o=u(l,2);ue(b(o),{get session(){return pe()},get pane(){return n(t)}}),m(()=>$(o,`flex: ${n(de),v(n(s)),g(()=>n(de).sizes[n(s)+1]||50)??""};`)),y(e,a)}),y(e,t)};z(Zt,e=>{n(ce)&&n(de)&&e(Gt)}),h(Ut,e=>i(gt,e),()=>n(gt));var Jt=u(Ut,2),Qt=e=>{var t=Pe();y(e,t)};z(Jt,e=>{n(Ve)&&e(Qt)});var es=u(Jt,2),ts=e=>{var t=Ie(),s=b(t),a=u(b(s),4),l=b(a),i=e=>{var t=Te(),s=j(t),a=u(s),l=e=>{var t=B("· Slow network detected");y(e,t)},i=e=>{var t=A(),s=j(t),a=e=>{var t=B("· Loading terminal modules");y(e,t)},l=e=>{var t=B("· Establishing connection");y(e,t)};z(s,e=>{n(Ue)>5?e(a):e(l,!1)},!0),y(e,t)};z(a,e=>{Ye?e(l):e(i,!1)}),m(()=>w(s,`${n(Ue)??""}s `)),y(e,t)},o=e=>{var t=B("Initializing...");y(e,t)};z(l,e=>{n(Ue)>0?e(i):e(o,!1)});var c=u(a,2),v=e=>{var t=qe();y(e,t)};z(c,e=>{n(Ue)>10&&e(v)}),y(e,t)};z(es,e=>{n(Oe)&&e(ts)});var ss=u(es,2),as=e=>{var t=Be();u(b(t),4).__click=nt,y(e,t)};z(ss,e=>{n(le)&&e(as)});var ns=u(ss,2),ls=e=>{var t=Re();t.__click=()=>i(ot,!1),t.__keydown=e=>"Escape"===e.key&&i(ot,!1);var s=b(t);s.__click=e=>e.stopPropagation();var a=b(s);u(b(a),2).__click=()=>i(ot,!1);var l=u(a,2),o=u(b(l),2);o.__keydown=e=>"Enter"===e.key&&dt();var c=u(l,2),v=b(c);v.__click=()=>i(ot,!1),u(v,2).__click=dt,T(o,()=>n(ct),e=>i(ct,e)),y(e,t)};z(ns,e=>{n(ot)&&e(ls)}),m(()=>{w(zt,(v(pe()),g(()=>pe().name))),St=f(Mt,1,"terminal-status svelte-1n98d8v",null,St,{connected:n(Q),connecting:n(ne),disconnected:n(le)}),w(At,` ${n(J)??""}`),Et.disabled=!n(Q),Wt=f(Ut,1,"terminal-wrapper svelte-1n98d8v",null,Wt,{"has-splits":n(ce)&&n(de),horizontal:"horizontal"===n(de)?.direction,vertical:"vertical"===n(de)?.direction,resizing:n(mt)}),Xt=$(Yt,"",Xt,{flex:(n(ce),n(de),g(()=>n(ce)&&n(de)?n(de)?.sizes[0]||50:1))})}),y(e,yt),k(),V()}e(["click","change","keydown","mousedown"]);var Ee=p('<button class="ctrl-btn svelte-1qp10i1"> </button> <button class="ctrl-btn svelte-1qp10i1" title="Stop">■</button>',1),Ve=p('<button class="ctrl-btn play svelte-1qp10i1" title="Play">▶</button>'),Fe=p('<div class="player-section svelte-1qp10i1"><div class="player-bar svelte-1qp10i1"><button class="back-btn svelte-1qp10i1">←</button> <span class="player-title svelte-1qp10i1"> </span> <span class="player-duration svelte-1qp10i1"> </span></div> <div class="player-container svelte-1qp10i1"></div> <div class="player-controls svelte-1qp10i1"><div class="progress-bar svelte-1qp10i1"><div class="progress-fill svelte-1qp10i1"></div></div> <div class="control-buttons svelte-1qp10i1"><!></div> <button class="ctrl-btn download svelte-1qp10i1" title="Download">↓</button></div></div>'),Oe=p('<div class="active-recording svelte-1qp10i1"><div class="rec-status svelte-1qp10i1"><span class="rec-dot blink svelte-1qp10i1"></span> <span class="svelte-1qp10i1">Recording</span> <span class="elapsed svelte-1qp10i1"> </span></div> <button class="stop-btn svelte-1qp10i1">■ Stop</button></div>'),Ne=p('<span class="spinner-sm svelte-1qp10i1"></span>'),Ue=p('<span class="rec-dot svelte-1qp10i1"></span>'),We=p('<input type="text" placeholder="Recording title (optional)" class="title-input svelte-1qp10i1"/> <button class="start-btn svelte-1qp10i1"><!> </button>',1),Ye=p('<p class="hint svelte-1qp10i1">Connect to a terminal first</p>'),Xe=p('<div class="start-section svelte-1qp10i1"><!></div>'),Ke=p('<div class="loading svelte-1qp10i1"><span class="spinner-sm svelte-1qp10i1"></span> Loading...</div>'),Ze=p('<p class="empty svelte-1qp10i1">No recordings yet</p>'),Ge=I('<circle cx="12" cy="12" r="10" class="svelte-1qp10i1"></circle><line x1="2" y1="12" x2="22" y2="12" class="svelte-1qp10i1"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z" class="svelte-1qp10i1"></path>',1),Je=I('<rect x="3" y="11" width="18" height="11" rx="2" ry="2" class="svelte-1qp10i1"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4" class="svelte-1qp10i1"></path>',1),Qe=p('<button class="icon-btn svelte-1qp10i1" title="Copy link"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1qp10i1"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" class="svelte-1qp10i1"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" class="svelte-1qp10i1"></path></svg></button>'),et=p('<div class="recording-item svelte-1qp10i1"><div class="rec-info svelte-1qp10i1"><span class="rec-title svelte-1qp10i1"> </span> <span class="rec-meta svelte-1qp10i1"> </span></div> <div class="rec-actions svelte-1qp10i1"><button><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1qp10i1"><!></svg></button> <!> <button class="icon-btn delete svelte-1qp10i1" title="Delete"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1qp10i1"><polyline points="3 6 5 6 21 6" class="svelte-1qp10i1"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" class="svelte-1qp10i1"></path></svg></button></div></div>'),tt=p('<div class="library-list svelte-1qp10i1"><!></div>'),st=p('<div class="tabs svelte-1qp10i1"><button>Record</button> <button>Library <span class="count svelte-1qp10i1"> </span></button></div> <div class="panel-content svelte-1qp10i1"><!></div>',1),at=p('<div class="panel-overlay svelte-1qp10i1"><div><div class="panel-header svelte-1qp10i1"><div class="header-left svelte-1qp10i1"><span class="rec-icon svelte-1qp10i1">⏺</span> <span class="title svelte-1qp10i1">REC</span></div> <button class="close-btn svelte-1qp10i1">×</button></div> <!></div></div>');function nt(e,p){t(p,!1);const M=()=>x(ie,"$recordings",L),[L,I]=C(),B=l(),E=l(),V=l(),F=l();let O=s(p,"containerId",8,""),N=s(p,"isOpen",12,!1),U=s(p,"compact",8,!1);const W=_();let Y=l(""),X=l(!1),K=l("record"),Z=l(null),G=l(),J=null,Q=null,ee=l(!1),te=l(!1),se=l(0),le=null,oe=[],ce=0;async function ve(){O()&&(i(X,!0),await ie.startRecording(O(),n(Y)||void 0),i(X,!1),i(Y,""))}async function re(){if(!O())return;await ie.stopRecording(O())&&i(K,"library")}function de(){0!==oe.length&&(i(ee,!0),i(te,!1),pe())}function pe(){if(n(te)||ce>=oe.length)return void(ce>=oe.length&&(i(ee,!1),i(se,100)));const e=oe[ce],[t,s,a]=e;"o"===s&&J&&J.write(a);const l=oe[oe.length-1][0];if(i(se,t/l*100),ce++,ce<oe.length){const e=oe[ce][0],s=Math.max(10,1e3*(e-t));le=setTimeout(pe,s)}else i(ee,!1),i(se,100)}function ue(){n(te)?(i(te,!1),pe()):(i(te,!0),le&&clearTimeout(le))}function be(){if(le&&(clearTimeout(le),le=null),i(ee,!1),i(te,!1),ce=0,i(se,0),J&&J.element)try{J.clear(),J.reset()}catch(e){}}function he(){if(be(),J&&J.element)try{J.clear(),J.reset()}catch(e){}ce=0,i(se,0),de()}function me(){be(),N(!1),i(Z,null),W("close")}a(()=>{ie.fetchRecordings(),O()&&ie.getRecordingStatus(O())}),o(()=>{be(),J&&J.dispose()}),c(()=>M(),()=>{i(B,M().recordings)}),c(()=>(M(),v(O())),()=>{i(E,M().activeRecordings.get(O()))}),c(()=>n(E),()=>{i(V,n(E)?.recording||!1)}),c(()=>M(),()=>{i(F,M().isLoading)}),r(),d();var ge=A(),fe=j(ge),we=e=>{var t=at();t.__click=e=>{e.target===e.currentTarget&&me()};var s=b(t);let a;var l=b(s);u(b(l),2).__click=me;var o=u(l,2),c=e=>{var t=Fe(),s=b(t),a=b(s);a.__click=()=>{be(),i(Z,null)};var l=u(a,2),o=b(l),c=u(l,2),v=b(c),r=u(s,2);h(r,e=>i(G,e),()=>n(G));var d=u(r,2),p=b(d),f=b(p),k=u(p,2),_=b(k),x=e=>{var t=Ee(),s=j(t);s.__click=ue;var a=b(s);u(s,2).__click=be,m(()=>{S(s,"title",n(te)?"Resume":"Pause"),w(a,n(te)?"▶":"⏸")}),y(e,t)},C=e=>{var t=Ve();t.__click=he,y(e,t)};z(_,e=>{n(ee)?e(x):e(C,!1)}),u(k,2).__click=()=>async function(e){if(e)try{const t=q(ae);if(!t)return;const s=await fetch(`/api/recordings/${e.id}/stream`,{headers:{Authorization:`Bearer ${t}`}});if(s.ok){const t=await s.blob(),a=window.URL.createObjectURL(t),n=document.createElement("a");n.href=a,n.download=`${e.title||"recording"}.cast`,document.body.appendChild(n),n.click(),window.URL.revokeObjectURL(a),n.remove()}}catch(t){}}(n(Z)),m(()=>{w(o,(n(Z),g(()=>n(Z).title||"Recording"))),w(v,(n(Z),g(()=>n(Z).duration))),$(f,`width: ${n(se)??""}%`)}),y(e,t)},r=e=>{var t=st(),s=j(t),a=b(s);let l;a.__click=()=>i(K,"record");var o=u(a,2);let c;o.__click=()=>i(K,"library");var r=u(b(o)),d=b(r),p=u(s,2),h=b(p),k=e=>{var t=A(),s=j(t),a=e=>{var t=Oe(),s=b(t),a=u(b(s),4),l=b(a);u(s,2).__click=re,m(e=>w(l,`${e??""}s`),[()=>(n(E),g(()=>Math.floor((n(E)?.durationMs||0)/1e3)))]),y(e,t)},l=e=>{var t=Xe(),s=b(t),a=e=>{var t=We(),s=j(t),a=u(s,2);a.__click=ve;var l=b(a),o=e=>{var t=Ne();y(e,t)},c=e=>{var t=Ue();y(e,t)};z(l,e=>{n(X)?e(o):e(c,!1)});var v=u(l);m(()=>{a.disabled=n(X),w(v," "+(n(X)?"Starting...":"Start Recording"))}),T(s,()=>n(Y),e=>i(Y,e)),y(e,t)},l=e=>{var t=Ye();y(e,t)};z(s,e=>{O()?e(a):e(l,!1)}),y(e,t)};z(s,e=>{n(V)?e(a):e(l,!1)}),y(e,t)},_=e=>{var t=tt(),s=b(t),a=e=>{var t=Ke();y(e,t)},l=e=>{var t=A(),s=j(t),a=e=>{var t=Ze();y(e,t)},l=e=>{var t=A(),s=j(t);P(s,1,()=>n(B),H,(e,t)=>{var s=et(),a=b(s);a.__click=()=>async function(e){if(i(Z,e),i(ee,!1),i(te,!1),i(se,0),ce=0,oe=[],await new Promise(e=>setTimeout(e,50)),n(G)&&!J){let e,s;try{({Terminal:e,FitAddon:s}=await ne())}catch(t){return}J=new e({theme:{background:"#0a0a14",foreground:"#e0e0e0",cursor:"#00ff88",black:"#1a1a2e",red:"#ff6b6b",green:"#00ff88",yellow:"#ffd93d",blue:"#6c5ce7",magenta:"#a29bfe",cyan:"#00d4ff",white:"#e0e0e0"},fontSize:10,fontFamily:"'JetBrains Mono', 'Fira Code', monospace",cursorStyle:"block",cursorBlink:!1,scrollback:1e3}),Q=new s,J.loadAddon(Q),J.open(n(G)),Q.fit()}if(J&&J.element)try{J.clear(),J.reset()}catch(t){}try{const s=q(ae),a=await fetch(`/api/recordings/${e.id}/stream`,{headers:{Authorization:`Bearer ${s||localStorage.getItem("token")}`}});if(a.ok){const e=(await a.text()).trim().split("\n");for(let s=1;s<e.length;s++)try{const t=JSON.parse(e[s]);Array.isArray(t)&&t.length>=3&&oe.push(t)}catch(t){}oe.length>0&&de()}}catch(t){}}(n(t));var l=b(a),o=b(l),c=u(l,2),r=b(c),d=u(a,2),p=b(d);let h;p.__click=()=>async function(e){await ie.updateRecording(e.id,{isPublic:!e.isPublic})}(n(t));var k=b(p),_=b(k),x=e=>{var t=Ge();y(e,t)},$=e=>{var t=Je();y(e,t)};z(_,e=>{n(t),g(()=>n(t).isPublic)?e(x):e($,!1)});var C=u(p,2),M=e=>{var s=Qe();s.__click=()=>function(e){const t=`${window.location.origin}${e.shareUrl}`;navigator.clipboard.writeText(t)}(n(t)),y(e,s)};z(C,e=>{n(t),g(()=>n(t).isPublic)&&e(M)}),u(C,2).__click=()=>async function(e){confirm("Delete this recording?")&&await ie.deleteRecording(e.id)}(n(t)),m(e=>{w(o,(n(t),g(()=>n(t).title||"Untitled"))),w(r,`${n(t),g(()=>n(t).duration)??""} • ${e??""}`),h=f(p,1,"icon-btn svelte-1qp10i1",null,h,{active:n(t).isPublic}),S(p,"title",(n(t),g(()=>n(t).isPublic?"Public":"Private")))},[()=>(v(ie),n(t),g(()=>ie.formatSize(n(t).sizeBytes)))]),y(e,s)}),y(e,t)};z(s,e=>{n(B),g(()=>0===n(B).length)?e(a):e(l,!1)},!0),y(e,t)};z(s,e=>{n(F)?e(a):e(l,!1)}),y(e,t)};z(h,e=>{"record"===n(K)?e(k):e(_,!1)}),m(()=>{l=f(a,1,"tab svelte-1qp10i1",null,l,{active:"record"===n(K)}),c=f(o,1,"tab svelte-1qp10i1",null,c,{active:"library"===n(K)}),w(d,(n(B),g(()=>n(B).length)))}),y(e,t)};z(o,e=>{n(Z)?e(c):e(r,!1)}),m(()=>a=f(s,1,"recording-panel svelte-1qp10i1",null,a,{compact:U()})),R(3,s,()=>D,()=>({duration:200})),y(e,t)};z(fe,e=>{N()&&e(we)}),y(e,ge),k(),I()}e(["click"]);var lt=p('<span class="spinner svelte-1ylcsnd"></span> Starting...',1),it=p('<div class="start-view svelte-1ylcsnd"><div class="terminal-summary svelte-1ylcsnd"><div class="terminal-icon svelte-1ylcsnd"><!></div> <div class="terminal-meta svelte-1ylcsnd"><span class="t-label svelte-1ylcsnd">Sharing Terminal</span> <span class="t-name svelte-1ylcsnd"> </span></div></div> <div class="section svelte-1ylcsnd"><span class="section-label svelte-1ylcsnd">Access Mode</span> <div class="mode-cards svelte-1ylcsnd"><button><div class="card-header svelte-1ylcsnd"><span class="card-icon view svelte-1ylcsnd"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1ylcsnd"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" class="svelte-1ylcsnd"></path><circle cx="12" cy="12" r="3" class="svelte-1ylcsnd"></circle></svg></span> <span class="card-title svelte-1ylcsnd">View Only</span></div> <p class="card-desc svelte-1ylcsnd">Collaborators can watch but cannot interact.</p></button> <button><div class="card-header svelte-1ylcsnd"><span class="card-icon control svelte-1ylcsnd"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1ylcsnd"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2" class="svelte-1ylcsnd"></polygon></svg></span> <span class="card-title svelte-1ylcsnd">Full Control</span></div> <p class="card-desc svelte-1ylcsnd">Collaborators can type and execute commands.</p></button></div></div> <div class="section svelte-1ylcsnd"><div class="slider-header svelte-1ylcsnd"><span class="section-label svelte-1ylcsnd">Max Participants</span> <span class="slider-val svelte-1ylcsnd"> </span></div> <input type="range" min="2" max="10" class="slider svelte-1ylcsnd"/></div> <div class="actions svelte-1ylcsnd"><button class="btn-primary start-btn svelte-1ylcsnd"><!></button></div></div>'),ot=p('<span class="svelte-1ylcsnd">✓ Copied</span>'),ct=I('<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1ylcsnd"><rect x="9" y="9" width="13" height="13" rx="2" ry="2" class="svelte-1ylcsnd"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" class="svelte-1ylcsnd"></path></svg>'),vt=p('<span class="p-badge owner svelte-1ylcsnd">HOST</span>'),rt=p('<div class="participant-row svelte-1ylcsnd"><div class="p-avatar svelte-1ylcsnd"> </div> <div class="p-info svelte-1ylcsnd"><span class="p-name svelte-1ylcsnd"> <!></span> <span class="p-role svelte-1ylcsnd"> </span></div> <div class="p-status svelte-1ylcsnd"><span class="p-dot svelte-1ylcsnd"></span></div></div>'),dt=p('<div class="empty-state svelte-1ylcsnd">Waiting for others to join...</div>'),pt=p('<div class="active-view svelte-1ylcsnd"><div><span class="live-indicator svelte-1ylcsnd"><span class="pulse-dot svelte-1ylcsnd"></span> LIVE</span> <span class="session-mode svelte-1ylcsnd"> </span></div> <div class="section share-section svelte-1ylcsnd"><span class="section-label svelte-1ylcsnd">Share Link</span> <div class="share-box svelte-1ylcsnd"><input class="share-input svelte-1ylcsnd" readonly=""/> <button><!></button></div> <div class="how-it-works svelte-1ylcsnd"><div class="how-it-works-header svelte-1ylcsnd"><!> <span class="svelte-1ylcsnd">How Collaboration Works</span></div> <ul class="how-it-works-list svelte-1ylcsnd"><li class="svelte-1ylcsnd"><span class="step-num svelte-1ylcsnd">1</span> <span class="svelte-1ylcsnd">Share the link above with your collaborators</span></li> <li class="svelte-1ylcsnd"><span class="step-num svelte-1ylcsnd">2</span> <span class="svelte-1ylcsnd">They\'ll join instantly - no account required for viewing</span></li> <li class="svelte-1ylcsnd"><span class="step-num svelte-1ylcsnd">3</span> <span class="svelte-1ylcsnd"> </span></li> <li class="svelte-1ylcsnd"><span class="step-num svelte-1ylcsnd">4</span> <span class="svelte-1ylcsnd">Session expires in 60 minutes or when you end it</span></li></ul> <div class="how-it-works-tip svelte-1ylcsnd"><strong class="svelte-1ylcsnd">Tip:</strong> </div></div></div> <div class="section participants-section svelte-1ylcsnd"><div class="section-header svelte-1ylcsnd"><span class="section-label svelte-1ylcsnd">Participants</span> <span class="p-count svelte-1ylcsnd"> </span></div> <div class="participants-list svelte-1ylcsnd"></div></div> <div class="danger-zone svelte-1ylcsnd"><button class="btn-danger svelte-1ylcsnd">End Session</button></div></div>'),ut=p('<div class="panel-overlay svelte-1ylcsnd"><div><div class="panel-header svelte-1ylcsnd"><div class="header-left svelte-1ylcsnd"><span class="icon-wrapper svelte-1ylcsnd"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1ylcsnd"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" class="svelte-1ylcsnd"></path><circle cx="9" cy="7" r="4" class="svelte-1ylcsnd"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87" class="svelte-1ylcsnd"></path><path d="M16 3.13a4 4 0 0 1 0 7.75" class="svelte-1ylcsnd"></path></svg></span> <span class="title svelte-1ylcsnd">Live Collaboration</span></div> <button class="close-btn svelte-1ylcsnd"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1ylcsnd"><line x1="18" y1="6" x2="6" y2="18" class="svelte-1ylcsnd"></line><line x1="6" y1="6" x2="18" y2="18" class="svelte-1ylcsnd"></line></svg></button></div> <div class="panel-body svelte-1ylcsnd"><!></div></div></div>');e(["click"]);var bt=p('<div class="loading-state svelte-vh1j5b"><div class="spinner svelte-vh1j5b"></div> <p>Loading snippets...</p></div>'),ht=p('<div class="empty-state svelte-vh1j5b"><div class="empty-icon svelte-vh1j5b"><!></div> <p>No snippets found.</p> <button class="btn btn-primary svelte-vh1j5b">Create Your First Snippet</button></div>'),mt=p('<div class="snippet-card svelte-vh1j5b"><div class="snippet-info svelte-vh1j5b"><div class="snippet-name svelte-vh1j5b"> </div> <div class="snippet-preview svelte-vh1j5b"> </div></div> <div class="snippet-actions svelte-vh1j5b"><button class="btn btn-primary btn-sm svelte-vh1j5b" title="Run in terminal">Run</button> <button class="btn btn-icon btn-sm btn-edit svelte-vh1j5b" title="Edit"><!></button> <button class="btn btn-icon btn-sm btn-delete svelte-vh1j5b" title="Delete"><!></button></div></div>'),gt=p('<div class="snippets-list svelte-vh1j5b"></div>'),ft=p('<div class="loading-state svelte-vh1j5b"><div class="spinner svelte-vh1j5b"></div> <p>Loading marketplace...</p></div>'),wt=p('<div class="empty-state svelte-vh1j5b"><div class="empty-icon svelte-vh1j5b"><!></div> <p>No snippets found in marketplace.</p></div>'),yt=p('<div class="snippet-author svelte-vh1j5b"> </div>'),kt=p('<div class="snippet-uses svelte-vh1j5b"> </div>'),_t=p('<div class="snippet-desc svelte-vh1j5b"> </div>'),xt=p('<button class="btn btn-secondary btn-sm svelte-vh1j5b" title="Copy install command">Install</button>'),zt=p('<div class="snippet-card marketplace-card svelte-vh1j5b"><div class="snippet-header svelte-vh1j5b"><div class="snippet-icon svelte-vh1j5b"><!></div> <div class="snippet-meta svelte-vh1j5b"><div class="snippet-name svelte-vh1j5b"> </div> <!></div> <!></div> <!> <div class="snippet-preview svelte-vh1j5b"> </div> <div class="snippet-actions svelte-vh1j5b"><!> <button class="btn btn-primary btn-sm svelte-vh1j5b" title="Run in terminal">Run</button></div></div>'),$t=p('<div class="snippets-list marketplace-list svelte-vh1j5b"></div>'),Ct=p('<div class="marketplace-controls svelte-vh1j5b"><div class="search-box svelte-vh1j5b"><!> <input type="text" placeholder="Search snippets..." class="svelte-vh1j5b"/></div> <select class="category-select svelte-vh1j5b"><option>All</option><option>System</option><option>Node.js</option><option>Python</option><option>Go</option><option>DevOps</option><option>AI Tools</option></select></div> <!>',1),Mt=p('<div class="create-form"><div class="form-header svelte-vh1j5b"><h3 class="svelte-vh1j5b"> </h3></div> <div class="form-group svelte-vh1j5b"><label for="snip-name" class="svelte-vh1j5b">Name</label> <input id="snip-name" type="text" class="input svelte-vh1j5b" placeholder="e.g., Git Status"/></div> <div class="form-group svelte-vh1j5b"><label for="snip-content" class="svelte-vh1j5b">Command / Script</label> <textarea id="snip-content" class="input textarea svelte-vh1j5b" placeholder="e.g., git status -sb"></textarea> <p class="hint svelte-vh1j5b">Tip: Multi-line scripts are supported</p></div> <div class="form-actions svelte-vh1j5b"><button class="btn btn-secondary svelte-vh1j5b">Cancel</button> <button class="btn btn-primary svelte-vh1j5b"> </button></div></div>'),St=p('<div class="modal-backdrop svelte-vh1j5b"><div class="modal-container svelte-vh1j5b"><div class="modal-header svelte-vh1j5b"><div class="modal-title-group svelte-vh1j5b"><span class="modal-icon svelte-vh1j5b"><!></span> <h2 class="svelte-vh1j5b">Snippets & Macros</h2></div> <button class="close-btn svelte-vh1j5b">×</button></div> <div class="tabs svelte-vh1j5b"><button>My Snippets</button> <button>Marketplace</button> <button>Create</button></div> <div class="modal-body svelte-vh1j5b"><!></div></div></div>'),At=p("<!> <!>",1);function jt(e,a){t(a,!1);let o=s(a,"show",12,!1),p=s(a,"containerId",8,null);const h=_();let x=l([]),$=l([]),C=l(!0),M=l(!1),S=l("list"),q=l(""),I=l("all"),B=l(""),D=l(""),H=l(!1),V=l(null),Y=l(!1),X=l(null);async function K(){i(M,!0);const e=new URLSearchParams;n(q)&&e.set("search",n(q)),"all"!==n(I)&&e.set("language",n(I)),e.set("sort","popular");const{data:t,error:s}=await ce.get(`/api/marketplace/snippets?${e.toString()}`);t?i($,t.snippets||[]):s&&se.error("Failed to load marketplace"),i(M,!1)}function Z(){o(!1),h("close"),i(S,"list"),i(B,""),i(D,""),i(V,null)}function G(){i(V,null),i(B,""),i(D,""),i(S,"list")}async function J(){if(n(B).trim()&&n(D).trim()){if(i(H,!0),n(V)){const{data:e,error:t}=await ce.put(`/api/snippets/${n(V).id}`,{name:n(B).trim(),content:n(D).trim(),language:n(V).language||"bash"});e?(i(x,n(x).map(t=>t.id===n(V).id?e:t)),se.success("Snippet updated"),i(V,null),i(S,"list"),i(B,""),i(D,"")):se.error(t||"Failed to update snippet")}else{const{data:e,error:t}=await ce.post("/api/snippets",{name:n(B).trim(),content:n(D).trim(),language:"bash"});e?(i(x,[e,...n(x)]),se.success("Snippet saved"),i(S,"list"),i(B,""),i(D,"")):se.error(t||"Failed to save snippet")}i(H,!1)}else se.error("Name and content are required")}function Q(e){p()?(h("run",{snippet:e}),se.success(`Running "${e.name}"`),Z()):se.error("No active terminal to run snippet")}c(()=>(v(o()),n(S)),()=>{o()&&(!async function(){i(C,!0);const{data:e,error:t}=await ce.get("/api/snippets");e?i(x,e.snippets||[]):t&&se.error("Failed to load snippets"),i(C,!1)}(),"marketplace"===n(S)&&K())}),c(()=>(n(S),n($)),()=>{"marketplace"===n(S)&&0===n($).length&&K()}),r(),d();var ee=At();L("keydown",F,function(e){o()&&"Escape"===e.key&&Z()});var te=j(ee);{let e=O(()=>(n(X),g(()=>n(X)?`Are you sure you want to delete "${n(X).name}"?`:"")));de(te,{title:"Delete Snippet",get message(){return n(e)},confirmText:"Delete",variant:"danger",get show(){return n(Y)},set show(e){i(Y,e)},$$events:{confirm:async function(){if(!n(X))return;const{id:e}=n(X);i(X,null);const{error:t}=await ce.delete(`/api/snippets/${e}`);t?se.error(t||"Failed to delete snippet"):(i(x,n(x).filter(t=>t.id!==e)),se.success("Snippet deleted"))}},$$legacy:!0})}var ae=u(te,2),ne=e=>{var t=St(),s=b(t),a=b(s),l=b(a),o=b(l),c=b(o);le(c,{status:"bolt",size:20}),u(l,2).__click=Z;var v=u(a,2),r=b(v);let d;r.__click=()=>i(S,"list");var p=u(r,2);let h;p.__click=()=>i(S,"marketplace");var k=u(p,2);let _;k.__click=()=>i(S,"create");var L=u(v,2),F=b(L),ee=e=>{var t=A(),s=j(t),a=e=>{var t=bt();y(e,t)},l=e=>{var t=A(),s=j(t),a=e=>{var t=ht(),s=b(t),a=b(s);le(a,{status:"terminal",size:32}),u(s,4).__click=()=>i(S,"create"),y(e,t)},l=e=>{var t=gt();P(t,5,()=>n(x),e=>e.id,(e,t)=>{var s=mt(),a=b(s),l=b(a),o=b(l),c=u(l,2),v=b(c),r=u(a,2),d=b(r);d.__click=()=>Q(n(t));var p=u(d,2);p.__click=()=>function(e){i(V,e),i(B,e.name),i(D,e.content),i(S,"create")}(n(t));var h=b(p);le(h,{status:"edit",size:14});var f=u(p,2);f.__click=()=>{return e=n(t).id,s=n(t).name,i(X,{id:e,name:s}),void i(Y,!0);var e,s};var k=b(f);le(k,{status:"trash",size:14}),m(()=>{w(o,(n(t),g(()=>n(t).name))),w(v,(n(t),g(()=>n(t).content)))}),y(e,s)}),y(e,t)};z(s,e=>{n(x),g(()=>0===n(x).length)?e(a):e(l,!1)},!0),y(e,t)};z(s,e=>{n(C)?e(a):e(l,!1)}),y(e,t)},te=e=>{var t=A(),s=j(t),a=e=>{var t=Ct(),s=j(t),a=b(s),l=b(a);le(l,{status:"search",size:14});var o=u(l,2);o.__keydown=e=>"Enter"===e.key&&K();var c=u(a,2);m(()=>{n(I),U(()=>{})}),c.__change=()=>K();var v=b(c);v.value=v.__value="all";var r=u(v);r.value=r.__value="system";var d=u(r);d.value=d.__value="nodejs";var p=u(d);p.value=p.__value="python";var h=u(p);h.value=h.__value="golang";var f=u(h);f.value=f.__value="devops";var k=u(f);k.value=k.__value="ai";var _=u(s,2),x=e=>{var t=ft();y(e,t)},C=e=>{var t=A(),s=j(t),a=e=>{var t=wt(),s=b(t),a=b(s);le(a,{status:"grid",size:32}),y(e,t)},l=e=>{var t=$t();P(t,5,()=>n($),e=>e.id,(e,t)=>{var s=zt(),a=b(s),l=b(a),i=b(l);{let e=O(()=>(n(t),g(()=>n(t).category||"file")));le(i,{get status(){return n(e)},size:16})}var o=u(l,2),c=b(o),v=b(c),r=u(c,2),d=e=>{var s=yt(),a=b(s);m(()=>w(a,`by ${n(t),g(()=>n(t).username)??""}`)),y(e,s)};z(r,e=>{n(t),g(()=>n(t).username)&&e(d)});var p=u(o,2),h=e=>{var s=kt(),a=b(s);m(()=>w(a,`${n(t),g(()=>n(t).usage_count)??""} uses`)),y(e,s)};z(p,e=>{n(t),g(()=>n(t).usage_count)&&e(h)});var f=u(a,2),k=e=>{var s=_t(),a=b(s);m(()=>w(a,(n(t),g(()=>n(t).description)))),y(e,s)};z(f,e=>{n(t),g(()=>n(t).description)&&e(k)});var _=u(f,2),x=b(_),$=u(_,2),C=b($),M=e=>{var s=xt();s.__click=()=>{navigator.clipboard.writeText(n(t).install_command||""),se.success("Install command copied!")},y(e,s)};z(C,e=>{n(t),g(()=>n(t).install_command)&&e(M)}),u(C,2).__click=()=>Q(n(t)),m(()=>{w(v,(n(t),g(()=>n(t).name))),w(x,(n(t),g(()=>n(t).content)))}),y(e,s)}),y(e,t)};z(s,e=>{n($),g(()=>0===n($).length)?e(a):e(l,!1)},!0),y(e,t)};z(_,e=>{n(M)?e(x):e(C,!1)}),T(o,()=>n(q),e=>i(q,e)),W(c,()=>n(I),e=>i(I,e)),y(e,t)},l=e=>{var t=Mt(),s=b(t),a=b(s),l=b(a),o=u(s,2),c=u(b(o),2),v=u(o,2),r=u(b(v),2),d=u(v,2),p=b(d);p.__click=G;var h=u(p,2);h.__click=J;var f=b(h);m(e=>{w(l,n(V)?"Edit Snippet":"Create Snippet"),h.disabled=e,w(f,n(H)?"Saving...":n(V)?"Update Snippet":"Save Snippet")},[()=>(n(H),n(B),n(D),g(()=>n(H)||!n(B).trim()||!n(D).trim()))]),T(c,()=>n(B),e=>i(B,e)),T(r,()=>n(D),e=>i(D,e)),y(e,t)};z(s,e=>{"marketplace"===n(S)?e(a):e(l,!1)},!0),y(e,t)};z(F,e=>{"list"===n(S)?e(ee):e(te,!1)}),m(()=>{d=f(r,1,"tab-btn svelte-vh1j5b",null,d,{active:"list"===n(S)}),h=f(p,1,"tab-btn svelte-vh1j5b",null,h,{active:"marketplace"===n(S)}),_=f(k,1,"tab-btn svelte-vh1j5b",null,_,{active:"create"===n(S)})}),R(3,s,()=>N,()=>({duration:150,start:.95})),R(3,t,()=>E,()=>({duration:150})),y(e,t)};z(ae,e=>{o()&&e(ne)}),y(e,ee),k()}e(["click","keydown","change"]);var Lt=p('<button><span></span> <span class="tab-name svelte-b09sn4"> </span> <span class="tab-close svelte-b09sn4" role="button" tabindex="0" title="Close terminal">×</span></button>'),Pt=p('<div class="create-panel fullscreen-create svelte-b09sn4"><div class="create-panel-header svelte-b09sn4"><h3 class="svelte-b09sn4">New Terminal</h3> <button class="close-create svelte-b09sn4">× Cancel</button></div> <!></div>'),Tt=p("<div><!></div>"),qt=p('<div class="fullscreen-terminal svelte-b09sn4"><div class="fullscreen-header svelte-b09sn4"><div class="fullscreen-tabs svelte-b09sn4"><!> <div class="add-menu-container svelte-b09sn4"><button title="Add Terminal">+</button></div></div> <div class="fullscreen-actions svelte-b09sn4"><button class="btn btn-secondary btn-sm btn-icon snippets-btn svelte-b09sn4" title="Snippets"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" width="14" height="14" class="svelte-b09sn4"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z" class="svelte-b09sn4"></path><polyline points="14 2 14 8 20 8" class="svelte-b09sn4"></polyline><line x1="16" y1="13" x2="8" y2="13" class="svelte-b09sn4"></line><line x1="16" y1="17" x2="8" y2="17" class="svelte-b09sn4"></line></svg></button> <button class="btn btn-secondary btn-sm btn-icon share-btn svelte-b09sn4" title="Share Terminal"><svg viewBox="0 0 16 16" fill="currentColor" width="14" height="14" class="svelte-b09sn4"><path d="M13.5 1a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5zm-8.5 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm11 5.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z" class="svelte-b09sn4"></path></svg></button> <button class="btn btn-secondary btn-sm btn-icon svelte-b09sn4" title="Float window"><svg viewBox="0 0 16 16" fill="currentColor" width="14" height="14" class="svelte-b09sn4"><path d="M5.5 0a.5.5 0 0 1 .5.5v4A1.5 1.5 0 0 1 4.5 6h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5zm5 0a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 10 4.5v-4a.5.5 0 0 1 .5-.5zM0 10.5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 6 11.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zm10 1a1.5 1.5 0 0 1 1.5-1.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4z" class="svelte-b09sn4"></path></svg></button> <button class="btn btn-secondary btn-sm btn-icon svelte-b09sn4" title="Exit Fullscreen"><svg viewBox="0 0 16 16" fill="currentColor" width="14" height="14" class="svelte-b09sn4"><path d="M5.5 0a.5.5 0 0 1 .5.5v4A1.5 1.5 0 0 1 4.5 6h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5zm5 0a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 10 4.5v-4a.5.5 0 0 1 .5-.5zM0 10.5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 6 11.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zm10 1a1.5 1.5 0 0 1 1.5-1.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4z" class="svelte-b09sn4"></path></svg></button> <button class="btn btn-danger btn-sm btn-icon svelte-b09sn4" title="Close Terminal"><svg viewBox="0 0 16 16" fill="currentColor" width="14" height="14" class="svelte-b09sn4"><path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z" class="svelte-b09sn4"></path></svg></button></div></div> <div class="fullscreen-body svelte-b09sn4"><!></div></div>'),It=p('<button title="Drag out to pop to new window"><span></span> <span class="tab-name svelte-b09sn4"> </span> <span class="tab-close svelte-b09sn4" role="button" tabindex="0" title="Close terminal">×</span></button>'),Bt=p('<div class="create-panel svelte-b09sn4"><div class="create-panel-header svelte-b09sn4"><h3 class="svelte-b09sn4">New Terminal</h3> <button class="close-create svelte-b09sn4">×</button></div> <!></div>'),Rt=p("<div><!></div>"),Dt=p('<div class="minimized-bar svelte-b09sn4"><button class="restore-btn svelte-b09sn4"><span class="restore-icon svelte-b09sn4">↑</span> <span class="svelte-b09sn4"> </span></button></div>'),Ht=p('<div class="floating-container svelte-b09sn4"><div><div class="floating-header svelte-b09sn4" role="toolbar" tabindex="-1"><div class="floating-tabs svelte-b09sn4"><!> <div class="add-menu-container svelte-b09sn4"><button title="Add Terminal">+</button></div></div> <div class="floating-actions svelte-b09sn4"><button class="float-action-btn snippets-btn svelte-b09sn4" title="Snippets"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" width="12" height="12" class="svelte-b09sn4"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z" class="svelte-b09sn4"></path><polyline points="14 2 14 8 20 8" class="svelte-b09sn4"></polyline><line x1="16" y1="13" x2="8" y2="13" class="svelte-b09sn4"></line><line x1="16" y1="17" x2="8" y2="17" class="svelte-b09sn4"></line></svg></button> <button class="float-action-btn share-btn svelte-b09sn4" title="Share Terminal"><svg viewBox="0 0 16 16" fill="currentColor" width="12" height="12" class="svelte-b09sn4"><path d="M13.5 1a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5zm-8.5 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm11 5.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z" class="svelte-b09sn4"></path></svg></button> <button class="float-action-btn svelte-b09sn4" title="Pop out"><svg viewBox="0 0 16 16" fill="currentColor" width="12" height="12" class="svelte-b09sn4"><path d="M5.5 0a.5.5 0 0 1 .5.5v4A1.5 1.5 0 0 1 4.5 6h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5zm5 0a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 10 4.5v-4a.5.5 0 0 1 .5-.5zM0 10.5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 6 11.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zm10 1a1.5 1.5 0 0 1 1.5-1.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4z" class="svelte-b09sn4"></path></svg></button> <button class="float-action-btn svelte-b09sn4" title="Dock window"><svg viewBox="0 0 16 16" fill="currentColor" width="12" height="12" class="svelte-b09sn4"><path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z" class="svelte-b09sn4"></path><path d="M6 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z" class="svelte-b09sn4"></path></svg></button> <button class="float-action-btn svelte-b09sn4" title="Minimize"><svg viewBox="0 0 16 16" fill="currentColor" width="12" height="12" class="svelte-b09sn4"><path d="M2 8a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11A.5.5 0 0 1 2 8Z" class="svelte-b09sn4"></path></svg></button> <button class="float-action-btn svelte-b09sn4" title="Fullscreen"><svg viewBox="0 0 16 16" fill="currentColor" width="12" height="12" class="svelte-b09sn4"><path d="M1.5 1a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4A1.5 1.5 0 0 1 1.5 0h4a.5.5 0 0 1 0 1h-4zM10 .5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 16 1.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zM.5 10a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 0 14.5v-4a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v4a1.5 1.5 0 0 1-1.5 1.5h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5z" class="svelte-b09sn4"></path></svg></button> <button class="float-action-btn close-btn svelte-b09sn4" title="Close Terminal"><svg viewBox="0 0 16 16" fill="currentColor" width="12" height="12" class="svelte-b09sn4"><path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z" class="svelte-b09sn4"></path></svg></button></div></div> <div class="floating-body svelte-b09sn4"><!></div> <div class="resize-handle svelte-b09sn4" role="separator" tabindex="-1"></div></div></div> <!>',1),Et=p('<div class="minimized-bar docked-minimized svelte-b09sn4"><button class="restore-btn svelte-b09sn4"><span class="restore-icon svelte-b09sn4">↑</span> <span class="svelte-b09sn4"> </span></button></div>'),Vt=p('<button title="Drag out to pop to new window"><span></span> <span class="tab-name svelte-b09sn4"> </span> <span class="tab-close svelte-b09sn4" role="button" tabindex="0" title="Close terminal">×</span></button>'),Ft=p('<div class="create-panel docked-create svelte-b09sn4"><div class="create-panel-header svelte-b09sn4"><h3 class="svelte-b09sn4">New Terminal</h3> <button class="close-create svelte-b09sn4">× Cancel</button></div> <!></div>'),Ot=p("<div><!></div>"),Nt=p('<div class="docked-terminal svelte-b09sn4"><div class="docked-resize-handle svelte-b09sn4" role="separator" aria-orientation="horizontal" aria-label="Resize terminal panel" tabindex="-1" title="Drag to resize"><div class="resize-grip svelte-b09sn4"></div></div> <div class="docked-header svelte-b09sn4"><div class="docked-tabs svelte-b09sn4"><!> <div class="add-menu-container svelte-b09sn4"><button title="Add Terminal">+</button></div></div> <div class="docked-spacer svelte-b09sn4"></div> <div class="docked-actions svelte-b09sn4"><button class="btn btn-secondary btn-sm btn-icon snippets-btn svelte-b09sn4" title="Snippets"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" width="14" height="14" class="svelte-b09sn4"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z" class="svelte-b09sn4"></path><polyline points="14 2 14 8 20 8" class="svelte-b09sn4"></polyline><line x1="16" y1="13" x2="8" y2="13" class="svelte-b09sn4"></line><line x1="16" y1="17" x2="8" y2="17" class="svelte-b09sn4"></line></svg></button> <button class="btn btn-secondary btn-sm btn-icon share-btn svelte-b09sn4" title="Share Terminal"><svg viewBox="0 0 16 16" fill="currentColor" width="14" height="14" class="svelte-b09sn4"><path d="M13.5 1a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5zm-8.5 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm11 5.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z" class="svelte-b09sn4"></path></svg></button> <button class="btn btn-secondary btn-sm btn-icon svelte-b09sn4" title="Float window"><svg viewBox="0 0 16 16" fill="currentColor" width="14" height="14" class="svelte-b09sn4"><path d="M5.5 0a.5.5 0 0 1 .5.5v4A1.5 1.5 0 0 1 4.5 6h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5zm5 0a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 10 4.5v-4a.5.5 0 0 1 .5-.5zM0 10.5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 6 11.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zm10 1a1.5 1.5 0 0 1 1.5-1.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4z" class="svelte-b09sn4"></path></svg></button> <button class="btn btn-secondary btn-sm btn-icon svelte-b09sn4" title="Toggle dock/float"><svg viewBox="0 0 16 16" fill="currentColor" width="14" height="14" class="svelte-b09sn4"><path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z" class="svelte-b09sn4"></path><path d="M6 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z" class="svelte-b09sn4"></path></svg></button> <button class="btn btn-secondary btn-sm btn-icon svelte-b09sn4" title="Minimize"><svg viewBox="0 0 16 16" fill="currentColor" width="14" height="14" class="svelte-b09sn4"><path d="M2 8a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11A.5.5 0 0 1 2 8Z" class="svelte-b09sn4"></path></svg></button> <button class="btn btn-secondary btn-sm btn-icon svelte-b09sn4" title="Fullscreen"><svg viewBox="0 0 16 16" fill="currentColor" width="14" height="14" class="svelte-b09sn4"><path d="M1.5 1a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4A1.5 1.5 0 0 1 1.5 0h4a.5.5 0 0 1 0 1h-4zM10 .5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 16 1.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zM.5 10a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 0 14.5v-4a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v4a1.5 1.5 0 0 1-1.5 1.5h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5z" class="svelte-b09sn4"></path></svg></button> <button class="btn btn-danger btn-sm btn-icon svelte-b09sn4" title="Close Terminal"><svg viewBox="0 0 16 16" fill="currentColor" width="14" height="14" class="svelte-b09sn4"><path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z" class="svelte-b09sn4"></path></svg></button></div></div> <div class="docked-body svelte-b09sn4"><!></div></div>'),Ut=p('<div class="detached-window svelte-b09sn4" role="dialog" tabindex="-1"><div class="detached-header svelte-b09sn4" role="toolbar" tabindex="-1"><span class="detached-title svelte-b09sn4"> </span> <span></span> <div class="detached-actions svelte-b09sn4"><button title="Dock back to terminal panel" class="svelte-b09sn4">⬒</button> <button title="Close terminal" class="svelte-b09sn4">×</button></div></div> <div class="detached-body svelte-b09sn4"><!></div> <div class="detached-resize-handle svelte-b09sn4" role="button" tabindex="-1"></div></div>'),Wt=p('<span class="agent-badge svelte-b09sn4">Agent</span>'),Yt=p('<button><span></span> <span class="svelte-b09sn4"> </span> <!></button>'),Xt=p('<div class="add-menu-divider svelte-b09sn4"></div> <div class="add-menu-label svelte-b09sn4">Connect to available terminal</div> <div class="add-menu-sessions svelte-b09sn4"></div>',1),Kt=p('<span class="agent-badge svelte-b09sn4">Agent</span>'),Zt=p('<span class="current-badge svelte-b09sn4">Current</span>'),Gt=p('<button><span></span> <span class="svelte-b09sn4"> </span> <!> <!></button>'),Jt=p('<div class="add-menu-divider svelte-b09sn4"></div> <div class="add-menu-label svelte-b09sn4">Switch to connected session</div> <div class="add-menu-sessions svelte-b09sn4"></div>',1),Qt=p('<div class="add-menu-overlay svelte-b09sn4" role="presentation"><div class="add-menu-modal svelte-b09sn4"><div class="add-menu-header svelte-b09sn4"><span class="add-menu-title svelte-b09sn4">Terminal Options</span> <button class="add-menu-close svelte-b09sn4">×</button></div> <div class="add-menu-content svelte-b09sn4"><button class="add-menu-item primary svelte-b09sn4"><span class="menu-icon svelte-b09sn4">+</span> <span class="svelte-b09sn4">Create New Terminal</span></button> <!> <!></div></div></div>'),es=p("<!> <!> <!> <!> <!> <!>",1);function ts(e,p){t(p,!1);const h=()=>x(Z,"$terminal",U),q=()=>x(ee,"$containers",U),I=()=>x(G,"$isFloating",U),N=()=>x(J,"$sessionCount",U),[U,W]=C(),ae=l(),ne=l(),ie=l(),oe=l(),ce=l(),de=l(),pe=l(),ue=l(),be=l(),he=l();let me=l(0),ge=l(!1),fe=l(!1),we=l(!1),ye=l(null);function ke(e){i(ye,e.detail.containerId),i(ge,!0),i(fe,!1),i(we,!1)}function _e(e){i(ye,e.detail.containerId),i(fe,!0),i(ge,!1),i(we,!1)}function xe(e){i(ye,e.detail.containerId),i(we,!0),i(ge,!1),i(fe,!1)}function ze(){if(n(ue)){const e=h().sessions.get(n(ue));e&&(i(ye,e.containerId),i(we,!0),i(ge,!1),i(fe,!1))}}function $e(e){const t=e.detail.snippet;if(n(ye)&&t){const e=Array.from(h().sessions.values()).find(e=>e.containerId===n(ye));e&&(Z.sendInput(e.id,t.content),t.content.endsWith("\n")||Z.sendInput(e.id,"\n"))}}function Ce(){i(ge,!1),i(fe,!1),i(we,!1),i(ye,null)}let Me=l(!1),Se=!1,Ae=!1,je={x:0,y:0},Le=!1,Pe=0,Te=0,qe=l(null),Ie=null,Be=l(!1),Re=l(!1),De=l(!1);function Ee(){i(Re,!0),i(De,!1)}function Ve(){i(Re,!1)}function Fe(e,t){i(Re,!1),Z.createSession(e,t),se.success(`Created and connected to ${t}`)}function Oe(){i(De,!n(De))}function Ne(){i(De,!1)}function Ue(e){e.target instanceof HTMLElement&&("BUTTON"===e.target.tagName||e.target.closest("button"))||(Se=!0,je={x:e.clientX-n(ne).x,y:e.clientY-n(ne).y})}function We(e){if(Se){const t=Math.max(0,Math.min(window.innerWidth-100,e.clientX-je.x)),s=Math.max(0,Math.min(window.innerHeight-100,e.clientY-je.y));Z.setFloatingPosition(t,s)}if(Ae){const t=Math.max(400,e.clientX-n(ne).x),s=Math.max(300,e.clientY-n(ne).y);Z.setFloatingSize(t,s)}if(Le){const t=(Pe-e.clientY)/window.innerHeight*100,s=Te+t;Z.setDockedHeight(s)}}function Ye(){(Se||Ae)&&(Se=!1,Ae=!1,Z.fitAll()),Le&&(Le=!1,Z.fitAll())}function Xe(e){e.preventDefault(),e.stopPropagation(),Ae=!0}function Ke(e){e.preventDefault(),e.stopPropagation(),Le=!0,Pe=e.clientY,Te=n(oe)}function Ze(e){e.preventDefault(),Le=!0,Pe=e.touches[0].clientY,Te=n(oe)}function Ge(e){if(!Le)return;const t=(Pe-e.touches[0].clientY)/window.innerHeight*100,s=Te+t;Z.setDockedHeight(s)}function Je(){Le&&(Le=!1,Z.fitAll())}function Qe(){!n(Me)||I()?(Z.toggleFloating(),Y(me),M().then(()=>Z.fitAll())):se.info("Floating mode not available on mobile")}function et(){Z.toggleFullscreen(),Y(me),M().then(()=>Z.fitAll())}function tt(){Z.minimize()}function st(){Z.restore()}function at(e){Z.closeSession(e)}function bt(e){Z.setActiveSession(e)}function ht(e){switch(e){case"connected":return"status-connected";case"connecting":return"status-connecting";default:return"status-disconnected"}}function mt(e,t){0===e.button&&(i(qe,t),Ie={x:e.clientX,y:e.clientY},i(Be,!1),e.preventDefault())}function gt(e){if(!n(qe)||!Ie)return;const t=Math.abs(e.clientX-Ie.x),s=Math.abs(e.clientY-Ie.y);(t>20||s>20)&&i(Be,!0)}function ft(e){n(qe)&&n(Be)&&wt(n(qe),e.clientX,e.clientY),i(qe,null),Ie=null,i(Be,!1)}function wt(e,t,s){const a=h().sessions.get(e);if(!a)return;const n=a.name,l=Math.max(50,t-50),i=Math.max(50,s-30);Z.detachSession(e,l,i),se.success(`Detached "${n}" to floating window`)}let yt=null,kt={x:0,y:0},_t=null;function xt(e){if(yt){const t=Math.max(0,e.clientX-kt.x),s=Math.max(0,e.clientY-kt.y);Z.setDetachedPosition(yt,t,s)}if(_t){const t=h().sessions.get(_t);if(t){const s=Math.max(300,e.clientX-t.detachedPosition.x),a=Math.max(200,e.clientY-t.detachedPosition.y);Z.setDetachedSize(_t,s,a)}}}function zt(){yt&&Z.fitSession(yt),_t&&Z.fitSession(_t),yt=null,_t=null}function $t(e){const t=h().sessions.get(e);t&&(Z.attachSession(e),se.success(`Docked "${t.name}" back to terminal panel`))}function Ct(e){const t=e,s=t.detail?.containerId;if(s)for(const[a,n]of h().sessions)n.containerId===s&&Z.closeSession(a)}function Mt(e){const t=/Mac|iPod|iPhone|iPad/.test(navigator.platform||"")||/Macintosh/.test(navigator.userAgent),s=t?e.metaKey:e.ctrlKey,a=t?e.ctrlKey:e.metaKey;if(s&&!a&&!e.altKey){const s=e.key.toLowerCase(),a=e.shiftKey;if("d"===s&&n(ue)){e.preventDefault(),e.stopPropagation();const t=a?"horizontal":"vertical";return void Z.splitPane(n(ue),t)}if("t"===s)return e.preventDefault(),e.stopPropagation(),void Ee();if("w"===s&&n(ue)){e.preventDefault(),e.stopPropagation();const t=h().sessions.get(n(ue));return void(t&&t.activePaneId&&"main"!==t.activePaneId?Z.closeSplitPane(n(ue),t.activePaneId):at(n(ue)))}if(t&&"n"===s&&n(ue))return e.preventDefault(),e.stopPropagation(),void wt(n(ue),window.innerWidth/2-300,window.innerHeight/2-200);if(t&&"."===s&&n(ue))return e.preventDefault(),e.stopPropagation(),void Z.sendCtrlC(n(ue));const l=n(ue)?h().sessions.get(n(ue)):void 0;if(l&&l.splitPanes&&l.splitPanes.size>0&&!a){let t=null;switch(e.key){case"ArrowLeft":t="left";break;case"ArrowRight":t="right";break;case"ArrowUp":t="up";break;case"ArrowDown":t="down"}if(t&&n(ue))return e.preventDefault(),e.stopPropagation(),void Z.navigateSplitPanes(n(ue),t)}}if(e.altKey){if(e.key>="1"&&e.key<="9"){const t=parseInt(e.key)-1;return void(t>=0&&t<n(de).length&&(e.preventDefault(),bt(n(de)[t][0])))}switch(e.key.toLowerCase()){case"d":e.preventDefault(),Qe();break;case"f":e.preventDefault(),et();break;case"m":e.preventDefault(),n(ae)?st():tt()}}}a(()=>{window.addEventListener("container-deleted",Ct),window.addEventListener("keydown",Mt),n(Me)&&I()&&Z.toggleFloating();const e=()=>{const e=n(Me);i(Me,window.innerWidth<768||/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)),n(Me)&&!e&&I()&&(Z.toggleFloating(),se.info("Switched to docked mode for mobile"))};return window.addEventListener("resize",e),window.addEventListener("mousemove",We),window.addEventListener("mouseup",Ye),window.addEventListener("mousemove",gt),window.addEventListener("mouseup",ft),window.addEventListener("mousemove",xt),window.addEventListener("mouseup",zt),()=>{window.removeEventListener("resize",e)}}),o(()=>{window.removeEventListener("mousemove",We),window.removeEventListener("mouseup",Ye),window.removeEventListener("mousemove",gt),window.removeEventListener("mouseup",ft),window.removeEventListener("mousemove",xt),window.removeEventListener("mouseup",zt),window.removeEventListener("keydown",Mt)}),c(()=>{},()=>{"undefined"!=typeof window&&i(Me,window.innerWidth<768||/iPhone|iPad|iPod|Android/i.test(navigator.userAgent))}),c(()=>h(),()=>{i(ae,h().isMinimized)}),c(()=>h(),()=>{i(ne,h().floatingPosition)}),c(()=>h(),()=>{i(ie,h().floatingSize)}),c(()=>h(),()=>{i(oe,h().dockedHeight)}),c(()=>h(),()=>{i(ce,Array.from(h().sessions.entries()))}),c(()=>n(ce),()=>{i(de,n(ce).filter(([e,t])=>!t.isDetached))}),c(()=>n(ce),()=>{i(pe,n(ce).filter(([e,t])=>t.isDetached))}),c(()=>h(),()=>{i(ue,h().activeSessionId)}),c(()=>n(ce),()=>{i(be,new Set(n(ce).map(([e,t])=>t.containerId)))}),c(()=>(q(),n(be)),()=>{i(he,q().containers.filter(e=>!("running"!==e.status||n(be).has(e.id)||e.db_id&&n(be).has(e.db_id))))}),r(),d();var St=es();L("click",F,function(e){if(n(De)){e.target.closest(".add-menu-container")||i(De,!1)}});var At=j(St),ts=e=>{var t=A(),s=j(t),a=e=>{var t=qt(),s=b(t),a=b(s),l=b(a);P(l,1,()=>n(de),([e,t])=>e,(e,t)=>{var s=X(()=>K(n(t),2));let a=()=>n(s)[0],l=()=>n(s)[1];var o=Lt();let c;o.__click=()=>{i(Re,!1),bt(a())};var v=b(o),r=u(v,2),d=b(r),p=u(r,2);p.__click=e=>{e.stopPropagation(),at(a())},p.__keydown=e=>{"Enter"!==e.key&&" "!==e.key||(e.stopPropagation(),at(a()))},m(e=>{c=f(o,1,"fullscreen-tab svelte-b09sn4",null,c,{active:a()===n(ue)&&!n(Re),"agent-tab":l().isAgentSession}),f(v,1,`status-dot ${e??""}`,"svelte-b09sn4"),w(d,(l(),g(()=>l().name))),S(p,"aria-label",`Close ${l(),g(()=>l().name)??""}`)},[()=>(l(),g(()=>ht(l().status)))]),y(e,o)});var o=u(l,2),c=b(o);let v;c.__click=Oe;var r=u(a,2),d=b(r);d.__click=ze;var p=u(d,2);p.__click=()=>{if(n(ue)){const e=h().sessions.get(n(ue));if(e){const t=`${window.location.origin}/terminal/${e.containerId}`;navigator.clipboard.writeText(t),se.success("Terminal link copied!")}}};var k=u(p,2);k.__click=()=>n(ue)&&wt(n(ue),window.innerWidth/2-300,window.innerHeight/2-200);var _=u(k,2);_.__click=et;var x=u(_,2);x.__click=()=>n(ue)&&at(n(ue));var $=u(s,2),C=b($),M=e=>{var t=Pt(),s=b(t);u(b(s),2).__click=Ve;var a=u(s,2);re(a,{compact:!1,$$events:{created:e=>Fe(e.detail.id,e.detail.name),cancel:Ve}}),y(e,t)},L=e=>{var t=A(),s=j(t);P(s,1,()=>n(de),([e,t])=>`full-${n(me)}-${e}`,(e,t)=>{var s=X(()=>K(n(t),2));var a=Tt();let l;He(b(a),{get session(){return n(s)[1]},$$events:{openRecordings:ke,openCollab:_e,openSnippets:xe}}),m(()=>l=f(a,1,"terminal-panel svelte-b09sn4",null,l,{active:n(s)[0]===n(ue)})),y(e,a)}),y(e,t)};z(C,e=>{n(Re)?e(M):e(L,!1)}),m(()=>{v=f(c,1,"fullscreen-tab new-tab-btn svelte-b09sn4",null,v,{active:n(Re)||n(De)}),d.disabled=!n(ue),p.disabled=!n(ue),k.disabled=!n(ue),x.disabled=!n(ue)}),y(e,t)},l=e=>{var t=A(),s=j(t),a=e=>{var t=Ht(),s=j(t),a=b(s);let l;var o=b(a);o.__mousedown=Ue;var c=b(o),v=b(c);P(v,1,()=>n(de),([e,t])=>e,(e,t)=>{var s=X(()=>K(n(t),2));let a=()=>n(s)[0],l=()=>n(s)[1];var o=It();let c;o.__click=()=>{i(Re,!1),bt(a())},o.__mousedown=e=>mt(e,a());var v=b(o),r=u(v,2),d=b(r),p=u(r,2);p.__click=e=>{e.stopPropagation(),at(a())},p.__keydown=e=>{"Enter"!==e.key&&" "!==e.key||(e.stopPropagation(),at(a()))},m(e=>{c=f(o,1,"floating-tab svelte-b09sn4",null,c,{active:a()===n(ue)&&!n(Re),"agent-tab":l().isAgentSession,dragging:n(qe)===a()&&n(Be)}),f(v,1,`status-dot ${e??""}`,"svelte-b09sn4"),w(d,(l(),g(()=>l().name))),S(p,"aria-label",`Close ${l(),g(()=>l().name)??""}`)},[()=>(l(),g(()=>ht(l().status)))]),y(e,o)});var r=u(v,2),d=b(r);let p;d.__click=Oe;var k=u(c,2),_=b(k);_.__click=ze;var x=u(_,2);x.__click=()=>{if(n(ue)){const e=h().sessions.get(n(ue));if(e){const t=`${window.location.origin}/terminal/${e.containerId}`;navigator.clipboard.writeText(t),se.success("Terminal link copied!")}}};var C=u(x,2);C.__click=()=>n(ue)&&wt(n(ue),n(ne).x+100,n(ne).y+100);var M=u(C,2);M.__click=Qe;var L=u(M,2);L.__click=tt;var T=u(L,2);T.__click=et;var q=u(T,2);q.__click=()=>n(ue)&&at(n(ue));var I=u(o,2),B=b(I),R=e=>{var t=Bt(),s=b(t);u(b(s),2).__click=Ve;var a=u(s,2);re(a,{compact:!0,$$events:{created:e=>Fe(e.detail.id,e.detail.name),cancel:Ve}}),y(e,t)},D=e=>{var t=A(),s=j(t);P(s,1,()=>n(de),([e,t])=>`float-${n(me)}-${e}`,(e,t)=>{var s=X(()=>K(n(t),2));var a=Rt();let l;He(b(a),{get session(){return n(s)[1]},$$events:{openRecordings:ke,openCollab:_e,openSnippets:xe}}),m(()=>l=f(a,1,"terminal-panel svelte-b09sn4",null,l,{active:n(s)[0]===n(ue)})),y(e,a)}),y(e,t)};z(B,e=>{n(Re)?e(R):e(D,!1)});var H=u(I,2);H.__mousedown=Xe,H.__keydown=()=>{};var E=u(s,2),V=e=>{var t=Dt(),s=b(t);s.__click=st;var a=u(b(s),2),n=b(a);m(()=>w(n,`${N()??""} Terminal${N()>1?"s":""}`)),y(e,t)};z(E,e=>{n(ae)&&e(V)}),m(()=>{l=f(a,1,"floating-terminal svelte-b09sn4",null,l,{minimized:n(ae),focused:!0}),$(a,`left: ${n(ne),g(()=>n(ne).x)??""}px; top: ${n(ne),g(()=>n(ne).y)??""}px; width: ${n(ie),g(()=>n(ie).width)??""}px; height: ${n(ie),g(()=>n(ie).height)??""}px;`),p=f(d,1,"new-tab-btn svelte-b09sn4",null,p,{active:n(Re)||n(De)}),_.disabled=!n(ue),x.disabled=!n(ue),C.disabled=!n(ue),q.disabled=!n(ue)}),y(e,t)},l=e=>{var t=A(),s=j(t),a=e=>{var t=Et(),s=b(t);s.__click=st;var a=u(b(s),2),n=b(a);m(()=>w(n,`${N()??""} Terminal${N()>1?"s":""}`)),y(e,t)},l=e=>{var t=Nt(),s=b(t);s.__mousedown=Ke,s.__touchstart=Ze,s.__touchmove=Ge,s.__touchend=Je,S(s,"aria-valuemin",20),S(s,"aria-valuemax",90);var a=u(s,2),l=b(a),o=b(l);P(o,1,()=>n(de),([e,t])=>e,(e,t)=>{var s=X(()=>K(n(t),2));let a=()=>n(s)[0],l=()=>n(s)[1];var o=Vt();let c;o.__click=()=>{i(Re,!1),bt(a())},o.__mousedown=e=>mt(e,a());var v=b(o),r=u(v,2),d=b(r),p=u(r,2);p.__click=e=>{e.stopPropagation(),at(a())},p.__keydown=e=>{"Enter"!==e.key&&" "!==e.key||(e.stopPropagation(),at(a()))},m(e=>{c=f(o,1,"docked-tab svelte-b09sn4",null,c,{active:a()===n(ue)&&!n(Re),"agent-tab":l().isAgentSession,dragging:n(qe)===a()&&n(Be)}),f(v,1,`status-dot ${e??""}`,"svelte-b09sn4"),w(d,(l(),g(()=>l().name))),S(p,"aria-label",`Close ${l(),g(()=>l().name)??""}`)},[()=>(l(),g(()=>ht(l().status)))]),y(e,o)});var c=u(o,2),v=b(c);let r;v.__click=Oe;var d=u(l,4),p=b(d);p.__click=ze;var k=u(p,2);k.__click=()=>{if(n(ue)){const e=h().sessions.get(n(ue));if(e){const t=`${window.location.origin}/terminal/${e.containerId}`;navigator.clipboard.writeText(t),se.success("Terminal link copied!")}}};var _=u(k,2);_.__click=()=>n(ue)&&wt(n(ue),window.innerWidth/2-300,window.innerHeight/2-200);var x=u(_,2);x.__click=Qe;var C=u(x,2);C.__click=tt;var M=u(C,2);M.__click=et;var L=u(M,2);L.__click=()=>n(ue)&&at(n(ue));var T=u(a,2),q=b(T),I=e=>{var t=Ft(),s=b(t);u(b(s),2).__click=Ve;var a=u(s,2);re(a,{compact:!1,$$events:{created:e=>Fe(e.detail.id,e.detail.name),cancel:Ve}}),y(e,t)},B=e=>{var t=A(),s=j(t);P(s,1,()=>n(de),([e,t])=>`dock-${n(me)}-${e}`,(e,t)=>{var s=X(()=>K(n(t),2));var a=Ot();let l;He(b(a),{get session(){return n(s)[1]},$$events:{openRecordings:ke,openCollab:_e,openSnippets:xe}}),m(()=>l=f(a,1,"terminal-panel svelte-b09sn4",null,l,{active:n(s)[0]===n(ue)})),y(e,a)}),y(e,t)};z(q,e=>{n(Re)?e(I):e(B,!1)}),m(()=>{$(t,`height: ${n(oe)??""}vh;`),S(s,"aria-valuenow",n(oe)),r=f(v,1,"docked-tab new-tab-btn svelte-b09sn4",null,r,{active:n(Re)||n(De)}),p.disabled=!n(ue),k.disabled=!n(ue),_.disabled=!n(ue),L.disabled=!n(ue)}),y(e,t)};z(s,e=>{n(ae)?e(a):e(l,!1)}),y(e,t)};z(s,e=>{I()?e(a):e(l,!1)},!0),y(e,t)};z(s,e=>{x(Q,"$isFullscreen",U)?e(a):e(l,!1)}),y(e,t)};z(At,e=>{N()>0&&e(ts)});var ss=u(At,2);P(ss,1,()=>n(pe),([e,t])=>e,(e,t)=>{var s=X(()=>K(n(t),2));let a=()=>n(s)[0],l=()=>n(s)[1];var i=Ut();i.__mousedown=()=>Z.bringToFront(a());var o=b(i);o.__mousedown=e=>function(e,t){if(e.target.closest(".detached-actions"))return;yt=t;const s=h().sessions.get(t);s&&(kt={x:e.clientX-s.detachedPosition.x,y:e.clientY-s.detachedPosition.y}),e.preventDefault()}(e,a()),o.__dblclick=()=>$t(a());var c=b(o),v=b(c),r=u(c,2),d=u(r,2),p=b(d);p.__click=()=>$t(a()),u(p,2).__click=()=>{Z.closeSession(a()),se.success(`Closed "${l().name}"`)};var k=u(o,2);He(b(k),{get session(){return l()},$$events:{openRecordings:ke,openCollab:_e,openSnippets:xe}}),u(k,2).__mousedown=e=>function(e,t){_t=t,e.preventDefault(),e.stopPropagation()}(e,a()),m(()=>{$(i,`left: ${l(),g(()=>l().detachedPosition.x)??""}px; top: ${l(),g(()=>l().detachedPosition.y)??""}px; width: ${l(),g(()=>l().detachedSize.width)??""}px; height: ${l(),g(()=>l().detachedSize.height)??""}px; z-index: ${l(),g(()=>l().detachedZIndex)??""};`),w(v,(l(),g(()=>l().name))),f(r,1,`detached-status status-${l(),g(()=>l().status)??""}`,"svelte-b09sn4"),S(k,"id",`detached-terminal-${a()??""}`)}),y(e,i)});var as=u(ss,2),ns=e=>{nt(e,{get containerId(){return n(ye)},get isOpen(){return n(ge)},$$events:{close:Ce}})};z(as,e=>{n(ye)&&e(ns)});var ls=u(as,2),is=e=>{!function(e,a){t(a,!1);const o=()=>x(te,"$collab",h),p=()=>x(ee,"$containers",h),[h,M]=C(),S=l(),L=l(),q=l(),I=l(),F=l();let O=s(a,"containerId",8),N=s(a,"isOpen",12,!1),U=s(a,"compact",8,!1);const W=_();let Y=l("view"),X=l(5),K=l(!1),Z="",G=l(""),J=l(!1);async function Q(){i(K,!0);const e=await te.startSession(O(),n(Y),n(X));i(K,!1),e&&(Z=e.shareCode,i(G,`${window.location.origin}/join/${Z}`),te.connectWebSocket(Z))}async function se(){n(S)&&await te.endSession(n(S).id),ne()}function ae(){navigator.clipboard.writeText(n(G)),i(J,!0),setTimeout(()=>i(J,!1),2e3)}function ne(){N(!1),W("close")}c(()=>o(),()=>{i(S,o().activeSession)}),c(()=>o(),()=>{i(L,o().participants)}),c(()=>(p(),v(O())),()=>{i(q,p().containers.find(e=>e.id===O()))}),c(()=>(n(q),v(O())),()=>{i(I,n(q)?.name||O().slice(0,12))}),c(()=>n(q),()=>{i(F,n(q)?.image||"unknown")}),r(),d();var ie=A(),oe=j(ie),ce=e=>{var t=ut();t.__click=e=>{e.target===e.currentTarget&&ne()};var s=b(t);let a;var l=b(s);u(b(l),2).__click=ne;var o=u(l,2),c=b(o),v=e=>{var t=it(),s=b(t),a=b(s),l=b(a);ve(l,{get platform(){return n(F)},size:24});var o=u(a,2),c=u(b(o),2),v=b(c),r=u(s,2),d=u(b(r),2),p=b(d);let h;p.__click=()=>i(Y,"view");var g=u(p,2);let k;g.__click=()=>i(Y,"control");var _=u(r,2),x=b(_),$=u(b(x),2),C=b($),M=u(x,2),S=u(_,2),A=b(S);A.__click=Q;var j=b(A),L=e=>{var t=lt();y(e,t)},P=e=>{var t=B("Start Session");y(e,t)};z(j,e=>{n(K)?e(L):e(P,!1)}),m(()=>{w(v,n(I)),h=f(p,1,"mode-card svelte-1ylcsnd",null,h,{selected:"view"===n(Y)}),k=f(g,1,"mode-card svelte-1ylcsnd",null,k,{selected:"control"===n(Y)}),w(C,n(X)),A.disabled=n(K)}),T(M,()=>n(X),e=>i(X,e)),R(1,t,()=>E,()=>({duration:200})),y(e,t)},r=e=>{var t=pt(),s=b(t);let a;var l=u(b(s),2),i=b(l),o=u(s,2),c=u(b(o),2),v=b(c);v.__click=e=>e.currentTarget.select();var r=u(v,2);let d;r.__click=ae;var p=b(r),h=e=>{var t=ot();y(e,t)},k=e=>{var t=ct();y(e,t)};z(p,e=>{n(J)?e(h):e(k,!1)});var _=u(c,2),x=b(_),C=b(x);le(C,{status:"info",size:14});var M=u(x,2),S=u(b(M),4),A=u(b(S),2),j=b(A),T=u(M,2),q=u(b(T)),I=u(o,2),B=b(I),D=u(b(B),2),F=b(D),O=u(B,2);P(O,5,()=>n(L),H,(e,t)=>{var s=rt(),a=b(s),l=b(a),i=u(a,2),o=b(i),c=b(o),v=u(c),r=e=>{var t=vt();y(e,t)};z(v,e=>{n(t),g(()=>"owner"===n(t).role)&&e(r)});var d=u(o,2),p=b(d);m(e=>{$(a,`background-color: ${n(t),g(()=>n(t).color)??""}`),w(l,e),w(c,`${n(t),g(()=>n(t).username)??""} `),w(p,(n(t),g(()=>n(t).role)))},[()=>(n(t),g(()=>n(t).username.slice(0,1).toUpperCase()))]),y(e,s)},e=>{var t=dt();y(e,t)});var N=u(I,2);b(N).__click=se,m(()=>{a=f(s,1,"live-banner svelte-1ylcsnd",null,a,{control:"control"===n(Y)}),w(i,"control"===n(Y)?"Full Control Enabled":"View Only Mode"),V(v,n(G)),d=f(r,1,"copy-btn svelte-1ylcsnd",null,d,{copied:n(J)}),w(j,"control"===n(Y)?"Everyone can type commands in real-time":"Collaborators watch as you work"),w(q," "+("control"===n(Y)?"Great for pair programming and interactive debugging!":"Perfect for demos, teaching, and code reviews!")),w(F,`${n(L),g(()=>n(L).length)??""} / ${n(X)??""}`)}),R(1,t,()=>E,()=>({duration:200})),y(e,t)};z(c,e=>{n(S)?e(r,!1):e(v)}),m(()=>a=f(s,1,"collab-panel svelte-1ylcsnd",null,a,{compact:U()})),R(3,s,()=>D,()=>({duration:200,axis:"x"})),R(3,t,()=>E,()=>({duration:150})),y(e,t)};z(oe,e=>{N()&&e(ce)}),y(e,ie),k(),M()}(e,{get containerId(){return n(ye)},get isOpen(){return n(fe)},$$events:{close:Ce}})};z(ls,e=>{n(ye)&&e(is)});var os=u(ls,2),cs=e=>{jt(e,{get containerId(){return n(ye)},get show(){return n(we)},$$events:{close:Ce,run:$e}})};z(os,e=>{n(ye)&&e(cs)});var vs=u(os,2),rs=e=>{var t=Qt();t.__click=Ne;var s=b(t);s.__click=e=>e.stopPropagation();var a=b(s);u(b(a),2).__click=Ne;var l=u(a,2),o=b(l);o.__click=Ee;var c=u(o,2),v=e=>{var t=Xt(),s=u(j(t),4);P(s,5,()=>n(he),H,(e,t)=>{const s=O(()=>(n(t),g(()=>"agent"===n(t).session_type||n(t).id.startsWith("agent:"))));var a=Yt();let l;a.__click=()=>async function(e){if("agent"===e.session_type||e.id.startsWith("agent:")){const t=e.id.replace(/^agent:/,"");if(!(await Z.createAgentSession(t,e.name)))return void se.error("Failed to connect to agent terminal")}else await Z.createSession(e.id,e.name);i(De,!1),se.success(`Connected to ${e.name}`)}(n(t));var o=b(a);let c;var v=u(o,2),r=b(v),d=u(v,2),p=e=>{var t=Wt();y(e,t)};z(d,e=>{n(s)&&e(p)}),m(()=>{l=f(a,1,"add-menu-item svelte-b09sn4",null,l,{"agent-item":n(s)}),c=f(o,1,"menu-icon status-dot running svelte-b09sn4",null,c,{"agent-dot":n(s)}),w(r,(n(t),g(()=>n(t).name)))}),y(e,a)}),y(e,t)};z(c,e=>{n(he),g(()=>n(he).length>0)&&e(v)});var r=u(c,2),d=e=>{var t=Jt(),s=u(j(t),4);P(s,5,()=>n(ce),H,(e,t)=>{var s=X(()=>K(n(t),2));let a=()=>n(s)[0],l=()=>n(s)[1];const o=O(()=>(l(),g(()=>l().isAgentSession)));var c=Gt();let v;c.__click=()=>{return e=a(),Z.setActiveSession(e),void i(De,!1);var e};var r=b(c);let d;var p=u(r,2),h=b(p),k=u(p,2),_=e=>{var t=Kt();y(e,t)};z(k,e=>{n(o)&&e(_)});var x=u(k,2),$=e=>{var t=Zt();y(e,t)};z(x,e=>{a()===n(ue)&&e($)}),m(()=>{v=f(c,1,"add-menu-item svelte-b09sn4",null,v,{active:a()===n(ue),"agent-item":n(o)}),d=f(r,1,`menu-icon status-dot ${l(),g(()=>l().status)??""}`,"svelte-b09sn4",d,{"agent-dot":n(o)}),w(h,(l(),g(()=>l().name)))}),y(e,c)}),y(e,t)};z(r,e=>{n(ce),g(()=>n(ce).length>0)&&e(d)}),y(e,t)};z(vs,e=>{n(De)&&e(rs)}),y(e,St),k(),W()}e(["click","keydown","mousedown","touchstart","touchmove","touchend","dblclick"]);export{ts as default};
