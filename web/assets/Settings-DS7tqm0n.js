import{p as e,a as s,B as a,m as t,k as n,C as l,x as i,U as o,l as c,c as v,i as r,f as d,u as w,n as u,v as x,z as p,t as b,X as g,J as m,s as h,G as f,R as y,Y as k,Z as _,e as A,j as S,y as C,_ as P,F as L,I as F,A as I,H as T,a0 as M,a1 as B,r as $,b as E,q as D,a2 as R,o as O}from"./svelte-C2ZEhdPX.js";import{Q as N}from"./vendor-CPGM4lnp.js";import{e as j,t as z,a as U,f as V,S as Y,g as q}from"./index-BZQbtzM3.js";import{security as J,hasPasscode as G}from"./security-CK_QV4pM.js";import{a as H}from"./agents-SCASwIDF.js";var Q=d('<div class="setting-item warning svelte-anx9w7"><div class="setting-info svelte-anx9w7"><label class="svelte-anx9w7"><!> Guest Account</label> <span class="setting-description svelte-anx9w7">Your terminals are temporary. Sign in to save your\n                            data.</span></div> <div class="setting-value svelte-anx9w7"><button class="btn btn-primary btn-sm svelte-anx9w7">Sign In</button></div></div>'),W=d('<span class="check svelte-anx9w7">‚úì</span>'),X=d("<button><!></button>"),Z=d('<div class="custom-color-picker svelte-anx9w7"><input type="color" id="custom-accent" class="svelte-anx9w7"/> <input type="text" class="color-hex-input svelte-anx9w7" placeholder="#00ff41"/> <button class="btn btn-sm svelte-anx9w7">Reset</button></div>'),K=d('<button class="btn btn-secondary btn-sm svelte-anx9w7">Change Passcode</button>'),ee=d('<button class="btn btn-primary btn-sm svelte-anx9w7">Set Passcode</button>'),se=d('<div class="setting-item svelte-anx9w7"><div class="setting-info svelte-anx9w7"><label for="lock-timeout" class="svelte-anx9w7">Lock After</label> <span class="setting-description svelte-anx9w7">Auto-lock after inactivity</span></div> <div class="setting-value svelte-anx9w7"><select id="lock-timeout" class="select-sm svelte-anx9w7"><option class="svelte-anx9w7">1 minute</option><option class="svelte-anx9w7">2 minutes</option><option class="svelte-anx9w7">5 minutes</option><option class="svelte-anx9w7">10 minutes</option><option class="svelte-anx9w7">15 minutes</option><option class="svelte-anx9w7">30 minutes</option></select></div></div> <div class="setting-item svelte-anx9w7"><div class="setting-info svelte-anx9w7"><label class="svelte-anx9w7">Disable Screen Lock</label> <span class="setting-description svelte-anx9w7">Remove passcode protection</span></div> <div class="setting-value svelte-anx9w7"><button class="btn btn-danger btn-sm svelte-anx9w7">Disable</button></div></div>',1),ae=d('<button class="btn btn-danger btn-sm svelte-anx9w7">Disable MFA</button>'),te=d('<button class="btn btn-primary btn-sm svelte-anx9w7">Enable MFA</button>'),ne=d('<div class="agents-loading svelte-anx9w7">Loading agents...</div>'),le=d('<div class="agents-empty-state svelte-anx9w7"><div class="empty-icon svelte-anx9w7"><svg width="56" height="56" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" stroke-width="1.5" class="svelte-anx9w7"><rect x="2" y="3" width="20" height="14" rx="2" ry="2" class="svelte-anx9w7"></rect><line x1="8" y1="21" x2="16" y2="21" class="svelte-anx9w7"></line><line x1="12" y1="17" x2="12" y2="21" class="svelte-anx9w7"></line></svg></div> <h3 class="svelte-anx9w7">Connect Your Own Machine</h3> <p class="empty-desc svelte-anx9w7">Bring your own server, VM, or local machine to\n                            rexec. Click "Register Agent" to get a personalized\n                            install command with your API token.</p> <div class="empty-actions svelte-anx9w7"><button class="btn btn-primary svelte-anx9w7"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-anx9w7"><line x1="12" y1="5" x2="12" y2="19" class="svelte-anx9w7"></line><line x1="5" y1="12" x2="19" y2="12" class="svelte-anx9w7"></line></svg> Register Agent</button> <a href="/docs/agent" class="btn btn-secondary svelte-anx9w7">View Documentation</a></div></div>'),ie=d('<button class="btn btn-sm btn-primary svelte-anx9w7" title="Connect to terminal"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-anx9w7"><polyline points="4 17 10 11 4 5" class="svelte-anx9w7"></polyline><line x1="12" y1="19" x2="20" y2="19" class="svelte-anx9w7"></line></svg> Connect</button>'),oe=d('<span class="agent-desc svelte-anx9w7"> </span>'),ce=d('<div class="agent-detail-item svelte-anx9w7"><span class="detail-label svelte-anx9w7">Connected</span> <span class="detail-value svelte-anx9w7"> </span></div>'),ve=d('<div><div class="agent-header svelte-anx9w7"><div class="agent-status svelte-anx9w7"><span></span> <span class="status-text svelte-anx9w7"> </span></div> <div class="agent-actions svelte-anx9w7"><!> <button class="btn btn-icon btn-sm btn-danger-subtle svelte-anx9w7" title="Delete agent"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-anx9w7"><polyline points="3 6 5 6 21 6" class="svelte-anx9w7"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" class="svelte-anx9w7"></path></svg></button></div></div> <div class="agent-body svelte-anx9w7"><span class="agent-name svelte-anx9w7"> </span> <!></div> <div class="agent-details svelte-anx9w7"><div class="agent-detail-item svelte-anx9w7"><span class="detail-label svelte-anx9w7">Platform</span> <span class="detail-value svelte-anx9w7"> </span></div> <div class="agent-detail-item svelte-anx9w7"><span class="detail-label svelte-anx9w7">Shell</span> <span class="detail-value svelte-anx9w7"> </span></div> <!></div></div>'),re=d('<div class="agents-list svelte-anx9w7"></div> <div class="agents-footer svelte-anx9w7"><div class="install-inline svelte-anx9w7"><span class="svelte-anx9w7">Install on another machine:</span> <code class="svelte-anx9w7"> </code> <button class="btn btn-sm btn-icon copy-btn svelte-anx9w7" title="Copy"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-anx9w7"><rect x="9" y="9" width="13" height="13" rx="2" ry="2" class="svelte-anx9w7"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" class="svelte-anx9w7"></path></svg></button></div></div>',1),de=d('<section class="settings-section svelte-anx9w7" id="agents-section"><h2 class="svelte-anx9w7">Agents</h2> <p class="section-description svelte-anx9w7">Connect your own servers, VMs, or local machines to rexec.\n                    Install the agent on any Linux/macOS system to access it\n                    from anywhere.</p> <div class="agents-header svelte-anx9w7"><button class="btn btn-primary btn-sm svelte-anx9w7"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-anx9w7"><line x1="12" y1="5" x2="12" y2="19" class="svelte-anx9w7"></line><line x1="5" y1="12" x2="19" y2="12" class="svelte-anx9w7"></line></svg> Add Agent</button></div> <!></section>'),we=d('<div class="form-group svelte-anx9w7"><label for="current-passcode" class="svelte-anx9w7">Current Passcode</label> <input type="password" id="current-passcode" placeholder="Enter current passcode" class="input-full svelte-anx9w7"/></div>'),ue=d('<div class="form-group svelte-anx9w7"><label for="new-passcode" class="svelte-anx9w7">New Passcode</label> <input type="password" id="new-passcode" placeholder="Enter new passcode (min 4 characters)" class="input-full svelte-anx9w7"/></div> <div class="form-group svelte-anx9w7"><label for="confirm-passcode" class="svelte-anx9w7">Confirm Passcode</label> <input type="password" id="confirm-passcode" placeholder="Confirm new passcode" class="input-full svelte-anx9w7"/></div>',1),xe=d('<p class="error-text svelte-anx9w7"> </p>'),pe=d('<button class="btn btn-danger svelte-anx9w7">Disable Lock</button>'),be=d('<button class="btn btn-primary svelte-anx9w7"> </button>'),ge=d('<div class="modal-overlay svelte-anx9w7"><div class="modal svelte-anx9w7"><div class="modal-header svelte-anx9w7"><h3 class="svelte-anx9w7"><!></h3> <button class="modal-close svelte-anx9w7">√ó</button></div> <div class="modal-body svelte-anx9w7"><!> <!> <!></div> <div class="modal-footer svelte-anx9w7"><button class="btn btn-secondary svelte-anx9w7">Cancel</button> <!></div></div></div>'),me=d('<div class="token-notice token-notice-success svelte-anx9w7"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-anx9w7"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" class="svelte-anx9w7"></path></svg> <span class="svelte-anx9w7">This install command includes a permanent API\n                                token that never expires.</span></div>'),he=d('<div class="token-notice token-notice-warning svelte-anx9w7"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-anx9w7"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z" class="svelte-anx9w7"></path><line x1="12" y1="9" x2="12" y2="13" class="svelte-anx9w7"></line><line x1="12" y1="17" x2="12.01" y2="17" class="svelte-anx9w7"></line></svg> <span class="svelte-anx9w7">Using session token (expires in 24h). For\n                                permanent access, <a href="/account/api" class="svelte-anx9w7">generate an API token</a>.</span></div>'),fe=d('<div class="install-success svelte-anx9w7"><svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="var(--success)" stroke-width="2" class="svelte-anx9w7"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14" class="svelte-anx9w7"></path><polyline points="22 4 12 14.01 9 11.01" class="svelte-anx9w7"></polyline></svg> <h4 class="svelte-anx9w7"> </h4> <p class="svelte-anx9w7">Run this command on your server to install the\n                            agent:</p></div> <div class="install-script-box svelte-anx9w7"><code class="svelte-anx9w7"> </code> <button class="btn btn-sm copy-btn svelte-anx9w7"> </button></div> <!> <div class="install-notes svelte-anx9w7"><h5 class="svelte-anx9w7">Requirements:</h5> <ul class="svelte-anx9w7"><li class="svelte-anx9w7">Linux or macOS</li> <li class="svelte-anx9w7">curl and bash installed</li> <li class="svelte-anx9w7">Root/sudo access (for systemd service)</li></ul></div>',1),ye=d('<div class="form-group svelte-anx9w7"><label for="agent-name" class="svelte-anx9w7">Agent Name</label> <input type="text" id="agent-name" placeholder="e.g., production-server-1" class="input-full svelte-anx9w7"/></div> <div class="form-group svelte-anx9w7"><label for="agent-desc" class="svelte-anx9w7">Description (optional)</label> <input type="text" id="agent-desc" placeholder="e.g., Main production web server" class="input-full svelte-anx9w7"/></div>',1),ke=d('<button class="btn btn-primary svelte-anx9w7">Done</button>'),_e=d('<button class="btn btn-secondary svelte-anx9w7">Cancel</button> <button class="btn btn-primary svelte-anx9w7">Create Agent</button>',1),Ae=d('<div class="modal-overlay svelte-anx9w7"><div class="modal modal-lg svelte-anx9w7"><div class="modal-header svelte-anx9w7"><h3 class="svelte-anx9w7"> </h3> <button class="modal-close svelte-anx9w7">√ó</button></div> <div class="modal-body svelte-anx9w7"><!></div> <div class="modal-footer svelte-anx9w7"><!></div></div></div>'),Se=d('<p class="modal-text svelte-anx9w7">Two-factor authentication adds an extra layer of\n                        security to your account. You\'ll need an authenticator\n                        app like Google Authenticator or Authy.</p> <p class="modal-text svelte-anx9w7" style="margin-top: 12px; color: var(--text-muted); font-size: 13px;"><strong class="svelte-anx9w7">Bonus:</strong> Once enabled, you can also lock individual\n                        terminals with MFA from your dashboard for extra protection.</p>',1),Ce=d('<img alt="MFA QR Code" class="qr-code svelte-anx9w7"/>'),Pe=d('<div class="loading-spinner svelte-anx9w7">Loading QR...</div>'),Le=d('<div class="qr-container svelte-anx9w7"><!></div> <p class="secret-text svelte-anx9w7">Secret: <code class="svelte-anx9w7"> </code></p> <div class="form-group svelte-anx9w7"><label class="svelte-anx9w7">Verification Code</label> <input type="text" placeholder="Enter 6-digit code" class="input-full svelte-anx9w7" maxlength="6"/></div>',1),Fe=d('<div class="backup-code svelte-anx9w7"> </div>'),Ie=d('<div class="backup-codes-container svelte-anx9w7"><div class="backup-codes-header svelte-anx9w7"><span class="backup-codes-icon svelte-anx9w7">üîê</span> <h4 class="svelte-anx9w7">Save Your Backup Codes</h4></div> <p class="modal-text svelte-anx9w7" style="margin-bottom: 16px;">Store these codes in a safe place. Each code can\n                            only be used once to recover access if you lose your\n                            authenticator.</p> <div class="backup-codes-grid svelte-anx9w7"></div> <p class="backup-codes-warning svelte-anx9w7">‚ö†Ô∏è These codes will only be shown once. Download or\n                            copy them now.</p></div>'),Te=d('<p class="modal-text svelte-anx9w7">Enter a code from your authenticator app to disable MFA.</p> <div class="form-group svelte-anx9w7"><label class="svelte-anx9w7">Verification Code</label> <input type="text" placeholder="Enter 6-digit code" class="input-full svelte-anx9w7" maxlength="6"/></div>',1),Me=d('<p class="error-text svelte-anx9w7"> </p>'),Be=d('<button class="btn btn-secondary svelte-anx9w7">Cancel</button> <button class="btn btn-primary svelte-anx9w7">Start Setup</button>',1),$e=d('<button class="btn btn-secondary svelte-anx9w7">Cancel</button> <button class="btn btn-primary svelte-anx9w7">Verify & Enable</button>',1),Ee=d('<button class="btn btn-secondary svelte-anx9w7">Copy Codes</button> <button class="btn btn-secondary svelte-anx9w7">Download</button> <button class="btn btn-primary svelte-anx9w7">Done</button>',1),De=d('<button class="btn btn-secondary svelte-anx9w7">Cancel</button> <button class="btn btn-danger svelte-anx9w7">Disable MFA</button>',1),Re=d('<div class="modal-overlay svelte-anx9w7"><div class="modal svelte-anx9w7"><div class="modal-header svelte-anx9w7"><h3 class="svelte-anx9w7">Two-Factor Authentication</h3> <button class="modal-close svelte-anx9w7">√ó</button></div> <div class="modal-body svelte-anx9w7"><!> <!></div> <div class="modal-footer svelte-anx9w7"><!></div></div></div>'),Oe=d('<div class="ip-item svelte-anx9w7"><span class="svelte-anx9w7"> </span> <button class="btn-icon btn-sm svelte-anx9w7">√ó</button></div>'),Ne=d('<p class="empty-text svelte-anx9w7">No IPs whitelisted (All allowed)</p>'),je=d('<p class="error-text svelte-anx9w7"> </p>'),ze=d('<div class="modal-overlay svelte-anx9w7"><div class="modal svelte-anx9w7"><div class="modal-header svelte-anx9w7"><h3 class="svelte-anx9w7">IP Whitelist</h3> <button class="modal-close svelte-anx9w7">√ó</button></div> <div class="modal-body svelte-anx9w7"><p class="modal-text svelte-anx9w7">Only allow access from these IP addresses. Leave empty to\n                    allow all.</p> <div class="ip-list svelte-anx9w7"><!> <!></div> <div class="add-ip-form svelte-anx9w7"><input type="text" placeholder="e.g. 192.168.1.1 or 10.0.0.0/24" class="input-full svelte-anx9w7"/> <button class="btn btn-secondary btn-sm svelte-anx9w7">Add</button></div> <!></div> <div class="modal-footer svelte-anx9w7"><button class="btn btn-secondary svelte-anx9w7">Cancel</button> <button class="btn btn-primary svelte-anx9w7">Save Changes</button></div></div></div>'),Ue=d('<div class="loading-text svelte-anx9w7">Loading logs...</div>'),Ve=d('<div class="empty-text svelte-anx9w7">No logs found</div>'),Ye=d('<tr class="svelte-anx9w7"><td class="svelte-anx9w7"> </td><td class="svelte-anx9w7"> </td><td class="svelte-anx9w7"> </td></tr>'),qe=d('<div class="logs-table-wrapper svelte-anx9w7"><table class="logs-table svelte-anx9w7"><thead class="svelte-anx9w7"><tr class="svelte-anx9w7"><th class="svelte-anx9w7">Action</th><th class="svelte-anx9w7">IP Address</th><th class="svelte-anx9w7">Date</th></tr></thead><tbody class="svelte-anx9w7"></tbody></table></div>'),Je=d('<p class="error-text svelte-anx9w7"> </p>'),Ge=d('<div class="modal-overlay svelte-anx9w7"><div class="modal modal-lg svelte-anx9w7"><div class="modal-header svelte-anx9w7"><h3 class="svelte-anx9w7">Audit Logs</h3> <button class="modal-close svelte-anx9w7">√ó</button></div> <div class="modal-body svelte-anx9w7"><!> <!></div> <div class="modal-footer svelte-anx9w7"><button class="btn btn-primary svelte-anx9w7">Close</button></div></div></div>'),He=d('<div class="loading-text svelte-anx9w7">Loading sessions...</div>'),Qe=d('<div class="empty-text svelte-anx9w7">No sessions found</div>'),We=d('<div class="session-revoked svelte-anx9w7"> </div>'),Xe=d('<div class="session-current-badge svelte-anx9w7">Current session</div>'),Ze=d('<button class="btn btn-danger btn-sm svelte-anx9w7">Revoke</button>'),Ke=d('<button class="btn btn-secondary btn-sm svelte-anx9w7" disabled>Revoked</button>'),es=d('<div><div class="session-meta svelte-anx9w7"><div class="session-ua svelte-anx9w7"> </div> <div class="session-details svelte-anx9w7"><span class="svelte-anx9w7"> </span> <span class="svelte-anx9w7">‚Ä¢</span> <span class="svelte-anx9w7"> </span> <span class="svelte-anx9w7">‚Ä¢</span> <span class="svelte-anx9w7"> </span></div> <!> <!></div> <div class="session-actions svelte-anx9w7"><!></div></div>'),ss=d('<div class="sessions-list svelte-anx9w7"></div>'),as=d('<p class="error-text svelte-anx9w7"> </p>'),ts=d('<div class="modal-overlay svelte-anx9w7"><div class="modal modal-lg svelte-anx9w7"><div class="modal-header svelte-anx9w7"><h3 class="svelte-anx9w7">Active Sessions</h3> <button class="modal-close svelte-anx9w7">√ó</button></div> <div class="modal-body svelte-anx9w7"><!> <!></div> <div class="modal-footer svelte-anx9w7"><button class="btn btn-secondary svelte-anx9w7">Revoke Others</button> <button class="btn btn-primary svelte-anx9w7">Close</button></div></div></div>'),ns=d('<div class="settings svelte-anx9w7"><div class="settings-header svelte-anx9w7"><button class="back-btn svelte-anx9w7">‚Üê Back</button> <h1 class="svelte-anx9w7">Settings</h1></div> <div class="settings-content svelte-anx9w7"><section class="settings-section svelte-anx9w7"><h2 class="svelte-anx9w7">Account</h2> <div class="setting-item svelte-anx9w7"><div class="setting-info svelte-anx9w7"><label for="username" class="svelte-anx9w7">Username</label> <span class="setting-description svelte-anx9w7">Unique identifier for your account</span></div> <div class="setting-value svelte-anx9w7"><input type="text" id="username" class="input-full svelte-anx9w7" style="max-width: 200px;"/></div></div> <div class="setting-item svelte-anx9w7"><div class="setting-info svelte-anx9w7"><label for="firstname" class="svelte-anx9w7">Full Name</label> <span class="setting-description svelte-anx9w7">Your first and last name</span></div> <div class="setting-value profile-names svelte-anx9w7"><input type="text" id="firstname" placeholder="First Name" class="input-full svelte-anx9w7"/> <input type="text" id="lastname" placeholder="Last Name" class="input-full svelte-anx9w7"/></div></div> <div class="setting-item svelte-anx9w7"><div class="setting-info svelte-anx9w7"><label class="svelte-anx9w7">Email</label> <span class="setting-description svelte-anx9w7">Your account email address</span></div> <div class="setting-value svelte-anx9w7"><span class="value-text svelte-anx9w7"> </span></div></div> <div class="setting-item svelte-anx9w7"><div class="setting-info svelte-anx9w7"><label class="svelte-anx9w7">Account Type</label> <span class="setting-description svelte-anx9w7">Your current subscription plan</span></div> <div class="setting-value svelte-anx9w7"><span> </span></div></div> <!></section> <section class="settings-section svelte-anx9w7"><h2 class="svelte-anx9w7">Terminal</h2> <div class="setting-item svelte-anx9w7"><div class="setting-info svelte-anx9w7"><label for="font-size" class="svelte-anx9w7">Font Size</label> <span class="setting-description svelte-anx9w7">Terminal font size in pixels</span></div> <div class="setting-value svelte-anx9w7"><input type="number" id="font-size" min="10" max="24" class="input-sm svelte-anx9w7"/></div></div> <div class="setting-item svelte-anx9w7"><div class="setting-info svelte-anx9w7"><label for="cursor-style" class="svelte-anx9w7">Cursor Style</label> <span class="setting-description svelte-anx9w7">Terminal cursor appearance</span></div> <div class="setting-value svelte-anx9w7"><select id="cursor-style" class="select-sm svelte-anx9w7"><option class="svelte-anx9w7">Bar</option><option class="svelte-anx9w7">Block</option><option class="svelte-anx9w7">Underline</option></select></div></div> <div class="setting-item svelte-anx9w7"><div class="setting-info svelte-anx9w7"><label for="cursor-blink" class="svelte-anx9w7">Cursor Blink</label> <span class="setting-description svelte-anx9w7">Enable cursor blinking</span></div> <div class="setting-value svelte-anx9w7"><label class="toggle svelte-anx9w7"><input type="checkbox" id="cursor-blink" class="svelte-anx9w7"/> <span class="toggle-slider svelte-anx9w7"></span></label></div></div> <div class="setting-item svelte-anx9w7"><div class="setting-info svelte-anx9w7"><label for="scrollback" class="svelte-anx9w7">Scrollback Lines</label> <span class="setting-description svelte-anx9w7">Number of lines to keep in history</span></div> <div class="setting-value svelte-anx9w7"><select id="scrollback" class="select-sm svelte-anx9w7"><option class="svelte-anx9w7">1,000</option><option class="svelte-anx9w7">5,000</option><option class="svelte-anx9w7">10,000</option><option class="svelte-anx9w7">50,000</option></select></div></div> <div class="setting-item svelte-anx9w7"><div class="setting-info svelte-anx9w7"><label for="copy-on-select" class="svelte-anx9w7">Copy on Select</label> <span class="setting-description svelte-anx9w7">Automatically copy selected text</span></div> <div class="setting-value svelte-anx9w7"><label class="toggle svelte-anx9w7"><input type="checkbox" id="copy-on-select" class="svelte-anx9w7"/> <span class="toggle-slider svelte-anx9w7"></span></label></div></div></section> <section class="settings-section svelte-anx9w7"><h2 class="svelte-anx9w7">Appearance</h2> <div class="setting-item svelte-anx9w7"><div class="setting-info svelte-anx9w7"><label for="theme" class="svelte-anx9w7">Theme</label> <span class="setting-description svelte-anx9w7">Color scheme for the interface</span></div> <div class="setting-value svelte-anx9w7"><select id="theme" class="select-sm svelte-anx9w7"><option class="svelte-anx9w7">Dark</option><option class="svelte-anx9w7">Light</option></select></div></div> <div class="setting-item accent-setting svelte-anx9w7"><div class="setting-info svelte-anx9w7"><label class="svelte-anx9w7">Accent Color</label> <span class="setting-description svelte-anx9w7">Primary color for buttons, links, and highlights</span></div> <div class="setting-value accent-colors svelte-anx9w7"><div class="color-presets svelte-anx9w7"><!> <button title="Custom color"><span class="custom-icon svelte-anx9w7">+</span></button></div> <!></div></div></section> <section class="settings-section svelte-anx9w7"><h2 class="svelte-anx9w7">Security</h2> <div class="setting-item svelte-anx9w7"><div class="setting-info svelte-anx9w7"><label class="svelte-anx9w7">Screen Lock</label> <span class="setting-description svelte-anx9w7"><!></span></div> <div class="setting-value svelte-anx9w7"><!></div></div> <!> <div class="setting-item svelte-anx9w7"><div class="setting-info svelte-anx9w7"><label class="svelte-anx9w7">Single Session Mode</label> <span class="setting-description svelte-anx9w7"><!></span></div> <div class="setting-value svelte-anx9w7"><label class="toggle-switch svelte-anx9w7"><input type="checkbox" class="svelte-anx9w7"/> <span class="toggle-slider svelte-anx9w7"></span></label></div></div> <div class="setting-item svelte-anx9w7"><div class="setting-info svelte-anx9w7"><label class="svelte-anx9w7">Two-Factor Authentication</label> <span class="setting-description svelte-anx9w7"><!></span></div> <div class="setting-value svelte-anx9w7"><!></div></div> <div class="setting-item svelte-anx9w7"><div class="setting-info svelte-anx9w7"><label class="svelte-anx9w7">IP Whitelist</label> <span class="setting-description svelte-anx9w7">Restrict access to your account and API endpoints from\n                        specific IP addresses. Leave empty to allow access from\n                        any IP. All changes are logged.</span></div> <div class="setting-value svelte-anx9w7"><button class="btn btn-secondary btn-sm svelte-anx9w7">Manage IPs</button></div></div> <div class="setting-item svelte-anx9w7"><div class="setting-info svelte-anx9w7"><label class="svelte-anx9w7">Audit Logs</label> <span class="setting-description svelte-anx9w7">View security events</span></div> <div class="setting-value svelte-anx9w7"><button class="btn btn-secondary btn-sm svelte-anx9w7">View Logs</button></div></div> <div class="setting-item svelte-anx9w7"><div class="setting-info svelte-anx9w7"><label class="svelte-anx9w7">Active Sessions</label> <span class="setting-description svelte-anx9w7">Manage devices logged into your account</span></div> <div class="setting-value svelte-anx9w7"><button class="btn btn-secondary btn-sm svelte-anx9w7">Manage Sessions</button></div></div></section> <!> <div class="settings-actions svelte-anx9w7"><button class="btn btn-secondary svelte-anx9w7">Reset to Defaults</button> <button class="btn btn-primary svelte-anx9w7">Save Settings</button></div></div></div> <!> <!> <!> <!> <!> <!>',1);function ls(d,D){e(D,!1);const ls=()=>i(U,"$auth",ds),is=()=>i(V,"$isGuest",ds),os=()=>i(G,"$hasPasscode",ds),cs=()=>i(J,"$security",ds),vs=()=>i(j,"$themeStore",ds),rs=()=>i(H,"$agents",ds),[ds,ws]=C();let us=s(D,"scrollToSection",8,null);const xs=a(),ps="undefined"!=typeof window?window.location.host:"rexec.pipeops.io",bs=`${"undefined"!=typeof window?window.location.protocol:"https:"}//${ps}`;let gs="dark",ms=t(14),hs=t(!0),fs=t("bar"),ys=t(5e3),ks=t(!1),_s=t(j.getAccent()),As=t(!1),Ss=t(n(_s)),Cs=t(5),Ps=t(!1),Ls=t(""),Fs=t(""),Is=t(""),Ts=t(""),Ms=t(!1),Bs=t(!1),$s=t(!1),Es=t(""),Ds=t([]),Rs=t(!1),Os=t("intro"),Ns=t(""),js=t(""),zs=t(""),Us=t(""),Vs=t(!1),Ys=t([]),qs=t(!1),Js=t([]),Gs=t(""),Hs=t(""),Qs=t(!1),Ws=t(!1),Xs=t([]),Zs=t(!1),Ks=t(""),ea=t(!1),sa=t(""),aa=t(""),ta=t(null),na=t(!1),la=t(!1),ia=t(""),oa=t(""),ca=t(""),va=t(!1);async function ra(){if(!n(sa).trim())return void z.error("Agent name is required");const e=await H.registerAgent(n(sa).trim(),n(aa).trim());e&&(h(ta,e),h(na,!0),z.success("Agent registered successfully"))}function da(){h(ea,!1),h(sa,""),h(aa,""),h(ta,null),h(na,!1),h(la,!1)}function wa(){if(n(ta)){const e=H.getInstallScript(n(ta).id);navigator.clipboard.writeText(e),h(la,!0),z.success("Install script copied to clipboard"),setTimeout(()=>h(la,!1),2e3)}}async function ua(){try{if(localStorage.setItem("rexec_settings",JSON.stringify({theme:gs,fontSize:n(ms),cursorBlink:n(hs),cursorStyle:n(fs),scrollback:n(ys),copyOnSelect:n(ks)})),n(va)&&ls().user){const e=await U.updateProfile({username:n(ia),firstName:n(oa),lastName:n(ca),allowedIPs:ls().user.allowedIPs});if(!e.success)return void z.error(e.error||"Failed to update profile")}z.success("Settings saved")}catch(e){z.error("Failed to save settings")}}async function xa(){const e=await J.updateLockTimeout(n(Cs));e.success?z.success("Lock timeout updated"):z.error(e.error||"Failed to update lock timeout")}function pa(e){h(Ms,e),h(Ps,!0),h(Ls,""),h(Fs,""),h(Is,""),h(Ts,"")}function ba(){h(Ps,!1),h(Ls,""),h(Fs,""),h(Is,""),h(Ts,"")}async function ga(){if(h(Ts,""),!n(Ls).trim())return void h(Ts,"Please enter a passcode");if(n(Ls).length<4)return void h(Ts,"Passcode must be at least 4 characters");if(n(Ls)!==n(Fs))return void h(Ts,"Passcodes do not match");const e=await J.setPasscode(n(Ls),n(Ms)&&os()?n(Is):void 0,n(Cs));if(!e.success)return e.error&&(e.error.includes("current_passcode is required")||e.error.includes("already exists"))?(await J.refreshFromServer(),h(Ms,!0),void h(Ts,"A passcode is already set. Please enter your current passcode.")):void h(Ts,e.error||"Failed to set passcode");ba(),z.success(os()?"Passcode updated":"Screen lock passcode set")}async function ma(){if(!os())return;const e=await J.removePasscode(n(Is));e.success?(ba(),z.success("Screen lock disabled")):h(Ts,e.error||"Passcode is incorrect")}async function ha(e){h(Rs,!0),h(Us,""),h(zs,""),h(Os,"enable"===e?"intro":"disable")}async function fa(){h(Vs,!0),h(Us,"");try{const e=await fetch("/api/mfa/setup",{headers:{Authorization:`Bearer ${ls().token}`}});if(!e.ok)throw new Error("Failed to start MFA setup");const s=await e.json();h(Ns,s.secret),h(js,await N.toDataURL(s.otp_url)),h(Os,"setup")}catch(e){h(Us,e.message||"Setup failed")}finally{h(Vs,!1)}}async function ya(){if(n(zs)){h(Vs,!0),h(Us,"");try{const e=await fetch("/api/mfa/verify",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ls().token}`},body:JSON.stringify({secret:n(Ns),code:n(zs)})}),s=await e.json();if(!e.ok)throw new Error(s.error||"Verification failed");h(Ys,s.backup_codes||[]),h(Os,"backup_codes"),U.fetchProfile()}catch(e){h(Us,e.message||"Verification failed")}finally{h(Vs,!1)}}}async function ka(){if(n(zs)){h(Vs,!0),h(Us,"");try{const e=await fetch("/api/mfa/disable",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ls().token}`},body:JSON.stringify({code:n(zs)})});if(!e.ok){const s=await e.json();throw new Error(s.error||"Disable failed")}z.success("MFA Disabled"),U.fetchProfile(),h(Rs,!1)}catch(e){h(Us,e.message||"Disable failed")}finally{h(Vs,!1)}}}function _a(){n(Gs).trim()&&(/^[\d\.\/]+$/.test(n(Gs).trim())?n(Js).includes(n(Gs).trim())?h(Hs,"IP already in list"):(h(Js,[...n(Js),n(Gs).trim()]),h(Gs,""),h(Hs,"")):h(Hs,"Invalid IP format"))}async function Aa(){h(Qs,!0),h(Hs,"");try{if(!(await fetch("/api/profile",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ls().token}`},body:JSON.stringify({username:ls().user?.username,allowed_ips:n(Js)})})).ok)throw new Error("Failed to save IP whitelist");z.success("IP Whitelist Updated"),U.fetchProfile(),h(qs,!1)}catch(e){h(Hs,e.message||"Save failed")}finally{h(Qs,!1)}}async function Sa(){h(Bs,!0),h($s,!0),h(Es,"");try{const e=await fetch("/api/sessions",{headers:{Authorization:`Bearer ${ls().token}`}});if(!e.ok)throw new Error("Failed to load sessions");const s=await e.json();h(Ds,s.sessions||[])}catch(e){h(Es,e.message||"Failed to load sessions")}finally{h($s,!1)}}function Ca(){h(Bs,!1),h(Es,""),h(Ds,[])}async function Pa(){if(confirm("Revoke all other sessions?"))try{if(!(await fetch("/api/sessions/revoke-others",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ls().token}`}})).ok)throw new Error("Failed to revoke sessions");await Sa(),z.success("Other sessions revoked")}catch(e){z.error(e.message||"Failed to revoke sessions")}}l(async()=>{if(J.refreshFromServer(),is()||H.fetchAgents(),us()){await o();const e=document.getElementById(us());e&&e.scrollIntoView({behavior:"smooth",block:"start"})}}),function(){try{const e=localStorage.getItem("rexec_settings");if(e){const s=JSON.parse(e);gs=s.theme||"dark",h(ms,s.fontSize||14),h(hs,s.cursorBlink??!0),h(fs,s.cursorStyle||"bar"),h(ys,s.scrollback||5e3),h(ks,s.copyOnSelect??!1)}const s=J.getState();h(Cs,s.lockAfterMinutes)}catch(e){}}(),c(()=>(ls(),n(va)),()=>{ls().user&&!n(va)&&(h(ia,ls().user.username),h(oa,ls().user.firstName||""),h(ca,ls().user.lastName||""),h(va,!0))}),c(()=>(os(),cs(),n(Cs)),()=>{os()&&cs().lockAfterMinutes!==n(Cs)&&h(Cs,cs().lockAfterMinutes)}),v(),r();var La=ns(),Fa=w(La),Ia=u(Fa);u(Ia).__click=()=>xs("back");var Ta=p(Ia,2),Ma=u(Ta),Ba=p(u(Ma),2),$a=p(u(Ba),2),Ea=u($a),Da=p(Ba,2),Ra=p(u(Da),2),Oa=u(Ra),Na=p(Oa,2),ja=p(Da,2),za=p(u(ja),2),Ua=u(za),Va=u(Ua),Ya=p(ja,2),qa=p(u(Ya),2),Ja=u(qa),Ga=u(Ja),Ha=p(Ya,2),Qa=e=>{var s=Q(),a=u(s),t=u(a),n=u(t);Y(n,{status:"warning",size:16});var l=p(a,2);u(l).__click=()=>U.getOAuthUrl().then(e=>e&&(window.location.href=e)),A(e,s)};x(Ha,e=>{is()&&e(Qa)});var Wa=p(Ma,2),Xa=p(u(Wa),2),Za=p(u(Xa),2),Ka=u(Za),et=p(Xa,2),st=p(u(et),2),at=u(st);b(()=>{n(fs),R(()=>{})});var tt=u(at);tt.value=tt.__value="bar";var nt=p(tt);nt.value=nt.__value="block";var lt=p(nt);lt.value=lt.__value="underline";var it=p(et,2),ot=p(u(it),2),ct=u(ot),vt=u(ct),rt=p(it,2),dt=p(u(rt),2),wt=u(dt);b(()=>{n(ys),R(()=>{})});var ut=u(wt);ut.value=ut.__value=1e3;var xt=p(ut);xt.value=xt.__value=5e3;var pt=p(xt);pt.value=pt.__value=1e4;var bt=p(pt);bt.value=bt.__value=5e4;var gt=p(rt,2),mt=p(u(gt),2),ht=u(mt),ft=u(ht),yt=p(Wa,2),kt=p(u(yt),2),_t=p(u(kt),2),At=u(_t);At.__change=e=>j.setTheme(e.target.value);var St=u(At);St.value=St.__value="dark";var Ct,Pt=p(St);Pt.value=Pt.__value="light",g(At);var Lt=p(kt,2),Ft=p(u(Lt),2),It=u(Ft),Tt=u(It);m(Tt,1,()=>q,P,(e,s)=>{var a=X();let t;a.__click=()=>{h(_s,n(s).value),h(Ss,n(s).value),j.setAccent(n(s).value),h(As,!1)};var l=u(a),i=e=>{var s=W();A(e,s)};x(l,e=>{n(_s),n(s),f(()=>n(_s).toLowerCase()===n(s).value.toLowerCase())&&e(i)}),b(e=>{t=T(a,1,"color-swatch svelte-anx9w7",null,t,e),O(a,`--swatch-color: ${n(s),f(()=>n(s).value)??""}`),L(a,"title",(n(s),f(()=>n(s).name)))},[()=>({active:n(_s).toLowerCase()===n(s).value.toLowerCase()})]),A(e,a)});var Mt=p(Tt,2);let Bt;Mt.__click=()=>h(As,!n(As));var $t=p(It,2),Et=e=>{var s=Z(),a=u(s);a.__input=e=>{const s=e.target.value;h(_s,s),j.setAccent(s)};var t=p(a,2);L(t,"maxlength",7),t.__input=e=>{const s=e.target.value;/^#[0-9A-Fa-f]{6}$/.test(s)&&(h(_s,s),j.setAccent(s))},p(t,2).__click=()=>{j.resetAccent(),h(_s,q[0].value),h(Ss,q[0].value),h(As,!1)},y(a,()=>n(Ss),e=>h(Ss,e)),y(t,()=>n(Ss),e=>h(Ss,e)),A(e,s)};x($t,e=>{n(As)&&e(Et)});var Dt=p(yt,2),Rt=p(u(Dt),2),Ot=u(Rt),Nt=p(u(Ot),2),jt=u(Nt),zt=e=>{var s=F("Screen lock is enabled");A(e,s)},Ut=e=>{var s=F("Protect your session when away");A(e,s)};x(jt,e=>{os()?e(zt):e(Ut,!1)});var Vt=p(Ot,2),Yt=u(Vt),qt=e=>{var s=K();s.__click=()=>pa(!0),A(e,s)},Jt=e=>{var s=ee();s.__click=()=>pa(!1),A(e,s)};x(Yt,e=>{os()?e(qt):e(Jt,!1)});var Gt=p(Rt,2),Ht=e=>{var s=se(),a=w(s),t=p(u(a),2),l=u(t);b(()=>{n(Cs),R(()=>{})}),l.__change=xa;var i=u(l);i.value=i.__value=1;var o=p(i);o.value=o.__value=2;var c=p(o);c.value=c.__value=5;var v=p(c);v.value=v.__value=10;var r=p(v);r.value=r.__value=15;var d=p(r);d.value=d.__value=30;var x=p(a,2),g=p(u(x),2);u(g).__click=()=>{h(Ms,!1),h(Ps,!0)},k(l,()=>n(Cs),e=>h(Cs,e)),A(e,s)};x(Gt,e=>{os()&&e(Ht)});var Qt=p(Gt,2),Wt=u(Qt),Xt=p(u(Wt),2),Zt=u(Xt),Kt=e=>{var s=F("Only one active session allowed. New logins revoke\n                            previous sessions.");A(e,s)},en=e=>{var s=F("Allow multiple simultaneous sessions across devices");A(e,s)};x(Zt,e=>{cs(),f(()=>cs().singleSessionMode)?e(Kt):e(en,!1)});var sn=p(Wt,2),an=u(sn),tn=u(an);tn.__change=async e=>{const s=e.target.checked,a=await J.setSingleSessionMode(s);a.success?z.success(s?"Single session mode enabled":"Single session mode disabled"):(z.error(a.error||"Failed to update setting"),e.target.checked=!s)};var nn=p(Qt,2),ln=u(nn),on=p(u(ln),2),cn=u(on),vn=e=>{var s=F("MFA is enabled ‚Äî you can now lock individual\n                            terminals with MFA from the dashboard");A(e,s)},rn=e=>{var s=F("Add an extra layer of security. Once enabled, you\n                            can also protect individual terminals with MFA\n                            locks.");A(e,s)};x(cn,e=>{ls(),f(()=>ls().user?.mfaEnabled)?e(vn):e(rn,!1)});var dn=p(ln,2),wn=u(dn),un=e=>{var s=ae();s.__click=()=>ha("disable"),A(e,s)},xn=e=>{var s=te();s.__click=()=>ha("enable"),A(e,s)};x(wn,e=>{ls(),f(()=>ls().user?.mfaEnabled)?e(un):e(xn,!1)});var pn=p(nn,2),bn=p(u(pn),2);u(bn).__click=function(){h(Js,[...ls().user?.allowedIPs||[]]),h(qs,!0),h(Hs,""),h(Gs,"")};var gn=p(pn,2),mn=p(u(gn),2);u(mn).__click=async function(){h(Ws,!0),h(Zs,!0),h(Ks,"");try{const e=await fetch("/api/audit-logs?limit=50",{headers:{Authorization:`Bearer ${ls().token}`}});if(!e.ok)throw new Error("Failed to fetch logs");h(Xs,await e.json())}catch(e){h(Ks,e.message||"Failed to load logs")}finally{h(Zs,!1)}};var hn=p(gn,2),fn=p(u(hn),2);u(fn).__click=Sa;var yn=p(Dt,2),kn=e=>{var s=de(),a=p(u(s),4);u(a).__click=()=>h(ea,!0);var t=p(a,2),l=e=>{var s=ne();A(e,s)},i=e=>{var s=$(),a=w(s),t=e=>{var s=le(),a=p(u(s),6);u(a).__click=()=>h(ea,!0),A(e,s)},l=e=>{var s=re(),a=w(s);m(a,5,()=>(rs(),f(()=>rs().agents)),P,(e,s)=>{var a=ve();let t;var l=u(a),i=u(l),o=u(i);let c;var v=p(o,2),r=u(v),d=p(i,2),w=u(d),g=e=>{var a=ie();a.__click=()=>function(e){"online"===e.status?xs("connectAgent",{agentId:e.id,agentName:e.name}):z.error("Agent is not online")}(n(s)),A(e,a)};x(w,e=>{n(s),f(()=>"online"===n(s).status)&&e(g)}),p(w,2).__click=()=>async function(e){confirm("Are you sure you want to delete this agent?")&&(await H.deleteAgent(e)?z.success("Agent deleted"):z.error("Failed to delete agent"))}(n(s).id);var m=p(l,2),h=u(m),y=u(h),k=p(h,2),_=e=>{var a=oe(),t=u(a);b(()=>I(t,(n(s),f(()=>n(s).description)))),A(e,a)};x(k,e=>{n(s),f(()=>n(s).description)&&e(_)});var S=p(m,2),C=u(S),P=p(u(C),2),L=u(P),F=p(C,2),M=p(u(F),2),B=u(M),$=p(F,2),E=e=>{var a=ce(),t=p(u(a),2),l=u(t);b(e=>I(l,e),[()=>(n(s),f(()=>new Date(n(s).connected_at).toLocaleString()))]),A(e,a)};x($,e=>{n(s),f(()=>n(s).connected_at)&&e(E)}),b(e=>{t=T(a,1,"agent-card svelte-anx9w7",null,t,{"agent-online":"online"===n(s).status}),c=T(o,1,"status-dot svelte-anx9w7",null,c,{"status-dot-pulse":"online"===n(s).status}),O(o,`background: ${e??""}`),I(r,(n(s),f(()=>n(s).status))),I(y,(n(s),f(()=>n(s).name))),I(L,`${n(s),f(()=>n(s).distro||n(s).os||"Unknown")??""}/${n(s),f(()=>n(s).arch||"Unknown")??""}`),I(B,(n(s),f(()=>n(s).shell||"/bin/bash")))},[()=>(n(s),f(()=>function(e){switch(e){case"online":return"var(--success)";case"offline":return"var(--text-muted)";default:return"var(--warning)"}}(n(s).status)))]),A(e,a)});var t=p(a,2),l=u(t),i=p(u(l),2),o=u(i);p(i,2).__click=()=>{navigator.clipboard.writeText(`curl -sSL ${bs}/install-agent.sh | sudo bash`),z.success("Copied!")},b(()=>I(o,`curl -sSL ${bs}/install-agent.sh | sudo\n                                bash`)),A(e,s)};x(a,e=>{rs(),f(()=>0===rs().agents.length)?e(t):e(l,!1)},!0),A(e,s)};x(t,e=>{rs(),f(()=>rs().loading)?e(l):e(i,!1)}),A(e,s)};x(yn,e=>{is()||e(kn)});var _n=p(yn,2),An=u(_n);An.__click=function(){gs="dark",h(ms,14),h(hs,!0),h(fs,"bar"),h(ys,5e3),h(ks,!1),ua()},p(An,2).__click=ua;var Sn=p(Fa,2),Cn=e=>{var s=ge();s.__click=e=>e.target===e.currentTarget&&ba();var a=u(s),t=u(a),l=u(t),i=u(l),o=e=>{var s=F("Disable Screen Lock");A(e,s)},c=e=>{var s=$(),a=w(s),t=e=>{var s=F("Change Passcode");A(e,s)},n=e=>{var s=F("Set Screen Lock Passcode");A(e,s)};x(a,e=>{os()?e(t):e(n,!1)},!0),A(e,s)};x(i,e=>{os()&&!n(Ms)?e(o):e(c,!1)}),p(l,2).__click=ba;var v=p(t,2),r=u(v),d=e=>{var s=we(),a=p(u(s),2);y(a,()=>n(Is),e=>h(Is,e)),A(e,s)};x(r,e=>{os()&&e(d)});var g=p(r,2),m=e=>{var s=ue(),a=w(s),t=p(u(a),2),l=p(a,2),i=p(u(l),2);y(t,()=>n(Ls),e=>h(Ls,e)),y(i,()=>n(Fs),e=>h(Fs,e)),A(e,s)};x(g,e=>{os()&&!n(Ms)||e(m)});var f=p(g,2),k=e=>{var s=xe(),a=u(s);b(()=>I(a,n(Ts))),A(e,s)};x(f,e=>{n(Ts)&&e(k)});var _=p(v,2),S=u(_);S.__click=ba;var C=p(S,2),P=e=>{var s=pe();s.__click=ma,A(e,s)},L=e=>{var s=be();s.__click=ga;var a=u(s);b(()=>I(a,os()?"Update Passcode":"Set Passcode")),A(e,s)};x(C,e=>{os()&&!n(Ms)?e(P):e(L,!1)}),A(e,s)};x(Sn,e=>{n(Ps)&&e(Cn)});var Pn=p(Sn,2),Ln=e=>{var s=Ae();s.__click=e=>e.target===e.currentTarget&&da();var a=u(s),t=u(a),l=u(t),i=u(l);p(l,2).__click=da;var o=p(t,2),c=u(o),v=e=>{var s=fe(),a=w(s),t=p(u(a),2),l=u(t),i=p(a,2),o=u(i),c=u(o),v=p(o,2);v.__click=wa;var r=u(v),d=p(i,2),g=e=>{var s=me();A(e,s)},m=e=>{var s=he();A(e,s)};x(d,e=>{E(H),n(ta),f(()=>H.getAgentToken(n(ta).id))?e(g):e(m,!1)}),b(e=>{I(l,`Agent "${n(ta),f(()=>n(ta).name)??""}" Registered!`),I(c,e),I(r,n(la)?"Copied!":"Copy")},[()=>(E(H),n(ta),f(()=>H.getInstallScript(n(ta).id)))]),A(e,s)},r=e=>{var s=ye(),a=w(s),t=p(u(a),2),l=p(a,2),i=p(u(l),2);y(t,()=>n(sa),e=>h(sa,e)),y(i,()=>n(aa),e=>h(aa,e)),A(e,s)};x(c,e=>{n(na)&&n(ta)?e(v):e(r,!1)});var d=p(o,2),g=u(d),m=e=>{var s=ke();s.__click=da,A(e,s)},k=e=>{var s=_e(),a=w(s);a.__click=da,p(a,2).__click=ra,A(e,s)};x(g,e=>{n(na)?e(m):e(k,!1)}),b(()=>I(i,n(na)?"Install Agent":"Add New Agent")),A(e,s)};x(Pn,e=>{n(ea)&&e(Ln)});var Fn=p(Pn,2),In=e=>{var s=Re();s.__click=e=>e.target===e.currentTarget&&h(Rs,!1);var a=u(s),t=u(a);p(u(t),2).__click=()=>h(Rs,!1);var l=p(t,2),i=u(l),o=e=>{var s=Se();A(e,s)},c=e=>{var s=$(),a=w(s),t=e=>{var s=Le(),a=w(s),t=u(a),l=e=>{var s=Ce();b(()=>L(s,"src",n(js))),A(e,s)},i=e=>{var s=Pe();A(e,s)};x(t,e=>{n(js)?e(l):e(i,!1)});var o=p(a,2),c=p(u(o)),v=u(c),r=p(o,2),d=p(u(r),2);b(()=>I(v,n(Ns))),y(d,()=>n(zs),e=>h(zs,e)),A(e,s)},l=e=>{var s=$(),a=w(s),t=e=>{var s=Ie(),a=p(u(s),4);m(a,5,()=>n(Ys),P,(e,s)=>{var a=Fe(),t=u(a);b(()=>I(t,n(s))),A(e,a)}),A(e,s)},l=e=>{var s=$(),a=w(s),t=e=>{var s=Te(),a=p(w(s),2),t=p(u(a),2);y(t,()=>n(zs),e=>h(zs,e)),A(e,s)};x(a,e=>{"disable"===n(Os)&&e(t)},!0),A(e,s)};x(a,e=>{"backup_codes"===n(Os)?e(t):e(l,!1)},!0),A(e,s)};x(a,e=>{"setup"===n(Os)?e(t):e(l,!1)},!0),A(e,s)};x(i,e=>{"intro"===n(Os)?e(o):e(c,!1)});var v=p(i,2),r=e=>{var s=Me(),a=u(s);b(()=>I(a,n(Us))),A(e,s)};x(v,e=>{n(Us)&&e(r)});var d=p(l,2),g=u(d),f=e=>{var s=Be(),a=w(s);a.__click=()=>h(Rs,!1);var t=p(a,2);t.__click=fa,b(()=>t.disabled=n(Vs)),A(e,s)},k=e=>{var s=$(),a=w(s),t=e=>{var s=$e(),a=w(s);a.__click=()=>h(Rs,!1);var t=p(a,2);t.__click=ya,b(()=>t.disabled=n(Vs)||!n(zs)),A(e,s)},l=e=>{var s=$(),a=w(s),t=e=>{var s=Ee(),a=w(s);a.__click=()=>{const e=n(Ys).join("\n");navigator.clipboard.writeText(e),z.success("Backup codes copied to clipboard")};var t=p(a,2);t.__click=()=>{const e="Rexec MFA Backup Codes\n========================\nGenerated: "+(new Date).toISOString()+"\n\nEach code can only be used once.\n\n"+n(Ys).join("\n"),s=new Blob([e],{type:"text/plain"}),a=URL.createObjectURL(s),t=document.createElement("a");t.href=a,t.download="rexec-backup-codes.txt",t.click(),URL.revokeObjectURL(a),z.success("Backup codes downloaded")},p(t,2).__click=()=>{h(Rs,!1),h(Ys,[]),z.success("MFA Enabled! You can now lock terminals with MFA from your dashboard.")},A(e,s)},l=e=>{var s=$(),a=w(s),t=e=>{var s=De(),a=w(s);a.__click=()=>h(Rs,!1);var t=p(a,2);t.__click=ka,b(()=>t.disabled=n(Vs)||!n(zs)),A(e,s)};x(a,e=>{"disable"===n(Os)&&e(t)},!0),A(e,s)};x(a,e=>{"backup_codes"===n(Os)?e(t):e(l,!1)},!0),A(e,s)};x(a,e=>{"setup"===n(Os)?e(t):e(l,!1)},!0),A(e,s)};x(g,e=>{"intro"===n(Os)?e(f):e(k,!1)}),A(e,s)};x(Fn,e=>{n(Rs)&&e(In)});var Tn=p(Fn,2),Mn=e=>{var s=ze();s.__click=e=>e.target===e.currentTarget&&h(qs,!1);var a=u(s),t=u(a);p(u(t),2).__click=()=>h(qs,!1);var l=p(t,2),i=p(u(l),2),o=u(i);m(o,1,()=>n(Js),P,(e,s)=>{var a=Oe(),t=u(a),l=u(t);p(t,2).__click=()=>function(e){h(Js,n(Js).filter(s=>s!==e))}(n(s)),b(()=>I(l,n(s))),A(e,a)});var c=p(o,2),v=e=>{var s=Ne();A(e,s)};x(c,e=>{n(Js),f(()=>0===n(Js).length)&&e(v)});var r=p(i,2),d=u(r);p(d,2).__click=_a;var w=p(r,2),g=e=>{var s=je(),a=u(s);b(()=>I(a,n(Hs))),A(e,s)};x(w,e=>{n(Hs)&&e(g)});var k=p(l,2),_=u(k);_.__click=()=>h(qs,!1);var S=p(_,2);S.__click=Aa,b(()=>S.disabled=n(Qs)),y(d,()=>n(Gs),e=>h(Gs,e)),A(e,s)};x(Tn,e=>{n(qs)&&e(Mn)});var Bn=p(Tn,2),$n=e=>{var s=Ge();s.__click=e=>e.target===e.currentTarget&&h(Ws,!1);var a=u(s),t=u(a);p(u(t),2).__click=()=>h(Ws,!1);var l=p(t,2),i=u(l),o=e=>{var s=Ue();A(e,s)},c=e=>{var s=$(),a=w(s),t=e=>{var s=Ve();A(e,s)},l=e=>{var s=qe(),a=u(s),t=p(u(a));m(t,5,()=>n(Xs),P,(e,s)=>{var a=Ye(),t=u(a),l=u(t),i=p(t),o=u(i),c=p(i),v=u(c);b(e=>{I(l,(n(s),f(()=>n(s).action))),I(o,(n(s),f(()=>n(s).ip_address))),I(v,e)},[()=>(n(s),f(()=>new Date(n(s).created_at).toLocaleString()))]),A(e,a)}),A(e,s)};x(a,e=>{n(Xs),f(()=>0===n(Xs).length)?e(t):e(l,!1)},!0),A(e,s)};x(i,e=>{n(Zs)?e(o):e(c,!1)});var v=p(i,2),r=e=>{var s=Je(),a=u(s);b(()=>I(a,n(Ks))),A(e,s)};x(v,e=>{n(Ks)&&e(r)});var d=p(l,2);u(d).__click=()=>h(Ws,!1),A(e,s)};x(Bn,e=>{n(Ws)&&e($n)});var En=p(Bn,2),Dn=e=>{var s=ts();s.__click=e=>e.target===e.currentTarget&&Ca();var a=u(s),t=u(a);p(u(t),2).__click=Ca;var l=p(t,2),i=u(l),o=e=>{var s=He();A(e,s)},c=e=>{var s=$(),a=w(s),t=e=>{var s=Qe();A(e,s)},l=e=>{var s=ss();m(s,5,()=>n(Ds),e=>e.id,(e,s)=>{var a=es();let t;var l=u(a),i=u(l),o=u(i),c=p(i,2),v=u(c),r=u(v),d=p(v,4),w=u(d),g=p(d,4),m=u(g),y=p(c,2),k=e=>{var a=We(),t=u(a);b(e=>I(t,`Revoked ${e??""}`),[()=>(n(s),f(()=>new Date(n(s).revoked_at).toLocaleString()))]),A(e,a)};x(y,e=>{n(s),f(()=>n(s).revoked_at)&&e(k)});var _=p(y,2),S=e=>{var s=Xe();A(e,s)};x(_,e=>{n(s),f(()=>n(s).is_current)&&e(S)});var C=p(l,2),P=u(C),L=e=>{var a=Ze();a.__click=()=>async function(e,s){if(confirm("Revoke this session?"))try{const a=await fetch(`/api/sessions/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ls().token}`}});if(!a.ok){const e=await a.json().catch(()=>({}));throw new Error(e.error||"Failed to revoke session")}h(Ds,n(Ds).map(s=>s.id===e?{...s,revoked_at:(new Date).toISOString(),revoked_reason:"revoked_by_user"}:s)),z.success("Session revoked"),s&&U.logout()}catch(a){z.error(a.message||"Failed to revoke session")}}(n(s).id,n(s).is_current),A(e,a)},F=e=>{var s=Ke();A(e,s)};x(P,e=>{n(s),f(()=>!n(s).revoked_at)?e(L):e(F,!1)}),b((e,l)=>{t=T(a,1,"session-row svelte-anx9w7",null,t,{current:n(s).is_current}),I(o,(n(s),f(()=>n(s).user_agent||"Unknown device"))),I(r,(n(s),f(()=>n(s).ip_address||"Unknown IP"))),I(w,`Started ${e??""}`),I(m,`Last active ${l??""}`)},[()=>(n(s),f(()=>new Date(n(s).created_at).toLocaleString())),()=>(n(s),f(()=>new Date(n(s).last_seen_at).toLocaleString()))]),A(e,a)}),A(e,s)};x(a,e=>{n(Ds),f(()=>0===n(Ds).length)?e(t):e(l,!1)},!0),A(e,s)};x(i,e=>{n($s)?e(o):e(c,!1)});var v=p(i,2),r=e=>{var s=as(),a=u(s);b(()=>I(a,n(Es))),A(e,s)};x(v,e=>{n(Es)&&e(r)});var d=p(l,2),g=u(d);g.__click=Pa,p(g,2).__click=Ca,b(()=>g.disabled=(n($s),n(Ds),f(()=>n($s)||0===n(Ds).length))),A(e,s)};x(En,e=>{n(Bs)&&e(Dn)}),b((e,s)=>{I(Va,(ls(),f(()=>ls().user?.email||"Not set"))),T(Ja,1,`tier-badge tier-${ls(),f(()=>ls().user?.tier||"free")??""}`,"svelte-anx9w7"),I(Ga,e),Ct!==(Ct=vs())&&(At.value=(At.__value=vs())??"",M(At,vs())),Bt=T(Mt,1,"color-swatch custom-swatch svelte-anx9w7",null,Bt,s),B(tn,(cs(),f(()=>cs().singleSessionMode)))},[()=>(ls(),f(()=>ls().user?.tier?.toUpperCase()||"FREE")),()=>({active:n(As)||!q.some(e=>e.value.toLowerCase()===n(_s).toLowerCase())})]),y(Ea,()=>n(ia),e=>h(ia,e)),y(Oa,()=>n(oa),e=>h(oa,e)),y(Na,()=>n(ca),e=>h(ca,e)),y(Ka,()=>n(ms),e=>h(ms,e)),k(at,()=>n(fs),e=>h(fs,e)),_(vt,()=>n(hs),e=>h(hs,e)),k(wt,()=>n(ys),e=>h(ys,e)),_(ft,()=>n(ks),e=>h(ks,e)),A(d,La),S(),ws()}D(["click","change","input"]);export{ls as default};
